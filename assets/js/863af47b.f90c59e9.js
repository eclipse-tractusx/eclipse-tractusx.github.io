"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[29768],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>u});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),d=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},p=function(t){var e=d(t.components);return n.createElement(s.Provider,{value:e},t.children)},c="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},h=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,s=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),c=d(a),h=r,u=c["".concat(s,".").concat(h)]||c[h]||m[h]||i;return a?n.createElement(u,l(l({ref:e},p),{},{components:a})):n.createElement(u,l({ref:e},p))}));function u(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,l=new Array(i);l[0]=h;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o[c]="string"==typeof t?t:r,l[1]=o;for(var d=2;d<i;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},20928:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const i={title:"Development View"},l=void 0,o={unversionedId:"kits/Eco_Pass_KIT/page-software-development-view",id:"kits/Eco_Pass_KIT/page-software-development-view",title:"Development View",description:"EcoPass KIT Pictotogram",source:"@site/docs-kits/kits/Eco_Pass_KIT/page-software-development-view.md",sourceDirName:"kits/Eco_Pass_KIT",slug:"/kits/Eco_Pass_KIT/page-software-development-view",permalink:"/docs-kits/next/kits/Eco_Pass_KIT/page-software-development-view",draft:!1,tags:[],version:"current",frontMatter:{title:"Development View"},sidebar:"kits",previous:{title:"Adoption View",permalink:"/docs-kits/next/kits/Eco_Pass_KIT/page-adoption-view"},next:{title:"Operation View",permalink:"/docs-kits/next/kits/Eco_Pass_KIT/Operation View EcoPass Kit"}},s={},d=[{value:"Introduction",id:"introduction",level:2},{value:"General Development Information",id:"general-development-information",level:3},{value:"Architecture Overview",id:"architecture-overview",level:3},{value:"Data Retrieval Flow",id:"data-retrieval-flow",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"1. Discovery Phase",id:"1-discovery-phase",level:3},{value:"2. Digital Twin Registry Search Phase",id:"2-digital-twin-registry-search-phase",level:3},{value:"3. Digital Twin Search Phase",id:"3-digital-twin-search-phase",level:3},{value:"4. Data Negotiation and Transfer Phase",id:"4-data-negotiation-and-transfer-phase",level:3},{value:"Technical Detailed Phases",id:"technical-detailed-phases",level:2},{value:"1. Discovery Phase + 2. Digital Twin Registry Search Phase",id:"1-discovery-phase--2-digital-twin-registry-search-phase",level:2},{value:"Prerequisites for Discovery Phase + Digital Twin Registry Search API",id:"prerequisites-for-discovery-phase--digital-twin-registry-search-api",level:3},{value:"Sequence Diagram",id:"sequence-diagram",level:3},{value:"3. Digital Twin Search Phase Details",id:"3-digital-twin-search-phase-details",level:2},{value:"Prerequisites for Digital Twin Search API",id:"prerequisites-for-digital-twin-search-api",level:3},{value:"4. Data Negotiation and Transfer Phase Details",id:"4-data-negotiation-and-transfer-phase-details",level:2},{value:"Prerequisites for Negotiate and Transfer API",id:"prerequisites-for-negotiate-and-transfer-api",level:3},{value:"Sequence Diagram for Negotiate and Transfer",id:"sequence-diagram-for-negotiate-and-transfer",level:3},{value:"Authentication and Authorization",id:"authentication-and-authorization",level:2},{value:"API Specification",id:"api-specification",level:2},{value:"Open API specification",id:"open-api-specification",level:3},{value:"EcoPass APIs",id:"ecopass-apis",level:3},{value:"Parameters",id:"parameters",level:4},{value:"/api/contract/create",id:"apicontractcreate",level:5},{value:"/api/contract/search",id:"apicontractsearch",level:5},{value:"/api/contract/agree",id:"apicontractagree",level:5},{value:"/api/contract/decline",id:"apicontractdecline",level:5},{value:"/api/contract/cancel",id:"apicontractcancel",level:5},{value:"/api/contract/status/{processId}",id:"apicontractstatusprocessid",level:5},{value:"/api/data",id:"apidata",level:5},{value:"External API calls",id:"external-api-calls",level:4},{value:"Reference Implementations",id:"reference-implementations",level:2},{value:"Documentation in the context development",id:"documentation-in-the-context-development",level:3},{value:"Attachments",id:"attachments",level:2},{value:"AAS 3.0 Digital Twin Example",id:"aas-30-digital-twin-example",level:3},{value:"Contract Example",id:"contract-example",level:3},{value:"NOTICE",id:"notice",level:2}],p={toc:d};function c(t){let{components:e,...i}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,i,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"EcoPass KIT Pictotogram",src:a(50200).Z,width:"286",height:"244"})),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("h3",{id:"general-development-information"},"General Development Information"),(0,r.kt)("p",null,"The developer view provides developers with resources to utilize the EcoPass KIT effectively. On the one side developers can learn how to integrate the EcoPass KIT into their applications and to make use of the product passport exchanging feature via the Catena-X network. On the other side, IT-Administrators will learn how to provide the needed passport data and which components are required.\nThereby, this KIT covers various aspects, starting from how the available API Endpoints can be utilized for data models and how to make them available in the Catena-x Data Space."),(0,r.kt)("h3",{id:"architecture-overview"},"Architecture Overview"),(0,r.kt)("p",null,"The following Figure shows how the EcoPass KIT (represented by Digital Product Passport Frontend and Backend) is embedded in the overall architecture."),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:a(6783).Z},(0,r.kt)("img",{alt:"EcoPassKIT IT Arch Picture",src:a(31428).Z,width:"1603",height:"913"}))),(0,r.kt)("h2",{id:"data-retrieval-flow"},"Data Retrieval Flow"),(0,r.kt)("p",null,"In order to achieve a better understanding of the EcoPass KIT data retrieval flow, we can detail a specific example where an user wants to retrieve a specific passport for a asset in Catena-X using the EcoPass KIT (reference implementation ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass"},(0,r.kt)("inlineCode",{parentName:"a"},"digital-product-pass")),")."),(0,r.kt)("p",null,"In the data retrieval flow example below we will imagine that an user wants to retrieve the data related to a Catena-X Digital Product Pass ID he has in his product as form of QR Code and ID:"),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:a(16785).Z},(0,r.kt)("img",{alt:"Sequence Diagramm",src:a(70480).Z,width:"1751",height:"987"}))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ID"),(0,r.kt)("th",{parentName:"tr",align:null},"CX:XYZ78901:IMR18650V1")))),(0,r.kt)("p",null,"As defined in the standard CX-0096 Triangle Document for Digital Product Pass the search id used has the following semantic:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},"\nCX:<manufacturerPartId>:<partInstanceId>\n\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"CX")),(0,r.kt)("td",{parentName:"tr",align:null},'The "',(0,r.kt)("strong",{parentName:"td"},"CX"),'" argument is the one that indicates that this ID is a Catena-X Search Identificator.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<manufacturerPartId>")),(0,r.kt)("td",{parentName:"tr",align:null},'The "',(0,r.kt)("strong",{parentName:"td"},"manufacturerPartId"),'" makes reference to the id type of the product. It is the identification the manufacturer gives to a specific part he produced.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"<partInstanceId>")),(0,r.kt)("td",{parentName:"tr",align:null},'The "',(0,r.kt)("strong",{parentName:"td"},"partInstanceId"),'" stands to the specific id of the product. This id needs to be registered in the digital twin from the aspect. An example value in case of batteries would be the ',(0,r.kt)("em",{parentName:"td"},"batteryDMC_Code"),".")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("em",{parentName:"p"},"Note"),": This identifications as defined in the standard MUST be added to the Digital Twin. For more information consult the ",(0,r.kt)("a",{parentName:"p",href:"/docs-kits/next/kits/Eco_Pass_KIT/Operation%20View%20EcoPass%20Kit"},"Operation View Guide"),".")),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,'In order to retrieve data in the Catena-X Network a number of services need to be available and have data register on them. Otherwise the data retrieval would simply not work because the consumer application would not "find" the specific searched asset even if it would be registered in the provider side.'),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Service Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Reference Implementation"),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"th",href:"https://catena-x.net/de/standard-library"},"Standardized in")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Discovery Finder"),(0,r.kt)("td",{parentName:"tr",align:null},"A microservice resolving a type of identifiers against a set of BPN-Discovery Servers.  Responsible to give the search endpoints for a type of id"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/sldt-discovery-finder"},"eclipse-tractusx/sldt-discovery-finder")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0053")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPN Discovery"),(0,r.kt)("td",{parentName:"tr",align:null},"A microservice resolving a particular assetId against the registered BPN of its owner. Responsible for indicating the BPNs for the IDs registered by the providers"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/sldt-bpn-discovery"},"eclipse-tractusx/sldt-bpn-discover")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0053")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EDC Discovery"),(0,r.kt)("td",{parentName:"tr",align:null},"A microservice that resolves a BPN against an EDC endpoint. Responsible for giving the EDC endpoints of one or more BPNs"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/portal-backend"},"eclipse-tractusx/portal-backend")," - ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/portal-backend/blob/aca855c857aed309cbca03f4f694283629197110/src/administration/Administration.Service/Controllers/ConnectorsController.cs#L178C1-L190C63"},"Code Implementation")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0001")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Digital Twin Registry"),(0,r.kt)("td",{parentName:"tr",align:null},"An exhaustive list of all Submodel Servers, with link to their assets, adhering to the AAS Registry API. Responsible for having the Digital Twins of the provider and indicating the endpoints to the Passport Aspects."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/sldt-digital-twin-registry"},"eclipse-tractusx/sldt-digital-twin-registry")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Submodel Server"),(0,r.kt)("td",{parentName:"tr",align:null},"The data source adhering to a subset of the Submodel API as defined in AAS Part-2 3.0. Where the Passport Aspects are stored"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/FraunhoferIOSB/FAAAST-Service"},"FA\xb3ST-Framework"),", ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-basyx/basyx-java-sdk"},"Eclipse Basyx"),", ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/admin-shell-io/aasx-server"},"AASX Server")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EDC"),(0,r.kt)("td",{parentName:"tr",align:null},"Main gateaway to the network. In this use case two EDC need be existing, one connected to the Digital Product Pass (EcoPass KIT) ","[EDC Consumer]"," and another to the Provider Catena-X components ","[EDC Provider]"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/tractusx-edc"},"eclipse-tractusx/tractusx-edc")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0018")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Digital Product Pass"),(0,r.kt)("td",{parentName:"tr",align:null},"The ","[",(0,r.kt)("strong",{parentName:"td"},"EcoPass KIT"),"]"," reference implementation. The application responsible for retrieving the passports and interacting with the services listed above."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/digital-product-pass"},"eclipse-tractusx/digital-product-pass")),(0,r.kt)("td",{parentName:"tr",align:null},"CX - 0096")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("em",{parentName:"p"},"Note"),": The diagrams match the architecture proposed in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass"},"Digital Product Pass")," reference implementation ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass/blob/main/docs/arc42/Arc42.md"},"Arc42")," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass/blob/main/docs/data%20retrieval%20guide/Data%20Retrieval%20Guide.md"},"Data Retrieval Guide"),". Using the discovery services from Catena-X")),(0,r.kt)("p",null,"Here is a diagram of the data retrial flow necessary to retrieve any data from the Catena-X Network without any optimizations:"),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:a(99631).Z},(0,r.kt)("img",{alt:"Data Retrieval Flow",src:a(99085).Z}))),(0,r.kt)("h3",{id:"1-discovery-phase"},"1. Discovery Phase"),(0,r.kt)("p",null,"At the beginning we start calling the ",(0,r.kt)("inlineCode",{parentName:"p"},"Discovery Service")," which is responsible for giving us the urls from the ",(0,r.kt)("inlineCode",{parentName:"p"},"BPN Discovery")," and the ",(0,r.kt)("inlineCode",{parentName:"p"},"EDC Discovery")," this two service give us first a ",(0,r.kt)("inlineCode",{parentName:"p"},"BPN or Business Partner Number")," for a specific ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," and the ",(0,r.kt)("inlineCode",{parentName:"p"},"EDC Discovery")," will give you a list of EDC registered by one company's ",(0,r.kt)("inlineCode",{parentName:"p"},"BPN"),"."),(0,r.kt)("h3",{id:"2-digital-twin-registry-search-phase"},"2. Digital Twin Registry Search Phase"),(0,r.kt)("p",null,"Once we have a list of ",(0,r.kt)("inlineCode",{parentName:"p"},"EDCs")," we need to find which of this EDCs contain the ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Twin Registry")," component. We can filter which ",(0,r.kt)("inlineCode",{parentName:"p"},"EDCs")," contain the ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Twin Registry")," by simply calling for the catalog with the ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," condition of the contract that must have the ",(0,r.kt)("inlineCode",{parentName:"p"},"data.core.digitalTwinRegistry")," standardized type."),(0,r.kt)("p",null,"Once we have the list of DTRs we need to negotiate each contract retrieve in the catalog so that we can have the ",(0,r.kt)("inlineCode",{parentName:"p"},"Contract Agreement Id")," which is given by the EDC once the contact is signed and agreed. This id will be used later to request the transfer for the ",(0,r.kt)("inlineCode",{parentName:"p"},"EDR")," token for accessing the ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Twin Registry")," through the ",(0,r.kt)("inlineCode",{parentName:"p"},"EDC Provider Data Plane Proxy"),"."),(0,r.kt)("h3",{id:"3-digital-twin-search-phase"},"3. Digital Twin Search Phase"),(0,r.kt)("p",null,"We need to search for the ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Twins")," inside of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Twin Registries"),", and once we found it we can start the negotiation for the ",(0,r.kt)("inlineCode",{parentName:"p"},"submodelDescriptor")," we are searching for that can be for example a: ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Product Pass"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Battery Pass"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Single Level BOM as Built")," or a ",(0,r.kt)("inlineCode",{parentName:"p"},"Transmission Pass"),"."),(0,r.kt)("h3",{id:"4-data-negotiation-and-transfer-phase"},"4. Data Negotiation and Transfer Phase"),(0,r.kt)("p",null,"Once we have the submodel we are going to call the ","[",(0,r.kt)("inlineCode",{parentName:"p"},"subprotocolBody"),"]"," url of the ",(0,r.kt)("inlineCode",{parentName:"p"},"endpoint interface")," with name ",(0,r.kt)("inlineCode",{parentName:"p"},"SUBMODEL-3.0"),". This will provide for us the asset id to negotiate with the EDC Provider. Once this asset is negotiated we will request for the ",(0,r.kt)("inlineCode",{parentName:"p"},"transfer")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"EDR")," token will be sent to the backend by the EDC Provider, allowing us to query the dataplane url contained in the ",(0,r.kt)("inlineCode",{parentName:"p"},"href")," field of the endpoint interface. And in this way we will retrieve the data using the ",(0,r.kt)("inlineCode",{parentName:"p"},"EDC Provider Data Plane Proxy"),"."),(0,r.kt)("h2",{id:"technical-detailed-phases"},"Technical Detailed Phases"),(0,r.kt)("h2",{id:"1-discovery-phase--2-digital-twin-registry-search-phase"},"1. Discovery Phase + 2. Digital Twin Registry Search Phase"),(0,r.kt)("p",null,"At the discovery phase the digital product pass application (EcoPass KIT) will search in the Discovery Service for the following keys:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Key"),(0,r.kt)("th",{parentName:"tr",align:null},"Service Name"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bpn"),(0,r.kt)("td",{parentName:"tr",align:null},"EDC Discovery Service")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"manufacturerPartId"),(0,r.kt)("td",{parentName:"tr",align:null},"BPN Discovery Service")))),(0,r.kt)("p",null,"By searching for this keys the application will find the necessary services and will be able to search for the information needed to start the search for digital twin registries."),(0,r.kt)("p",null,"After the discovery phase, the search for digital twin registries is one of the core phases to be done when retrieving data in Catena-X. It is necessary for filtering the EDCs which contain the digital twin registry assets, allowing an optimized search without high waiting times."),(0,r.kt)("p",null,"Once the negotiation for the digital twin registries assets are done we would be able to retrieve a catalog for the user to search the serialized Id (key: partInstanceId, example value: batteryDMC_code)."),(0,r.kt)("h3",{id:"prerequisites-for-discovery-phase--digital-twin-registry-search-api"},"Prerequisites for Discovery Phase + Digital Twin Registry Search API"),(0,r.kt)("p",null,"The following information is required to enable the decentralized search for digital twin registries:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Search Id Type"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"manufacturerPartId")),(0,r.kt)("td",{parentName:"tr",align:null},"The search id type is required first of all to know in which ",(0,r.kt)("inlineCode",{parentName:"td"},"BPN Discovery")," services to search. After this same id will be introduced in the ",(0,r.kt)("inlineCode",{parentName:"td"},"Discovery Service")," and we will obtain a list of ",(0,r.kt)("inlineCode",{parentName:"td"},"BPN Discovery Endpoints"),". After this same id will be introduce as the ",(0,r.kt)("em",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"em"},"type"))," attribute in each ",(0,r.kt)("inlineCode",{parentName:"td"},"BPN Discovery"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Search Id Value"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"XYZ78901")),(0,r.kt)("td",{parentName:"tr",align:null},"The search id value is required for searching in the ",(0,r.kt)("inlineCode",{parentName:"td"},"BPN Discovery")," services. One example could be the ",(0,r.kt)("inlineCode",{parentName:"td"},"product type id")," of a company, which is owned by an unique ",(0,r.kt)("inlineCode",{parentName:"td"},"BPN")," reducing the complexity of the search.")))),(0,r.kt)("h3",{id:"sequence-diagram"},"Sequence Diagram"),(0,r.kt)("p",null,"This sequence diagram represents the digital twin search and the discovery phases. For more information ",(0,r.kt)("a",{parentName:"p",href:"#2-digital-twin-registry-search-phase"},"go to explanation"),"\n",(0,r.kt)("a",{target:"_blank",href:a(16785).Z},(0,r.kt)("img",{alt:"Sequence Diagram",src:a(70480).Z,width:"1751",height:"987"}))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NOTE"),": For learning how to register the assets and the digital twin registry and operate the EcoPass KIT visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs-kits/next/kits/Eco_Pass_KIT/Operation%20View%20EcoPass%20Kit"},"Operation View"))),(0,r.kt)("h2",{id:"3-digital-twin-search-phase-details"},"3. Digital Twin Search Phase Details"),(0,r.kt)("p",null,'The digital twin searching phase involves searching in every digital twin registry for the desired digital twin asset. In this digital twin we will find the necessary information for requesting the contract information for the "digital twin submodels".'),(0,r.kt)("h3",{id:"prerequisites-for-digital-twin-search-api"},"Prerequisites for Digital Twin Search API"),(0,r.kt)("p",null,"The following information is required for enabling the digital twin search, in order to start the data transfer phase:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Specific Asset Id Type"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"partInstanceId")),(0,r.kt)("td",{parentName:"tr",align:null},"The specific asset id type is used to search in the ",(0,r.kt)("inlineCode",{parentName:"td"},"digital twin registry")," for a specific digital twin. It is basically the ",(0,r.kt)("inlineCode",{parentName:"td"},"name"),' of  "specificAssetId" object located at the ',(0,r.kt)("a",{parentName:"td",href:"#aas-30-digital-twin-example"},(0,r.kt)("inlineCode",{parentName:"a"},"digital twin"))," ",(0,r.kt)("inlineCode",{parentName:"td"},"specificAssetIds")," property. The ",(0,r.kt)("inlineCode",{parentName:"td"},"*partInstanceId*")," is used as an example most of the time, since the digital twin registry implemented a hotfix that allows companies say who can access to their ",(0,r.kt)("inlineCode",{parentName:"td"},"partInstanceId")," fields. Now allowing the ",(0,r.kt)("em",{parentName:"td"},'"PUBLIC_READABLE"')," property.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Specific Asset Id Type"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"IMR18650V1")),(0,r.kt)("td",{parentName:"tr",align:null},"The specific asset id value is added in the ",(0,r.kt)("inlineCode",{parentName:"td"},"digital twin lookup")," when calling the ",(0,r.kt)("inlineCode",{parentName:"td"},"EDC Provider Proxy"),". It basically points to the value of the ",(0,r.kt)("em",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"em"},"Specific Asset Id Type"))," property.")))),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:a(86735).Z},(0,r.kt)("img",{alt:"Digital Twin Search",src:a(55692).Z,width:"1697",height:"845"}))),(0,r.kt)("h2",{id:"4-data-negotiation-and-transfer-phase-details"},"4. Data Negotiation and Transfer Phase Details"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Data Negotiation and Transfer Phase")," is the phase responsible for the final data transfer and negotiation. In this phase we retrieve the data using the EDC."),(0,r.kt)("h3",{id:"prerequisites-for-negotiate-and-transfer-api"},"Prerequisites for Negotiate and Transfer API"),(0,r.kt)("p",null,"The following information is required for enabling the digital twin search, in order to start the data transfer phase:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Contract with Policy"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#contract-example"},"Contract Example")),(0,r.kt)("td",{parentName:"tr",align:null},"To start the contract negotiation we need to agree on a policy for the a specific contract. This needs to be selected by the one that is requesting the data.")))),(0,r.kt)("h3",{id:"sequence-diagram-for-negotiate-and-transfer"},"Sequence Diagram for Negotiate and Transfer"),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:a(68658).Z},(0,r.kt)("img",{alt:"Negotiation and Transfer",src:a(6475).Z,width:"1835",height:"1012"}))),(0,r.kt)("h2",{id:"authentication-and-authorization"},"Authentication and Authorization"),(0,r.kt)("p",null,"The authentication is administrated by the ",(0,r.kt)("inlineCode",{parentName:"p"},"IAM Services")," from the Portal defined in the CX - 0001 Standard"),(0,r.kt)("p",null,"The backend APIs are authenticated by using a ",(0,r.kt)("inlineCode",{parentName:"p"},"JWT Token")," in the request as ",(0,r.kt)("inlineCode",{parentName:"p"},"Bearer")," token. The frontend is responsible for obtaining this token in the portal federated IAM."),(0,r.kt)("p",null,"The EcoPass KIT has two authorization methods:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Authorization Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Portal Roles"),(0,r.kt)("td",{parentName:"tr",align:null},'Each digital product pass application contains an specific "AppId" provided by the portal in the Marketplace registration. And this Id shall be added to the configuration of the DPP Application in order to authenticate the user. If the end user contains any role added in the portal it will have access to the application if enabled.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Business Partner Number (BPN)"),(0,r.kt)("td",{parentName:"tr",align:null},'The digital product pass application contains a check for the "BPN" of the end user. An option is also to allow the user to login if he is belonging to the company of the configured "EDC" so no user can act in name of a specific company.')))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"NOTE"),": The authorization can be configured in the EcoPass KIT configuration so that it matches the business interests of the operator.")),(0,r.kt)("p",null,"For more information on how the Authentication & Authorization is done consult the reference implementation ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass/blob/main/docs/arc42/Arc42.md#authentication--authorization"},(0,r.kt)("inlineCode",{parentName:"a"},"Digital Product Pass Arc42"))),(0,r.kt)("h2",{id:"api-specification"},"API Specification"),(0,r.kt)("h3",{id:"open-api-specification"},"Open API specification"),(0,r.kt)("p",null,"The Digital Product Pass / EcoPass KIT Open API specification is available at the swagger hub from Tractus-X:"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://app.swaggerhub.com/apis/eclipse-tractusx-bot/digital-product-pass/2.1.3"},"https://app.swaggerhub.com/apis/eclipse-tractusx-bot/digital-product-pass/2.1.3")),(0,r.kt)("h3",{id:"ecopass-apis"},"EcoPass APIs"),(0,r.kt)("p",null,"The APIs below are the ones contained in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Digital Product Pass Backend")," reference implementation. Which can be reused for retrieving aspects from the Catena-X Network."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"API"),(0,r.kt)("th",{parentName:"tr",align:null},"Method"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Parameters"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/contract/create")),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"The ",(0,r.kt)("inlineCode",{parentName:"td"},"/api/contract/create")," api is responsible for calling the ",(0,r.kt)("inlineCode",{parentName:"td"},"BPN Discovery")," service searching for the BPN of a ",(0,r.kt)("inlineCode",{parentName:"td"},"manufacturerPartId")," and validating if there is any ",(0,r.kt)("inlineCode",{parentName:"td"},"Decentral Digital Twin Registry")," available for the BPN number found in the ",(0,r.kt)("inlineCode",{parentName:"td"},"EDC Discovery")," service."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apicontractcreate"},"Go to Params"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/contract/search")),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"At the ",(0,r.kt)("strong",{parentName:"td"},"/api/contract/search"),"  API the user can search for a serialized Id and get its contract. The ",(0,r.kt)("inlineCode",{parentName:"td"},"Backend")," will search for the Digital Twin and will return the contract for the first one that is found. A ",(0,r.kt)("inlineCode",{parentName:"td"},"sign token"),' (a sha256 hash) is returned also and acts like a "session token" allowing just the user that created the process to sign or decline the contract.'),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apicontractsearch"},"Go to Params"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/contract/agree")),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"Once the user has the contract he can call the ",(0,r.kt)("inlineCode",{parentName:"td"},"/api/contract/agree")," API to start the negotiation process and the transfer of the passport. This means that the user accepted the policy and the frame-contracts contained in the contract policy."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apicontractagree"},"Go to Params"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/contract/decline")),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"The other option rather than ",(0,r.kt)("inlineCode",{parentName:"td"},"/agree")," is the ",(0,r.kt)("inlineCode",{parentName:"td"},"/decline")," API, that basically blocks the process and makes it invalid. This means that the user declined the specific contract that was found for this process."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apicontractdecline"},"Go to Params"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/contract/cancel")),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"The user can use ",(0,r.kt)("inlineCode",{parentName:"td"},"/cancel")," to interrupt the negotiation process once it is signed by mistake if is the case. It will be only valid until the negotiation is made."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apicontractcancel"},"Go to Params"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/contract/status/",(0,r.kt)("inlineCode",{parentName:"strong"},"<processId>"))),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},"After the user signs the contract he can use the ",(0,r.kt)("inlineCode",{parentName:"td"},"/status")," API to get the process status and see when it is ready to retrieve the passport using the API ",(0,r.kt)("inlineCode",{parentName:"td"},"/data"),"."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apicontractstatusprocessid"},"Go to Params"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"/api/data")),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"The API ",(0,r.kt)("inlineCode",{parentName:"td"},"/data"),' will decrypt the passport file that is encrypted using the session token "sign token", and will delete the file so that it is returned just once to the user and can not be accessed anymore. So a new passport will be always need to be requested.'),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#apidata"},"Go to Params"))))),(0,r.kt)("h4",{id:"parameters"},"Parameters"),(0,r.kt)("h5",{id:"apicontractcreate"},"/api/contract/create"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"id"),(0,r.kt)("td",{parentName:"tr",align:null},"searchIdValue"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"type"),(0,r.kt)("td",{parentName:"tr",align:null},"searchIdTypeName"),(0,r.kt)("td",{parentName:"tr",align:null},"manufacturerPartId")))),(0,r.kt)("h5",{id:"apicontractsearch"},"/api/contract/search"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"id"),(0,r.kt)("td",{parentName:"tr",align:null},"serializedIdValue"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"idType"),(0,r.kt)("td",{parentName:"tr",align:null},"serializedIdTypeName"),(0,r.kt)("td",{parentName:"tr",align:null},"partInstanceId")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processId"),(0,r.kt)("td",{parentName:"tr",align:null},"processIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")))),(0,r.kt)("h5",{id:"apicontractagree"},"/api/contract/agree"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processId"),(0,r.kt)("td",{parentName:"tr",align:null},"processIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"contractId"),(0,r.kt)("td",{parentName:"tr",align:null},"contractIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"policyId"),(0,r.kt)("td",{parentName:"tr",align:null},"policyIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"If no policyId is specified then the first policy of the contract will be taken")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"token"),(0,r.kt)("td",{parentName:"tr",align:null},"searchSessionToken"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")))),(0,r.kt)("h5",{id:"apicontractdecline"},"/api/contract/decline"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processId"),(0,r.kt)("td",{parentName:"tr",align:null},"processIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"token"),(0,r.kt)("td",{parentName:"tr",align:null},"searchSessionToken"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")))),(0,r.kt)("h5",{id:"apicontractcancel"},"/api/contract/cancel"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processId"),(0,r.kt)("td",{parentName:"tr",align:null},"processIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"contractId"),(0,r.kt)("td",{parentName:"tr",align:null},"contractIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"token"),(0,r.kt)("td",{parentName:"tr",align:null},"searchSessionToken"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")))),(0,r.kt)("h5",{id:"apicontractstatusprocessid"},"/api/contract/status/{processId}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processId"),(0,r.kt)("td",{parentName:"tr",align:null},"processIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")))),(0,r.kt)("h5",{id:"apidata"},"/api/data"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Value Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Mandatory or Optional Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"processId"),(0,r.kt)("td",{parentName:"tr",align:null},"processIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"contractId"),(0,r.kt)("td",{parentName:"tr",align:null},"contractIdentification"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"token"),(0,r.kt)("td",{parentName:"tr",align:null},"searchSessionToken"),(0,r.kt)("td",{parentName:"tr",align:null},"[REQUIRED]")))),(0,r.kt)("h4",{id:"external-api-calls"},"External API calls"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Service"),(0,r.kt)("th",{parentName:"tr",align:null},"Method"),(0,r.kt)("th",{parentName:"tr",align:null},"Path"),(0,r.kt)("th",{parentName:"tr",align:null},"Params"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Discovery Service ","[CX-0053]"),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"/api/administration/connectors/discovery/search"),(0,r.kt)("td",{parentName:"tr",align:null},"key:manufacturerPartId (BPN Discovery) & key:bpn (EDC Discovery)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPN Discovery Service ","[CX-0053]"),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"/api/administration/connectors/bpnDiscovery/search"),(0,r.kt)("td",{parentName:"tr",align:null},"key:manufacturerPartId")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"EDC Discovery Service ","[CX-0001]"),(0,r.kt)("td",{parentName:"tr",align:null},"POST"),(0,r.kt)("td",{parentName:"tr",align:null},"/api/administration/connectors/discovery/search"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{[<Company's BPNL>]}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Digital Twin Registry ","[CX-0002]"),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},"/lookup/shells"),(0,r.kt)("td",{parentName:"tr",align:null},"key:partInstanceID, value: batteryDMC-Code or Product Identification Code")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Digital Twin Registry ","[CX-0002]"),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},"/shell-descriptors/{digitalTwinId}"),(0,r.kt)("td",{parentName:"tr",align:null},"key:partInstanceID, value: batteryDMC-Code or Product Identification Code")))),(0,r.kt)("h2",{id:"reference-implementations"},"Reference Implementations"),(0,r.kt)("p",null,"A reference implementation and a corresponding documentation can be found ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass/tree/main"},"here"),"."),(0,r.kt)("p",null,"This reference includes a frontend and a backend allowing users to look up and display Battery Passport assets.\nThe Helm charts of this reference implementation are located ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/digital-product-pass/tree/main/charts/digital-product-pass"},"here"),"."),(0,r.kt)("h3",{id:"documentation-in-the-context-development"},"Documentation in the context development"),(0,r.kt)("p",null,"The following represents a collection of relevant documentation regarding the presented adaptation and all related services:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/eclipse-edc/Connector/blob/main/docs/developer/architecture/domain-model.md"},"EDC Domain Model"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/eclipse-tractusx/digital-product-pass/"},"Reference Implementation:"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/eclipse-tractusx/digital-product-pass/blob/main/docs/arc42/Arc42.md"},"Arc42 (Main Architecture Document)")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://github.com/eclipse-tractusx/digital-product-pass/blob/main/docs/data%20retrieval%20guide/DataRetrievalGuide.md"},"CX Data Retrieval Guide"))))),(0,r.kt)("h2",{id:"attachments"},"Attachments"),(0,r.kt)("h3",{id:"aas-30-digital-twin-example"},"AAS 3.0 Digital Twin Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "description": [\n      {\n          "language": "en",\n          "text": "Battery Digital Twin"\n      }\n  ],\n  "displayName": [],\n  "globalAssetId": "urn:uuid:efcb5f8d-f31c-4b1f-b090-9c878054554d",\n  "idShort": "Battery_BAT-XYZ789",\n  "id": "urn:uuid:3d050cd8-cdc7-4d65-9f37-70a65d5f53f5",\n  "specificAssetIds": [\n      {\n          "name": "manufacturerPartId",\n          "value": "XYZ78901",\n          "externalSubjectId": {\n              "type": "ExternalReference",\n              "keys": [\n                  {\n                      "type": "GlobalReference",\n                      "value": "BPNL000000000000"\n                  },\n                  {\n                      "type": "GlobalReference",\n                      "value": "PUBLIC_READABLE"\n                  }\n              ]\n          }\n      },\n      {\n          "name": "partInstanceId",\n          "value": "BAT-XYZ789",\n          "externalSubjectId": {\n              "type": "ExternalReference",\n              "keys": [\n                  {\n                      "type": "GlobalReference",\n                      "value": "BPNL000000000000"\n                  }\n              ]\n          }\n      }\n  ],\n  "submodelDescriptors": [\n      {\n          "endpoints": [\n              {\n                  "interface": "SUBMODEL-3.0",\n                  "protocolInformation": {\n                      "href": "https://<edc-dataplane-url>/<data-path>/urn:uuid:1ea64f49-8b2b-4cd2-818e-cf9d452c6fea",\n                      "endpointProtocol": "HTTP",\n                      "endpointProtocolVersion": [\n                          "1.1"\n                      ],\n                      "subprotocol": "DSP",\n                      "subprotocolBody": "id=urn:uuid:3e4a5957-f226-478a-ab18-79ced49d6195;dspEndpoint=<edc-url>",\n                      "subprotocolBodyEncoding": "plain",\n                      "securityAttributes": [\n                          {\n                              "type": "NONE",\n                              "key": "NONE",\n                              "value": "NONE"\n                          }\n                      ]\n                  }\n              }\n          ],\n          "idShort": "SerialPart",\n          "id": "urn:uuid:1ea64f49-8b2b-4cd2-818e-cf9d452c6fea",\n          "semanticId": {\n              "type": "ExternalReference",\n              "keys": [\n                  {\n                      "type": "Submodel",\n                      "value": "urn:bamm:io.catenax.serial_part:1.0.1#SerialPart"\n                  }\n              ]\n          },\n          "description": [],\n          "displayName": []\n      },\n      {\n          "endpoints": [\n              {\n                  "interface": "SUBMODEL-3.0",\n                  "protocolInformation": {\n                      "href": "https://<edc-dataplane-url>/<data-path>/urn:uuid:09d5d8a9-9073-47b6-93c6-80caff176dca",\n                      "endpointProtocol": "HTTP",\n                      "endpointProtocolVersion": [\n                          "1.1"\n                      ],\n                      "subprotocol": "DSP",\n                      "subprotocolBody": "id=urn:uuid:3e4a5957-f226-478a-ab18-79ced49d6195;dspEndpoint=<edc-url>",\n                      "subprotocolBodyEncoding": "plain",\n                      "securityAttributes": [\n                          {\n                              "type": "NONE",\n                              "key": "NONE",\n                              "value": "NONE"\n                          }\n                      ]\n                  }\n              }\n          ],\n          "idShort": "singleLevelBomAsBuilt",\n          "id": "urn:uuid:09d5d8a9-9073-47b6-93c6-80caff176dca",\n          "semanticId": {\n              "type": "ExternalReference",\n              "keys": [\n                  {\n                      "type": "Submodel",\n                      "value": "urn:bamm:io.catenax.single_level_bom_as_built:1.0.0#SingleLevelBomAsBuilt"\n                  }\n              ]\n          },\n          "description": [],\n          "displayName": []\n      },\n      {\n          "endpoints": [\n              {\n                  "interface": "SUBMODEL-3.0",\n                  "protocolInformation": {\n                      "href": "https://<edc-dataplane-url>/<data-path>/api/public/data/urn:uuid:777a3f0a-6d29-4fcd-81ea-1c27c1b870cc",\n                      "endpointProtocol": "HTTP",\n                      "endpointProtocolVersion": [\n                          "1.1"\n                      ],\n                      "subprotocol": "DSP",\n                      "subprotocolBody": "id=urn:uuid:3e4a5957-f226-478a-ab18-79ced49d6195;dspEndpoint=<edc-url>",\n                      "subprotocolBodyEncoding": "plain",\n                      "securityAttributes": [\n                          {\n                              "type": "NONE",\n                              "key": "NONE",\n                              "value": "NONE"\n                          }\n                      ]\n                  }\n              }\n          ],\n          "idShort": "digitalProductPass",\n          "id": "urn:uuid:777a3f0a-6d29-4fcd-81ea-1c27c1b870cc",\n          "semanticId": {\n              "type": "ExternalReference",\n              "keys": [\n                  {\n                      "type": "Submodel",\n                      "value": "urn:bamm:io.catenax.generic.digital_product_passport:1.0.0#DigitalProductPassport"\n                  }\n              ]\n          },\n          "description": [\n              {\n                  "language": "en",\n                  "text": "Digital Product Passport Submodel"\n              }\n          ],\n          "displayName": []\n      }\n  ]\n}\n\n')),(0,r.kt)("h3",{id:"contract-example"},"Contract Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "@id": "registry-asset",\n    "@type": "dcat:Dataset",\n    "odrl:hasPolicy": {\n        "@id": "ZGVmYXVsdC1jb250cmFjdC1kZWZpbml0aW9u:cmVnaXN0cnktYXNzZXQ=:MTIxMjYzMzgtYzhkMC00MGQ4LTkxYWMtZmY2ZTY0ZTQ5ZmM0",\n        "@type": "odrl:Set",\n        "odrl:permission": [],\n        "odrl:prohibition": [],\n        "odrl:obligation": [],\n        "odrl:target": "registry-asset"\n    },\n    "dcat:distribution": [\n        {\n            "@type": "dcat:Distribution",\n            "dct:format": {\n                "@id": "HttpProxy"\n            },\n            "dcat:accessService": "bc491229-1b41-49a9-9101-a430a4907e6e"\n        },\n        {\n            "@type": "dcat:Distribution",\n            "dct:format": {\n                "@id": "AmazonS3"\n            },\n            "dcat:accessService": "bc491229-1b41-49a9-9101-a430a4907e6e"\n        }\n    ],\n    "edc:type": "data.core.digitalTwinRegistry",\n    "edc:description": "Digital Twin Registry for DPP",\n    "edc:id": "registry-asset",\n    "edc:contenttype": "application/json"\n}\n\n')),(0,r.kt)("h2",{id:"notice"},"NOTICE"),(0,r.kt)("p",null,"This work is licensed under the ",(0,r.kt)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by/4.0/legalcode"},"CC-BY-4.0"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SPDX-License-Identifier: CC-BY-4.0"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 ZF Friedrichshafen AG"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 Robert Bosch GmbH"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 Bayerische Motoren Werke Aktiengesellschaft (BMW AG)"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 T-Systems International GmbH"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 SAP SE"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 CGI Deutschland B.V. & Co. KG"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 Fraunhofer-Gesellschaft zur F\xf6rderung der angewandten Forschung e.V. f\xfcr ihre Institute IPK und IPK"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 BASF SE"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 Henkel AG & Co. KGaA"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023, 2024 Contributors to the Eclipse Foundation"),(0,r.kt)("li",{parentName:"ul"},"Source URL: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/eclipse-tractusx/digital-product-pass"},"https://github.com/eclipse-tractusx/digital-product-pass"))))}c.isMDXComponent=!0},99631:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/files/dataRetrievalFlow-e02d9aed59f5a05eec9ad6c473b52d2e.svg"},16785:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/files/developmentview-sequence-diagramm-6ad9515bc33ef94cb28a88246e398047.svg"},6783:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/files/ecoPassContext-3962994c13ca0dfb8bed97b65aaa94d4.svg"},68658:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/files/ecoPassNegotiationAndTransferSequence-fa1bd7d340c8502fe99b1b6ddbf24bb6.svg"},86735:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/files/ecoPassSearchSequence-6b008257e62dbcd035da0b3d2c4022e7.svg"},99085:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/dataRetrievalFlow-e02d9aed59f5a05eec9ad6c473b52d2e.svg"},70480:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/developmentview-sequence-diagramm-6ad9515bc33ef94cb28a88246e398047.svg"},31428:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/ecoPassContext-3962994c13ca0dfb8bed97b65aaa94d4.svg"},6475:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/ecoPassNegotiationAndTransferSequence-fa1bd7d340c8502fe99b1b6ddbf24bb6.svg"},55692:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/ecoPassSearchSequence-6b008257e62dbcd035da0b3d2c4022e7.svg"},50200:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/EcoPassKIT_pictogram-c10be7cbc798564014a5a3a07308f88a.png"}}]);
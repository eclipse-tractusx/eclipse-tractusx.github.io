"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[51839],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(a),h=i,m=u["".concat(o,".").concat(h)]||u[h]||d[h]||r;return a?n.createElement(m,s(s({ref:t},c),{},{components:a})):n.createElement(m,s({ref:t},c))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=h;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[u]="string"==typeof e?e:i,s[1]=l;for(var p=2;p<r;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},27267:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(87462),i=(a(67294),a(3905));const r={id:"Operation View",title:"Operation View",description:"Data Chain Kit",sidebar_position:2},s=void 0,l={unversionedId:"kits/Data Chain Kit/Operation View",id:"kits/Data Chain Kit/Operation View",title:"Operation View",description:"Data Chain Kit",source:"@site/docs-kits/kits/Data Chain Kit/page_software-operation-view.md",sourceDirName:"kits/Data Chain Kit",slug:"/kits/Data Chain Kit/Operation View",permalink:"/docs-kits/next/kits/Data Chain Kit/Operation View",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"Operation View",title:"Operation View",description:"Data Chain Kit",sidebar_position:2},sidebar:"kits",previous:{title:"Adoption View",permalink:"/docs-kits/next/kits/Data Chain Kit/Adoption View Data Chain Kit"},next:{title:"Specification",permalink:"/docs-kits/next/kits/Data Chain Kit/Software Development View/Specification"}},o={},p=[{value:"Data Chain KIT",id:"data-chain-kit",level:3},{value:"Local deployment of IRS with minimum dependencies setup",id:"local-deployment-of-irs-with-minimum-dependencies-setup",level:2},{value:"Step 1: Prerequisites",id:"step-1-prerequisites",level:3},{value:"Step 2: Update and build the irs-helm chart",id:"step-2-update-and-build-the-irs-helm-chart",level:3},{value:"Step 3: Installing the IRS",id:"step-3-installing-the-irs",level:3},{value:"1. Start the cluster",id:"1-start-the-cluster",level:4},{value:"1.1 Get the Status of the deployment",id:"11-get-the-status-of-the-deployment",level:5},{value:"2. Forward Ports",id:"2-forward-ports",level:4},{value:"Testing the Item Relationship Service",id:"testing-the-item-relationship-service",level:2},{value:"Valid Global Asset Ids for testing",id:"valid-global-asset-ids-for-testing",level:3},{value:"Valid test requests for testing",id:"valid-test-requests-for-testing",level:3}],c={toc:p};function u(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Datachain kit banner",src:a(62870).Z,width:"285",height:"244"})),(0,i.kt)("h3",{id:"data-chain-kit"},"Data Chain KIT"),(0,i.kt)("h2",{id:"local-deployment-of-irs-with-minimum-dependencies-setup"},"Local deployment of IRS with minimum dependencies setup"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Please note that this demo is currently based on IRS version 4.5.0"))),(0,i.kt)("h3",{id:"step-1-prerequisites"},"Step 1: Prerequisites"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker")," is installed and the Docker deamon is running with at least 8GB of memory"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://helm.sh/docs/intro/install/"},"helm")," is installed"),(0,i.kt)("li",{parentName:"ol"},"Any Kubernetes cluster is installed and running, eg. ",(0,i.kt)("a",{parentName:"li",href:"https://minikube.sigs.k8s.io/docs/start/"},"Minikube")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/tasks/tools/"},"kubectl")," is installed")),(0,i.kt)("h3",{id:"step-2-update-and-build-the-irs-helm-chart"},"Step 2: Update and build the irs-helm chart"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},">$ helm dependency build\n")),(0,i.kt)("p",null,"You should see console output with messages like below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'Hang tight while we grab the latest from your chart repositories...\n...Successfully got an update from the "irs" chart repository\n...Successfully got an update from the "tractusx-dev" chart repository\n...Successfully got an update from the "prometheus-community" chart repository\nUpdate Complete. \u2388Happy Helming!\u2388\nSaving 1 charts\nDownloading irs-helm from repo https://eclipse-tractusx.github.io/item-relationship-service\nDeleting outdated charts\n')),(0,i.kt)("p",null,"Please note that irs repository has to be added to helm repo list"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},">$ helm repo add irs https://eclipse-tractusx.github.io/item-relationship-service\n>$ helm repo list\nNAME                    URL\nirs                     https://eclipse-tractusx.github.io/item-relationship-service\n")),(0,i.kt)("h3",{id:"step-3-installing-the-irs"},"Step 3: Installing the IRS"),(0,i.kt)("h4",{id:"1-start-the-cluster"},"1. Start the cluster"),(0,i.kt)("p",null,"To deploy IRS on kubernetes with helm run"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},">$ helm install irs-local .\n")),(0,i.kt)("h5",{id:"11-get-the-status-of-the-deployment"},"1.1 Get the Status of the deployment"),(0,i.kt)("p",null,"Helm can give you feedback on the release status:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},">$ helm list\nNAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                   APP VERSION\nirs-local       default         1               2024-02-26 11:36:46.399546 +0100 CET    deployed        irs-helm-local-6.14.0   4.5.0\n")),(0,i.kt)("p",null,"Kubectl can give you feedback on how the status of the deployment currently is, there should be two pods deployed - IRS and Minio:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},">$ kubectl get pods\nNAME                                 READY   STATUS    RESTARTS      AGE\nirs-local-minio-7cc78d8985-qggrx     1/1     Running   0             10m\nirs-local-irs-helm-c84f98ffb-zg59z   1/1     Running   0             10m\n\n")),(0,i.kt)("h4",{id:"2-forward-ports"},"2. Forward Ports"),(0,i.kt)("p",null,"When the deployment has been finished please use the command to forward the port:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},">$  kubectl port-forward svc/irs-local-irs-helm 8080:8080\n")),(0,i.kt)("p",null,"After that you can access the Swagger UI page:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"IRS Swagger:")," ",(0,i.kt)("a",{parentName:"li",href:"http://localhost:8080/api/swagger-ui/index.html"},"http://localhost:8080/api/swagger-ui/index.html"))),(0,i.kt)("h2",{id:"testing-the-item-relationship-service"},"Testing the Item Relationship Service"),(0,i.kt)("p",null,"You can use any approach to access exposed by IRS API endpoints, for example mentioned above Swagger UI page. There is also prepared Insomnia collection with example calls to IRS, see ",(0,i.kt)("a",{parentName:"p",href:"../../testing/IRS_Request_Collection.json"},"IRS_Request_Collection.json")),(0,i.kt)("h3",{id:"valid-global-asset-ids-for-testing"},"Valid Global Asset Ids for testing"),(0,i.kt)("p",null,"IRS is loading with mocked data from Testdata file, see ",(0,i.kt)("a",{parentName:"p",href:"../../../irs-models/src/main/resources/test_data/CX_Testdata.json"},"CX_Testdata.json")),(0,i.kt)("h3",{id:"valid-test-requests-for-testing"},"Valid test requests for testing"),(0,i.kt)("p",null,"You can use these snippets for testing purposes."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "bomLifecycle": "asBuilt",\n  "lookupBPNs": true,\n  "direction": "downward",\n  "depth": 10,\n  "auditContractNegotiation": false,\n  "key": {\n    "globalAssetId": "urn:uuid:951f1ebf-ebcf-427c-8a4d-7fe1f67c8d58",\n    "bpn": "BPNL00000003B0Q0"\n  }\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "aspects": [\n    "SerialPart"\n  ],\n  "depth": 1,\n  "key": {\n    "globalAssetId": "urn:uuid:951f1ebf-ebcf-427c-8a4d-7fe1f67c8d58",\n    "bpn": "BPNL00000003B0Q0"\n  }\n}\n')))}u.isMDXComponent=!0},62870:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DataChainKitIcon-9d971977caa3b7d5d469e64e2ee02dc7.png"}}]);
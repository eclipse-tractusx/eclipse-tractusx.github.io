"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[80364],{2722:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"kits/data-chain-kit/operation-view","title":"Operation View","description":"Data Chain Kit","source":"@site/docs-kits_versioned_docs/version-25.03/kits/data-chain-kit/software-operation-view.md","sourceDirName":"kits/data-chain-kit","slug":"/kits/data-chain-kit/operation-view","permalink":"/docs-kits/kits/data-chain-kit/operation-view","draft":false,"unlisted":false,"tags":[],"version":"25.03","sidebarPosition":2,"frontMatter":{"id":"operation-view","title":"Operation View","description":"Data Chain Kit","sidebar_position":2},"sidebar":"kits","previous":{"title":"Adoption View","permalink":"/docs-kits/kits/data-chain-kit/adoption-view"},"next":{"title":"Specification","permalink":"/docs-kits/kits/data-chain-kit/software-development-view/"}}');var n=s(74848),a=s(28453);const l={id:"operation-view",title:"Operation View",description:"Data Chain Kit",sidebar_position:2},r=void 0,o={},d=[{value:"Data Chain KIT",id:"data-chain-kit",level:3},{value:"Local deployment of IRS with minimum dependencies setup",id:"local-deployment-of-irs-with-minimum-dependencies-setup",level:2},{value:"Step 1: Prerequisites",id:"step-1-prerequisites",level:3},{value:"Step 2: Add the IRS helm repository",id:"step-2-add-the-irs-helm-repository",level:3},{value:"Step 3: Installing the IRS",id:"step-3-installing-the-irs",level:3},{value:"1. Start the cluster",id:"1-start-the-cluster",level:4},{value:"1.1 Get the Status of the deployment",id:"11-get-the-status-of-the-deployment",level:5},{value:"2. Forward Ports",id:"2-forward-ports",level:4},{value:"Testing the Item Relationship Service",id:"testing-the-item-relationship-service",level:2},{value:"Valid Global Asset Ids for testing",id:"valid-global-asset-ids-for-testing",level:3},{value:"Valid test requests for testing",id:"valid-test-requests-for-testing",level:3}];function c(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Datachain kit banner",src:s(65972).A+"",width:"264",height:"245"})}),"\n",(0,n.jsx)(t.h3,{id:"data-chain-kit",children:"Data Chain KIT"}),"\n",(0,n.jsx)(t.h2,{id:"local-deployment-of-irs-with-minimum-dependencies-setup",children:"Local deployment of IRS with minimum dependencies setup"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Please note that this demo is currently based on IRS version 5.4.0"})}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"step-1-prerequisites",children:"Step 1: Prerequisites"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})," is installed and the Docker deamon is running with at least 8GB of\nmemory"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://helm.sh/docs/intro/install/",children:"helm"})," is installed"]}),"\n",(0,n.jsxs)(t.li,{children:["Any Kubernetes cluster is installed and running, eg. ",(0,n.jsx)(t.a,{href:"https://minikube.sigs.k8s.io/docs/start/",children:"Minikube"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://kubernetes.io/docs/tasks/tools/",children:"kubectl"})," is installed"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"step-2-add-the-irs-helm-repository",children:"Step 2: Add the IRS helm repository"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"helm repo add irs https://eclipse-tractusx.github.io/item-relationship-service\n"})}),"\n",(0,n.jsx)(t.h3,{id:"step-3-installing-the-irs",children:"Step 3: Installing the IRS"}),"\n",(0,n.jsx)(t.h4,{id:"1-start-the-cluster",children:"1. Start the cluster"}),"\n",(0,n.jsx)(t.p,{children:"To deploy IRS on kubernetes with helm run"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"helm install irs-local irs/item-relationship-service -f your-values.yaml\n"})}),"\n",(0,n.jsx)(t.h5,{id:"11-get-the-status-of-the-deployment",children:"1.1 Get the Status of the deployment"}),"\n",(0,n.jsx)(t.p,{children:"Helm can give you feedback on the release status:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"helm list\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"NAME            NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                           APP VERSION\nirs-local       default         1               2024-08-01 10:24:46.8811785 +0200 CEST  deployed        item-relationship-service-7.4.0 5.4.0\n"})}),"\n",(0,n.jsx)(t.p,{children:"Kubectl can give you feedback on how the status of the deployment currently is, there should be two pods deployed - IRS\nand Minio:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"kubectl get pods\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"NAME                                                   READY   STATUS    RESTARTS   AGE\nirs-local-item-relationship-service-5bdcd5854d-gq976   1/1     Running   0          47s\nirs-local-minio-6f6c58cfbd-j8jkg                       1/1     Running   0          47s\n"})}),"\n",(0,n.jsx)(t.h4,{id:"2-forward-ports",children:"2. Forward Ports"}),"\n",(0,n.jsx)(t.p,{children:"When the deployment has been finished please use the command to forward the port:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"kubectl port-forward svc/irs-local-item-relationship-service 8080:8080\n"})}),"\n",(0,n.jsx)(t.p,{children:"After that you can access the Swagger UI page:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"IRS Swagger:"})," ",(0,n.jsx)(t.a,{href:"http://localhost:8080/api/swagger-ui/index.html",children:"http://localhost:8080/api/swagger-ui/index.html"})]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"testing-the-item-relationship-service",children:"Testing the Item Relationship Service"}),"\n",(0,n.jsxs)(t.p,{children:["You can use any approach to access exposed by IRS API endpoints, for example mentioned above Swagger UI page. There is\nalso prepared Insomnia collection with example calls to IRS,\nsee ",(0,n.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/item-relationship-service/blob/5.4.0/local/testing/request-collection/IRS_Request_Collection.json",children:"IRS_Request_Collection.json"})]}),"\n",(0,n.jsx)(t.h3,{id:"valid-global-asset-ids-for-testing",children:"Valid Global Asset Ids for testing"}),"\n",(0,n.jsxs)(t.p,{children:["IRS is loading with mocked data from Testdata file,\nsee ",(0,n.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/item-relationship-service/blob/5.4.0/irs-models/src/main/resources/test_data/CX_Testdata.json",children:"CX_Testdata.json"})]}),"\n",(0,n.jsx)(t.h3,{id:"valid-test-requests-for-testing",children:"Valid test requests for testing"}),"\n",(0,n.jsx)(t.p,{children:"You can use these snippets for testing purposes."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "bomLifecycle": "asBuilt",\n  "direction": "downward",\n  "depth": 10,\n  "auditContractNegotiation": false,\n  "key": {\n    "globalAssetId": "urn:uuid:951f1ebf-ebcf-427c-8a4d-7fe1f67c8d58",\n    "bpn": "BPNL00000003B0Q0"\n  }\n}\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "aspects": [\n    "urn:samm:io.catenax.serial_part:3.0.0#SerialPart"\n  ],\n  "depth": 1,\n  "key": {\n    "globalAssetId": "urn:uuid:951f1ebf-ebcf-427c-8a4d-7fe1f67c8d58",\n    "bpn": "BPNL00000003B0Q0"\n  }\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>r});var i=s(96540);const n={},a=i.createContext(n);function l(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(a.Provider,{value:t},e.children)}},65972:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/data-chain-kit-logo-9c6dbcc0d774800d678a17029d37cab7.svg"}}]);
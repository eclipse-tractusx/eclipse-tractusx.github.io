"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[6191],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(a),h=r,m=p["".concat(l,".").concat(h)]||p[h]||u[h]||i;return a?n.createElement(m,o(o({ref:t},c),{},{components:a})):n.createElement(m,o({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,o[1]=s;for(var d=2;d<i;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},62302:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const i={id:"bpdm_arc42",title:"Architecture documentation (arc42)",description:"Architecture documentation (arc42)",sidebar_position:1},o=void 0,s={unversionedId:"kits/Business Partner Kit/Documentation BPDM/bpdm_arc42",id:"version-24.03/kits/Business Partner Kit/Documentation BPDM/bpdm_arc42",title:"Architecture documentation (arc42)",description:"Architecture documentation (arc42)",source:"@site/docs-kits_versioned_docs/version-24.03/kits/Business Partner Kit/Documentation BPDM/bpdm_arc42.md",sourceDirName:"kits/Business Partner Kit/Documentation BPDM",slug:"/kits/Business Partner Kit/Documentation BPDM/bpdm_arc42",permalink:"/docs-kits/kits/Business Partner Kit/Documentation BPDM/bpdm_arc42",draft:!1,tags:[],version:"24.03",sidebarPosition:1,frontMatter:{id:"bpdm_arc42",title:"Architecture documentation (arc42)",description:"Architecture documentation (arc42)",sidebar_position:1},sidebar:"kits",previous:{title:"Architecture View",permalink:"/docs-kits/category/architecture-view"},next:{title:"Certificate Management KIT",permalink:"/docs-kits/category/certificate-management-kit"}},l={},d=[{value:"Business Partner KIT",id:"business-partner-kit",level:2},{value:"Business Partner Data Management Application for Golden Record (BPDM)",id:"business-partner-data-management-application-for-golden-record-bpdm",level:2},{value:"Introduction and Goals",id:"introduction-and-goals",level:2},{value:"Goals Overview",id:"goals-overview",level:2},{value:"Requirements Overview",id:"requirements-overview",level:2},{value:"Quality Goals",id:"quality goals",level:2},{value:"Stakeholders",id:"stakeholders",level:2},{value:"Architecture Constraints",id:"architecture-constraints",level:2},{value:"System Scope and Context",id:"system-scope-and-context",level:2},{value:"Business Context",id:"business-context",level:2},{value:"<strong>Master Data Management (Catena-X Member)</strong>",id:"master-data-management-catena-x-member",level:3},{value:"<strong>Small-Medium-Enterprises (SME) (Catena-X Member)</strong>",id:"small-medium-enterprises-sme-catena-x-member",level:3},{value:"<strong>Catena-X Portal/Marketplace (CX Portal)</strong>",id:"catena-x-portalmarketplace-cx-portal",level:3},{value:"<strong>Value Added Services</strong>",id:"value-added-services",level:3},{value:"<strong>Catena-X Operative Environment for BPDM</strong>",id:"catena-x-operative-environment-for-bpdm",level:3},{value:"<strong>Catena-X BPDM Application</strong>",id:"catena-x-bpdm-application",level:3},{value:"<strong>Curation &amp; Enrichment Services</strong>",id:"curation--enrichment-services",level:3},{value:"Technical Context",id:"technical-context",level:2},{value:"Solution Strategy (High Level Picture)",id:"solution-strategy-high-level-picture",level:2},{value:"<strong>BPDM Gate</strong>",id:"bpdm-gate",level:3},{value:"<strong>BPDM Pool</strong>",id:"bpdm-pool",level:3},{value:"<strong>BPN Issuer</strong>",id:"bpn-issuer",level:3},{value:"<strong>BPDM Orchestrator</strong>",id:"bpdm-orchestrator",level:3},{value:"Building Block View",id:"building-block-view",level:2},{value:"High-Level Architecture (L/S/A Endpoints)",id:"high-level-architecture-lsa-endpoints",level:3},{value:"High-Level Architecture (Generic Endpoint)",id:"high-level-architecture-generic-endpoint",level:3},{value:"<strong>Simulator Service</strong>",id:"simulator-service",level:4},{value:"<strong>EDC Operator</strong>",id:"edc-operator",level:4},{value:"<strong>SME</strong>",id:"sme",level:4},{value:"Keycloak Authentication &amp; Autorization Flow",id:"keycloak-authentication--autorization-flow",level:2},{value:"Runtime View",id:"runtime-view",level:2},{value:"Upload Business Partner (BPN-L)",id:"upload-business-partner-bpn-l",level:3},{value:"Upsert Generic Business Partner",id:"upsert-generic-business-partner",level:3},{value:"Update on Golden Record Change",id:"update-on-golden-record-change",level:3},{value:"Business Partner Data Records - States",id:"business-partner-data-records---states",level:2},{value:"Automatically executing golden record process",id:"automatically-executing-golden-record-process",level:3},{value:"Manually triggering golden record process",id:"manually-triggering-golden-record-process",level:3},{value:"Deployment View",id:"deployment-view",level:2},{value:"Applications Deployment without Kubernetes",id:"applications-deployment-without-kubernetes",level:3},{value:"Single Application Kubernetes Deployment",id:"single-application-kubernetes-deployment",level:3},{value:"Crosscutting Concepts",id:"crosscutting-concepts",level:2},{value:"Business Partner Data Management Standards",id:"business-partner-data-management-standards",level:3},{value:"Logging Behavior",id:"logging-behavior",level:3},{value:"Architecture Decisions",id:"architecture-decisions",level:2},{value:"Quality Requirements",id:"quality-requirements",level:2},{value:"Risks and Technical Debts",id:"risks-and-technical-debts",level:2},{value:"<strong>Open EDC Questions</strong>",id:"open-edc-questions",level:3},{value:"<strong>Semantic Model and SSI Integration of the Golden Record</strong>",id:"semantic-model-and-ssi-integration-of-the-golden-record",level:3},{value:"<strong>Dependency on third party service provider</strong>",id:"dependency-on-third-party-service-provider",level:3},{value:"<strong>Data Storage and anonymize concept</strong>",id:"data-storage-and-anonymize-concept",level:3},{value:"<strong>Accessability for SMEs</strong>",id:"accessability-for-smes",level:3},{value:"Glossary",id:"glossary",level:2},{value:"NOTICE",id:"notice",level:2}],c={toc:d};function p(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Business partner kit banner",src:a(20140).Z,width:"285",height:"244"})),(0,r.kt)("h2",{id:"business-partner-kit"},"Business Partner KIT"),(0,r.kt)("h2",{id:"business-partner-data-management-application-for-golden-record-bpdm"},"Business Partner Data Management Application for Golden Record (BPDM)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#business-partner-data-management-application-for-golden-record-bpdm"},"Business Partner Data Management Application for Golden Record (BPDM)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#introduction-and-goals"},"Introduction and Goals"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#goals-overview"},"Goals Overview")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#requirements-overview"},"Requirements Overview")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#quality-goals-quality-goals"},"Quality Goals {#","_","quality","_","goals}")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#stakeholders"},"Stakeholders")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#architecture-constraints"},"Architecture Constraints")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#system-scope-and-context"},"System Scope and Context"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#business-context"},"Business Context")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#technical-context"},"Technical Context")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#solution-strategy-high-level-picture"},"Solution Strategy (High Level Picture)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#building-block-view"},"Building Block View"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#high-level-architecture-lsa-endpoints"},"High-Level Architecture (L/S/A Endpoints)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#high-level-architecture-generic-endpoint"},"High-Level Architecture (Generic Endpoint)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#keycloak-authentication--autorization-flow"},"Keycloak Authentication \\& Autorization Flow")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#runtime-view"},"Runtime View"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#upload-business-partner-bpn-l"},"Upload Business Partner (BPN-L)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#upsert-generic-business-partner"},"Upsert Generic Business Partner")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#update-on-golden-record-change"},"Update on Golden Record Change")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#business-partner-data-records---states"},"Business Partner Data Records - States"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#automatically-executing-golden-record-process"},"Automatically executing golden record process")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#manually-triggering-golden-record-process"},"Manually triggering golden record process")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#deployment-view"},"Deployment View"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#applications-deployment-without-kubernetes"},"Applications Deployment without Kubernetes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#single-application-kubernetes-deployment"},"Single Application Kubernetes Deployment")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#crosscutting-concepts"},"Crosscutting Concepts"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#business-partner-data-management-standards"},"Business Partner Data Management Standards")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#logging-behavior"},"Logging Behavior")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#architecture-decisions"},"Architecture Decisions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#quality-requirements"},"Quality Requirements")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#risks-and-technical-debts"},"Risks and Technical Debts")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#glossary"},"Glossary"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#notice"},"NOTICE"))))),(0,r.kt)("h2",{id:"introduction-and-goals"},"Introduction and Goals"),(0,r.kt)("p",null,"This document describes the Catena-X Business Partner Data Management Application, short BPDM."),(0,r.kt)("p",null,"In the Catena-X Automotive Network, the so-called Golden Record, together with a unique identifier, the Business Partner Number (BPN), creates an efficient solution to the increasing data retention costs."),(0,r.kt)("p",null,'The Golden Record is a concept that identifies, links and harmonizes identical data on legal entites, sites and addresses from different sources (\u201csharing members"). During the creation of the Golden Record data, duplicates are removed, the quality within the data records is improved, missing information is added and deviations are automatically corrected. This is done using public, commercial or other agreed sources of trust and/or information. This approach reduces costs of business partner data maintenance and validation for all the companies concerned.'),(0,r.kt)("p",null,"The BPN, as the unique identifier of the Golden Record, can be stored as a verifiable credential used in an SSI solution so that a business partner can provide it for authentication and authorization."),(0,r.kt)("p",null,"The Golden Record business partner data in combination with the BPN acts as the basis for a range of supplementary value-added services to optimize business partner data management. These are referred to as value-added services. Together with decentralized, self-determined identity management, they create a global, cross-industry standard for business partner data and a possible 360\xb0 view of the value chain."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"[!NOTE]","\nA Business Partner Data cleaning as well as Golden Record Creation Process is ",(0,r.kt)("strong",{parentName:"p"},"not")," part of this reference implementation!")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Additional Information Material"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Visit BPDM on the official Catena-X Website: ",(0,r.kt)("a",{parentName:"li",href:"https://catena-x.net/en/offers-standards/bpdm"},"bpdm_catenax_website"))),(0,r.kt)("h2",{id:"goals-overview"},"Goals Overview"),(0,r.kt)("p",null,"The following goals have been established for this system:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Priority"),(0,r.kt)("th",{parentName:"tr",align:null},"Goal"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide unique global business partner IDs within the Catena-X Network")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide centralized Master Data Management for business partner data")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"Enable network-based data sharing for business partner data to increase overall data quality and reliability")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"Enable also Small and medium-sized Businesses (SMEs) to use the services")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide a change history f\xfcr business partner data")))),(0,r.kt)("h2",{id:"requirements-overview"},"Requirements Overview"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"[!IMPORTANT]","\n",(0,r.kt)("strong",{parentName:"p"},"Cross-Check with CACs"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"bpdm_usecase_diagram",src:a(77497).Z,width:"641",height:"601"})),(0,r.kt)("p",null,"The following Usecases together with its requirements exist for this system:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Req-Id"),(0,r.kt)("th",{parentName:"tr",align:null},"Requirement"),(0,r.kt)("th",{parentName:"tr",align:null},"Explanation"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPDM-R1"),(0,r.kt)("td",{parentName:"tr",align:null},"Upload and curate BP data"),(0,r.kt)("td",{parentName:"tr",align:null},"CX Member can upload their business partner and get curated business partner information back, based on the Golden Record")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPDM-R2"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide changelog for BP"),(0,r.kt)("td",{parentName:"tr",align:null},"A changelog is provided to determine which changes on which date are available")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPDM-R3"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide GR"),(0,r.kt)("td",{parentName:"tr",align:null},"Based on the shared business partner information and external service providers a Golden Record is created")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPDM-R4"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide changelog for GR"),(0,r.kt)("td",{parentName:"tr",align:null},"A changelog is provided to determine which changes on which date are available")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPDM-R5"),(0,r.kt)("td",{parentName:"tr",align:null},"Keep GR up-to-date based on external resources"),(0,r.kt)("td",{parentName:"tr",align:null},"Golden Records must regularly checked for changes based on external resources")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"BPDM-R6"),(0,r.kt)("td",{parentName:"tr",align:null},"Provide unique business partner IDs"),(0,r.kt)("td",{parentName:"tr",align:null},"For each Golden Record a unique ID, the so called Business Partner Number (BPN) is created")))),(0,r.kt)("h2",{id:"quality goals"},"Quality Goals"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Priority"),(0,r.kt)("th",{parentName:"tr",align:null},"Quality Goal"),(0,r.kt)("th",{parentName:"tr",align:null},"Scenario"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Security"),(0,r.kt)("td",{parentName:"tr",align:null},"All users and services which access the Golden Record Application must be authenticated and authorized. Only the Golden Record Application itself is allowed to perform changes on data. Consuming services/users are only allowed to read data. In addition they are only allowed to read the specific data that belongs with this, the Data Sovereignty principles of Catena-X has to be fulfilled")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Integrity"),(0,r.kt)("td",{parentName:"tr",align:null},"Only the Golden Record Application is allowed to perform changes on the data. In addition, all changes must be traceable and must be able to be rolled back")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Legally"),(0,r.kt)("td",{parentName:"tr",align:null},"No natural persons are allowed to get uploaded and stored. For all other uploaded Business Partner data it is mandatory that users (CX Members) can only see their own uploaded data and that it is not possible to draw conclusions about other business partner relationships")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Integrity & Correctness"),(0,r.kt)("td",{parentName:"tr",align:null},"It must be ensured that the data of the golden record which is created during the process is correct.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"Reliability"),(0,r.kt)("td",{parentName:"tr",align:null},"The Golden Record Application is a central foundation in the Catena-X Network. It provides all participants and services, business partner data and the unique Business Partner Number (BPN) as identifier. Therefore the BPDM Services must be always/highly available")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"Functional Stability"),(0,r.kt)("td",{parentName:"tr",align:null},"Since the Golden Record Application is a central foundation in the Catena-X Network the defined standards of the API and datamodel for the associated Release Version must be fulfilled")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"Sensitivity of data"),(0,r.kt)("td",{parentName:"tr",align:null},"the uploaded business partner data is highly sensitive, that's why it must be ensured that no unauthorized user/system can access data which does not belong to it. More over it must be guaranteed that no one can see the business partners related to the specific Catena-X Member.")))),(0,r.kt)("p",null,(0,r.kt)("a",{target:"_blank",href:a(16955).Z})),(0,r.kt)("h2",{id:"stakeholders"},"Stakeholders"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Role/Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Expectations"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Big Company (CX-Member)"),(0,r.kt)("td",{parentName:"tr",align:null},"Company wants to have cleaned and enriched business partner data objects with a BPN."),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SME Company (CX-Member)"),(0,r.kt)("td",{parentName:"tr",align:null},"Company wants to have cleaned and enriched business partner data objects with a BPN based on a CSV data."),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CX Apps"),(0,r.kt)("td",{parentName:"tr",align:null},"Other apps and their use cases want to use the business partner data objects and the BPN for their processes"),(0,r.kt)("td",{parentName:"tr",align:null},"The CX Portal will use the BPN for on-boarding new companies into the network. Traceability Apps will use BPN to describe business partners")))),(0,r.kt)("h2",{id:"architecture-constraints"},"Architecture Constraints"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Constraint ID"),(0,r.kt)("th",{parentName:"tr",align:null},"Constraint"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"C-1"),(0,r.kt)("td",{parentName:"tr",align:null},"Software and third party software must be compliant to the Catena-X and Eclipse Foundation Guidelines/Policies ",(0,r.kt)("a",{parentName:"td",href:"https://www.eclipse.org/projects/dev_process/"},"eclipse_foundation")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"C-2"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/eclipse-tractusx/tractusx-edc/tree/main"},"Eclipse Dataspace Connector")," must be used for data transfer between different legal entities"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h2",{id:"system-scope-and-context"},"System Scope and Context"),(0,r.kt)("h2",{id:"business-context"},"Business Context"),(0,r.kt)("p",null,"The following figure depicts the business context setup for BPDM:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"bpdm_business_context",src:a(64035).Z,width:"1211",height:"681"})),(0,r.kt)("p",null,"The following are the various components of the business context setup:"),(0,r.kt)("h3",{id:"master-data-management-catena-x-member"},(0,r.kt)("strong",{parentName:"h3"},"Master Data Management (Catena-X Member)")),(0,r.kt)("p",null,"A backend system that's operated by a company which is participating in the Catena-X Ecosystem and consuming digital services or data assets."),(0,r.kt)("h3",{id:"small-medium-enterprises-sme-catena-x-member"},(0,r.kt)("strong",{parentName:"h3"},"Small-Medium-Enterprises (SME) (Catena-X Member)")),(0,r.kt)("p",null,"A SME company that's participating in the Catena-X Ecosystem and consuming digital services or data assets."),(0,r.kt)("h3",{id:"catena-x-portalmarketplace-cx-portal"},(0,r.kt)("strong",{parentName:"h3"},"Catena-X Portal/Marketplace (CX Portal)")),(0,r.kt)("p",null,"The Portal which provides an entry point for the Catena-X Members, to discover Apps that are offered in Catena-X."),(0,r.kt)("h3",{id:"value-added-services"},(0,r.kt)("strong",{parentName:"h3"},"Value Added Services")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Value Added Services can be provided be either the Operator itself or by an external App/Service Provider. The Value Added Services provide data or service offers based on Catena-X Network data."),(0,r.kt)("li",{parentName:"ul"},"There are several value added services that can be offered in context of business partner data. For example a Fraud Prevention Dashboard/API, Country Risk Scoring and so on.")),(0,r.kt)("h3",{id:"catena-x-operative-environment-for-bpdm"},(0,r.kt)("strong",{parentName:"h3"},"Catena-X Operative Environment for BPDM")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Within Catena-X there will be only one central operation environment that operates the BPDM Application. This operative environment provides the services and data for other operation environment or applications which needs to consume business partner data or golden record data.")),(0,r.kt)("h3",{id:"catena-x-bpdm-application"},(0,r.kt)("strong",{parentName:"h3"},"Catena-X BPDM Application")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The BPDM Application which offers services to Catena-X Members, Catena-X Use Cases and Catena-X BPDM Value Added Services for consuming and processing business partner data as well as Golden Record Information and BPN Numbers.")),(0,r.kt)("h3",{id:"curation--enrichment-services"},(0,r.kt)("strong",{parentName:"h3"},"Curation & Enrichment Services")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"To offer the BPDM and Golden Record Services, Catena-X uses services from external third party service providers. These can either be operated by the operator itself or external companies that have a contract with the operator.")),(0,r.kt)("h2",{id:"technical-context"},"Technical Context"),(0,r.kt)("p",null,"The technical context setup including deployment is depicted in the following figure:\n",(0,r.kt)("img",{alt:"cx_bpdm_deployment_context",src:a(60376).Z,width:"1351",height:"701"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The BPDM Application follows a microservice approach to separate the different components of the system."),(0,r.kt)("li",{parentName:"ul"},"Within Catena-X there will be only one central operation environment that operates the BPDM Application. This operation environment provides the services and data for other operation environment or applications which needs to consume business partner data or golden record data.")),(0,r.kt)("h2",{id:"solution-strategy-high-level-picture"},"Solution Strategy (High Level Picture)"),(0,r.kt)("p",null,"The following high level view gives a basic overview about the BPDM Components:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"cx_bpdm_highlevel",src:a(56943).Z,width:"401",height:"586"})),(0,r.kt)("h3",{id:"bpdm-gate"},(0,r.kt)("strong",{parentName:"h3"},"BPDM Gate")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The BPDM Gate provides the interfaces for Catena-X Members to manage their business partner data within Catena-X."),(0,r.kt)("li",{parentName:"ul"},"Based on the network data a Golden Record Proposal is created."),(0,r.kt)("li",{parentName:"ul"},"The BPDM Gate has its own persistence layer in which the business partner data of the Catena-X Members are stored."),(0,r.kt)("li",{parentName:"ul"},"For the current reference implementation, multi-tenancy is realized via a 1:1 deployment for each Catena-X Member. This means that every Catena-X Member who shares his business partner data, has its own Gate and own persistence.")),(0,r.kt)("h3",{id:"bpdm-pool"},(0,r.kt)("strong",{parentName:"h3"},"BPDM Pool")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The BPDM Pool is the central instance for business partner data within Catena-X."),(0,r.kt)("li",{parentName:"ul"},"The BPDM Pool provides the interface and persistance for accessing Golden Record Data and the unique Business Partner Number."),(0,r.kt)("li",{parentName:"ul"},"In comparison to the BPDM Gate, there is only one central instance of the BPDM Pool.")),(0,r.kt)("h3",{id:"bpn-issuer"},(0,r.kt)("strong",{parentName:"h3"},"BPN Issuer")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Every participant in the Catena-X network shall have a unique Business Partner Number (BPN) according to the concept defined by the Catena-X BPN concept. The task of the BPN Generator is to issue such a BPN for a presented Business Partner data object. In that, the BPN Generator serves as the central issuing authority for BPNs within Catena-X."),(0,r.kt)("li",{parentName:"ul"},"Technically, it constitutes a service that is available as a singleton within the network."),(0,r.kt)("li",{parentName:"ul"},"Currently, creation of BPNs is part of the BPDM Pool implementation. After implementing the BPDM Orchestrator, it can be considered if it should be an independent component.")),(0,r.kt)("h3",{id:"bpdm-orchestrator"},(0,r.kt)("strong",{parentName:"h3"},"BPDM Orchestrator")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Intention of the BPDM Orchestrator is to provide a passive component that offers standardized APIs for the BPDM Gate, BPDM Pool and Data Curation and Enrichment Services to orchestrate the process of Golden Record Creation and handling the different states a business partner record can have during this process.")),(0,r.kt)("h2",{id:"building-block-view"},"Building Block View"),(0,r.kt)("h3",{id:"high-level-architecture-lsa-endpoints"},"High-Level Architecture (L/S/A Endpoints)"),(0,r.kt)("p",null,"Due to a transmission phase there are two concepts of Business Partner Upload Models. The target is to only have the generic Business Partner on the BPDM Gate."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"bpdm_current_architecture_LSA",src:a(8598).Z,width:"2462",height:"1161"})),(0,r.kt)("h3",{id:"high-level-architecture-generic-endpoint"},"High-Level Architecture (Generic Endpoint)"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"bpdm_current_architecture_Generic",src:a(65725).Z,width:"2471",height:"1161"})),(0,r.kt)("h4",{id:"simulator-service"},(0,r.kt)("strong",{parentName:"h4"},"Simulator Service")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"To become more independent in testing the BPDM Application, a Simulator Service was developed."),(0,r.kt)("li",{parentName:"ul"},"The Simulator Services supports the E2E Test Cases to validate the flow from BPDM Gate to BPDM Pool and back again.")),(0,r.kt)("h4",{id:"edc-operator"},(0,r.kt)("strong",{parentName:"h4"},"EDC Operator")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The diagram above shows two EDCs on Operator side. This is only for visualization purpose. On a technical level there is only one EDC.")),(0,r.kt)("h4",{id:"sme"},(0,r.kt)("strong",{parentName:"h4"},"SME")),(0,r.kt)("p",null,"-Currently there is no SME Application available"),(0,r.kt)("h2",{id:"keycloak-authentication--autorization-flow"},"Keycloak Authentication & Autorization Flow"),(0,r.kt)("mermaid",{value:'\nsequenceDiagram\n    participant BPDM EDC\n    participant OpenIDConnect Server\n    participant BPDM Gate\n\n    autonumber\n\n    BPDM EDC --\x3e>OpenIDConnect Server: Send Client Credentials\n    OpenIDConnect Server--\x3e> BPDM EDC: Respond OAuth2 Token\n    BPDM EDC --\x3e> BPDM Gate: Send Request with OAuth2 Token in Authorization Header\n    BPDM Gate --\x3e> OpenIDConnect Server: Validate Token\n    OpenIDConnect Server --\x3e> BPDM Gate: Confirms validity of Token\n    BPDM Gate --\x3e> BPDM Gate: Check "resource_access" section of OAuth Token\n\n    '}),(0,r.kt)("h2",{id:"runtime-view"},"Runtime View"),(0,r.kt)("h3",{id:"upload-business-partner-bpn-l"},"Upload Business Partner (BPN-L)"),(0,r.kt)("p",null,'The diagram below describes the flow of uploading a business partner of type "legal entity".\nFor further information about the different business partner types (Legal Entity, Site, Address), please have a look on the Standards ',(0,r.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX - 0010 Business Partner Number")),(0,r.kt)("mermaid",{value:"\nsequenceDiagram\n    participant CX Member\n    participant BPDM Gate\n    participant BPDM Simulator\n    participant BPDM Pool\n    autonumber\n\n    rect rgb(125, 184, 240)\n      Note over CX Member,BPDM Gate: EDC enabled\n    CX Member->>BPDM Gate: Upload Business Partner\n      Note left of BPDM Gate: PUT api/catena/input/legal-entities\n    # loop Healthcheck\n      #  John->>John: Fight against hypochondria\n    # end\n    # Note right of John: Rational thoughts!\n    end\n    BPDM Gate--\x3eBPDM Gate: Update input changelog\n    BPDM Simulator->>BPDM Gate: Poll for Business Partner changes\n      Note right of BPDM Gate: POST api/catena/input/changelog/search\n    BPDM Gate --\x3e> BPDM Simulator: Send Changelog for Business Partners\n    BPDM Simulator->>BPDM Gate: Request Business Partner based on Changelog (external ID and business partner type)\n      Note right of BPDM Gate: POST /api/catena/input/legal-entities/search\n    BPDM Gate --\x3e> BPDM Simulator: Send Business Partners\n    BPDM Simulator->>BPDM Gate: Request Sharing State for Business Partner based on Changelog\n      Note right of BPDM Gate: GET api/catena/sharing-state\n    BPDM Gate --\x3e> BPDM Simulator: Send Sharing State (BPN) of Business Partners (Sharing state determines if BPN exist or not)\n    BPDM Simulator--\x3e> BPDM Simulator: Update last sync changelog timestamp\n    BPDM Simulator->>BPDM Pool: Forward Business Partner\n      Note left of BPDM Pool: POST/PUT api/catena/legal-entities\n    opt BPN does not exist \n    BPDM Pool--\x3e>BPDM Pool: Create BPN\n    end\n    BPDM Pool--\x3e>BPDM Pool: Update Changelog\n    BPDM Pool--\x3e>BPDM Simulator: Respond Business Partner with BPN\n    BPDM Simulator--\x3e>BPDM Gate: Forward Business Partner with BPN\n      Note right of BPDM Gate: PUT api/catena/output/legal-entities\n    BPDM Simulator--\x3e>BPDM Gate: Update Sharing State\n      Note right of BPDM Gate: PUT api/catena/sharing-state\n    BPDM Gate--\x3eBPDM Gate: Link External ID with BPN\n    BPDM Gate--\x3eBPDM Gate: Update Output Changelog\n\n    loop Every x hour\n      rect rgb(125, 184, 240)\n      Note over CX Member,BPDM Gate: EDC enabled\n        CX Member->>BPDM Gate: Poll output changelog and fetch updates\n          Note left of BPDM Gate: POST api/catena/output/changelog/search\n        BPDM Gate--\x3e>CX Member: Send changelog\n        CX Member->>BPDM Gate: Fetch updates\n          Note left of BPDM Gate: POST api/catena/output/legal-entities/search\n        BPDM Gate--\x3e>CX Member: Send Business Partner changes\n        end\n        CX Member--\x3e>CX Member: Update data\n        CX Member--\x3e>CX Member: Update last polled timestamp\n    end"}),(0,r.kt)("h3",{id:"upsert-generic-business-partner"},"Upsert Generic Business Partner"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"[!NOTE]",'\nAn additional endpoint was implemented as requirements came up that required business partner data records not to be fed directly into the golden record process after an upload. Instead, this endpoint makes it possible to change the status of a business partner data record from "inital" to "ready". Only data records with the status "ready" are fed into the golden record process.\nWe are aware that the existing integration scenarios, such as with the portal team, are impacted by this. For this reason, we recommend that the gate is configured accordingly so that the status is set to "ready" by default when a data record is uploaded. The operator can configure this behavior in the gate individually based on the requirements.')),(0,r.kt)("mermaid",{value:"sequenceDiagram\n    autonumber\n\n    SharingMember->>Gate: PUT api/catena/input/business-partners <br> Payload: Business Partner Data A\n    Gate--\x3e>Gate: Persist Business Partner Data Input\n    Gate--\x3e>Gate: Set Sharing State to 'Initial'\n    Gate--\x3e>Gate: Add Changelog Entry 'Create' for Business Partner Input\n    Gate--\x3e>SharingMember: Upserted Business Partner\n\n    SharingMember->>Gate: POST api/catena/sharing-state/ready <br> Payload: External ID A\n    Gate--\x3e>Gate: Set Sharing State to 'Ready'\n    Gate--\x3e>SharingMember: OK\n\n    loop Polling for Ready Business Partners\n        Gate--\x3e>Gate: Fetch Business Partners in State 'Ready'\n        Gate->>Orchestrator: POST api/golden-record-tasks <br> Payload: Business Partner Input Data in mode 'UpdateFromSharingMember'\n        Orchestrator--\x3e>Orchestrator: Create Golden Record Task for Business Partner Data\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Result State: 'Pending'\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'CleanAndSync' <br> StepState: 'Queued'\n        Orchestrator--\x3e>Gate: Created Golden Record Task\n        Gate--\x3e>Gate: Set Sharing State <br> Type: 'PENDING' <br> Task ID: Golden Record Task ID\n    end\n\n    loop Polling for Step 'CleanAndSync'\n        CleaningServiceDummy->>Orchestrator: POST api/golden-record-tasks/step-reservations <br> Payload: Step 'CleanAndSync'\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'CleanAndSync' <br> StepState: 'Reserved'\n        Orchestrator--\x3e>CleaningServiceDummy: Golden Record Task\n        CleaningServiceDummy--\x3e>CleaningServiceDummy: Set L/S/A and Generic Business Partner Dummy Cleaning Result\n        CleaningServiceDummy--\x3e>CleaningServiceDummy: Set BPN References to L/S/A result\n        CleaningServiceDummy->>Orchestrator: POST api/golden-record-tasks/step-results <br> Payload: Dummy Result\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task Business Partner Data to Dummy Result\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'PoolSync' <br> StepState: 'Queued'\n        Orchestrator--\x3e>CleaningServiceDummy: Accept\n    end\n\n    loop Polling for Step 'PoolSync'\n        Pool->>Orchestrator: POST api/golden-record-tasks/step-reservations <br> Payload: Step 'PoolSync'\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'PoolSync' <br> StepState: 'Reserved'\n        Orchestrator--\x3e>Pool: Golden Record Task\n        opt Golden Record Legal Entity Data marked as changed\n            Pool--\x3e>Pool: Upsert Legal Entity from Golden Record Task Legal Entity Data\n            Pool--\x3e>Pool: Add Changelog Entry for BPNL\n        end\n        opt Golden Record Site Data marked as changed\n            Pool--\x3e>Pool: Upsert Site from Golden Record Task Site Data\n            Pool--\x3e>Pool: Add Changelog Entry for BPNS\n        end\n         opt Golden Record Address Data marked as changed\n            Pool--\x3e>Pool: Upsert Address from Golden Record Task Address Data\n             Pool--\x3e>Pool: Add Changelog Entry for BPNA\n        end\n        Pool--\x3e>Pool: Set BPNs in Golden Record Task Generic Business Partner Data\n        Pool->>Orchestrator: POST api/golden-record-tasks/step-results <br> Payload: Updated Result\n        Orchestrator--\x3e>Pool: Accept\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'PoolSync' <br> Step State: 'Success'\n         Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Result State: 'Success'\n    end\n    \n    loop Polling for finished Golden Record Tasks\n        Gate--\x3e>Gate: Query sharing states in Sharing State Type 'PENDING'\n        Gate->>Orchestrator: POST golden-record-tasks/state/search <br> Payload: Golde Record Task ID\n        Orchestrator--\x3eGate: Golden Record Task State and Result\n        Gate--\x3e>Gate: Persist Business Partner Output\n        Gate--\x3e>Gate: Set Sharing State 'Success'\n        Gate--\x3e>Gate: Add Changelog Entry 'Create' for Business Partner Output\n    end\n\n    SharingMember->>Gate: POST api/catena/output/changelog/search <br> Payload: From After Last Search Time\n    Gate--\x3e>SharingMember: Changelog entry with Business Partner External ID\n    SharingMember->>Gate: POST api/catena/output/business-partners/search <br> Payload: External ID\n    Gate--\x3e>SharingMember: Business Partner Output"}),(0,r.kt)("h3",{id:"update-on-golden-record-change"},"Update on Golden Record Change"),(0,r.kt)("mermaid",{value:"sequenceDiagram\n    autonumber\n\n    Pool--\x3ePool: Add Changelog Entry for BPNL \n    \n    loop Polling Pool Changelog\n        Gate->>Pool: POST api/catena/changelog/search <br> Payload: From After Last Search Time\n        Pool--\x3e>Gate: Changelog entry for BPNL\n        Gate--\x3e>Gate: Query Business Partner Output with BPNL\n        Gate->>Orchestrator: POST api/golden-record-tasks <br> Payload: Business Partner Output Data in mode 'UpdateFromPool'\n        Orchestrator--\x3e>Orchestrator: Create Golden Record Task for Business Partner Data\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Result State: 'Pending'\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'Clean' <br> StepState: 'Queued'\n        Orchestrator--\x3e>Gate: Created Golden Record Task\n        Gate--\x3e>Gate: Set Sharing State <br> Type: 'PENDING' <br> Task ID: Golden Record Task ID\n    end\n\n    loop Polling for Step 'Clean'\n        CleaningServiceDummy->>Orchestrator: POST api/golden-record-tasks/step-reservations <br> Payload: Step 'Clean'\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'CleanAndSync' <br> StepState: 'Reserved'\n        Orchestrator--\x3e>CleaningServiceDummy: Golden Record Task\n        CleaningServiceDummy->>Orchestrator: POST api/golden-record-tasks/step-results <br> Payload: Golden Record Task Business Partner Data\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task Business Partner Data to Dummy Result\n        Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Step: 'Clean' <br> Step State: 'Success'\n         Orchestrator--\x3e>Orchestrator: Set Golden Record Task State <br> Result State: 'Success'\n        Orchestrator--\x3e>CleaningServiceDummy: Accept\n    end\n    \n    loop Polling for finished Golden Record Tasks\n        Gate--\x3e>Gate: Query sharing states in Sharing State Type 'PENDING'\n        Gate->>Orchestrator: POST golden-record-tasks/state/search <br> Payload: Golden Record Task ID\n        Orchestrator--\x3eGate: Golden Record Task State and Result\n        Gate--\x3e>Gate: Persist Business Partner Output\n        Gate--\x3e>Gate: Set Sharing State 'Success'\n        Gate--\x3e>Gate: Add Changelog Entry 'Create' for Business Partner Output\n    end\n    \n    SharingMember->>Gate: POST api/catena/output/changelog/search <br> Payload: From After Last Search Time\n    Gate--\x3e>SharingMember: Changelog entry with Business Partner External ID\n    SharingMember->>Gate: POST api/catena/output/business-partners/search <br> Payload: External ID\n    Gate--\x3e>SharingMember: Business Partner Output\n    "}),(0,r.kt)("h2",{id:"business-partner-data-records---states"},"Business Partner Data Records - States"),(0,r.kt)("p",null,"This sections describes the different states a business partner data record can have."),(0,r.kt)("h3",{id:"automatically-executing-golden-record-process"},"Automatically executing golden record process"),(0,r.kt)("mermaid",{value:"---\ntitle: state diagram business partner for automatically executing golden record process\n---\nstateDiagram-v2\n    [*] --\x3e ready: sharing member uploads bp into gate\n    note right of ready\n      Gate is configured to automatically <br> set state to ready after bp upload\n    end note\n    ready --\x3e pending: scheduler initiates <br> the golden record process\n    state if_state <<choice>>\n    pending --\x3e if_state: run golden record process\n    if_state --\x3e success: if golden record process succeeded\n    if_state --\x3e error: if golden record process failed"}),(0,r.kt)("h3",{id:"manually-triggering-golden-record-process"},"Manually triggering golden record process"),(0,r.kt)("mermaid",{value:"---\ntitle: state diagram business partner for manual golden record process triggering\n---\nstateDiagram-v2\n    [*] --\x3e initial: sharing member uploads bp into gate\n    note right of initial\n      POST api/catena/sharing-state/ready <br> Payload: External ID A\n    end note\n    initial --\x3e ready: sharing member or third-party <br> service calls separate endpoint\n    ready --\x3e pending: scheduler initiates <br> the golden record process\n    state if_state <<choice>>\n    pending --\x3e if_state: run golden record process\n    if_state --\x3e success: if golden record process succeeded\n    if_state --\x3e error: if golden record process failed"}),(0,r.kt)("h2",{id:"deployment-view"},"Deployment View"),(0,r.kt)("h3",{id:"applications-deployment-without-kubernetes"},"Applications Deployment without Kubernetes"),(0,r.kt)("mermaid",{value:'C4Context\n\n    Person(bpdm_user, "(Technical) User of the BPDM APIs")\n\n    System(pool_postgres, "Pool Database" "Postgres: 14.5")\n    System(gate_postgres, "Gate Database" "Postgres: 14.5")\n    System(bridge_postgres, "Gate Database" "Postgres: 14.5")\n\n\n    Deployment_Node(pool_machine, "OS Environment", "Linux Alpine 3.16"){\n        Deployment_Node(pool_java, "Runtime Environment", "JAVA RE 17") {\n            Container(pool_container, "Pool Application", "Spring Boot: 3.1")\n        }\n    }\n\n    Deployment_Node(gate_machine, "OS Environment", "Linux Alpine 3.16"){\n        Deployment_Node(gate_java, "Runtime Environment", "JAVA RE 17") {\n            Container(gate_container, "Gate Application", "Spring Boot: 3.1")\n        }\n    }\n\n    Deployment_Node(bridge_machine, "OS Environment", "Linux Alpine 3.16"){\n        Deployment_Node(bridge_java, "Runtime Environment", "JAVA RE 17") {\n            Container(bridge_container, "Bridge Dummy Application", "Spring Boot: 3.1")\n        }\n    }\n\n    Deployment_Node(orchestrator_machine, "OS Environment", "Linux Alpine 3.16"){\n        Deployment_Node(orchestrator_java, "Runtime Environment", "JAVA RE 17") {\n            Container(orchestrator_container, "Orchestrator Application", "Spring Boot: 3.1")\n        }\n    }\n\n     Deployment_Node(dummy_machine, "OS Environment", "Linux Alpine 3.16"){\n        Deployment_Node(dummy_java, "Runtime Environment", "JAVA RE 17") {\n            Container(dummy_container, "Cleaning Service Dummy Application", "Spring Boot: 3.1")\n        }\n    }\n\n    Rel(bpdm_user, pool_container, "HTTP/S")\n    Rel(pool_container, pool_postgres, "TCP/IP")\n\n    Rel(bpdm_user, gate_container, "HTTP/S")\n    Rel(gate_container, gate_postgres, "TCP/IP")\n\n    Rel(bpdm_user, bridge_container, "HTTP/S")\n    Rel(bridge_container, bridge_postgres, "TCP/IP")\n\n    Rel(pool_container, orchestrator_container, "HTTP/S")\n    Rel(gate_container, orchestrator_container, "HTTP/S")\n    Rel(dummy_container, orchestrator_container, "HTTP/S")\n    \n    Rel(bridge_container, pool_container, "HTTP/S")\n    Rel(bridge_container, gate_container, "HTTP/S")\n'}),(0,r.kt)("h3",{id:"single-application-kubernetes-deployment"},"Single Application Kubernetes Deployment"),(0,r.kt)("mermaid",{value:'C4Context\n\n    Person(bpdm_user, "(Technical) User of the BPDM APIs")\n\n    Deployment_Node(kubernetes, "Kubernetes Environment", "Kubernetes 1.28"){\n\n        Container(ingress, "Ingress", "Ingress Kubernetes Resource")\n        Container(nginx, "Ingress Controller", "Nginx Reverse Proxy")\n        Container(service, "Service", "Service Kubernetes Resource")\n\n        Container(database, "Database Deployment", "Chart bitnami/postgres:11.9.13")\n        Container(other_bpdm, "Other BPDM Application Deployment", "Helm Chart")\n\n        Deployment_Node(deployment, "Deployment", "Deployment Kubernetes Resource"){\n                Deployment_Node(replicaSet_1, "Replica Set", "Ingress ReplicaSet Resource"){\n                    Deployment_Node(pod_1, "Pod", "Pod Kubernetes Resource"){\n                        Container(container_1, "BPDM Application Container", "Spring Boot 3 on Linux Alpine 3.6")\n                        Container(volume_1, "Config Volume", "Kubernetes Volume Mount")\n                    }\n        }\n    }\n\n    Deployment_Node(kubernetes_config, "Kubernetes Configurations", "Logical Grouping"){\n        Container(configMap, "Application Configuration", "Kubernetes ConfigMap Resource")\n        Container(secret, "Secret Configuration", "Kubernetes Secret Resource")\n\n    }\n}\n\nRel(bpdm_user, nginx, "Sends URL", "HTTPS")\nRel(ingress, nginx, "Routing Information")\nRel(nginx, service, "Routes to")\nRel(service, container_1, "HTTP")\n\nRel(container_1, volume_1, "mounts")\nRel(volume_1, configMap, "mounts")\nRel(volume_1, secret, "mounts")\n\nRel(container_1, database, "TCP/IP")\nRel(container_1, other_bpdm, "")\n\nUpdateLayoutConfig($c4ShapeInRow="3", $c4BoundaryInRow="1")\n\n\n'}),(0,r.kt)("h2",{id:"crosscutting-concepts"},"Crosscutting Concepts"),(0,r.kt)("h3",{id:"business-partner-data-management-standards"},"Business Partner Data Management Standards"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"bpdm_standards")),(0,r.kt)("h3",{id:"logging-behavior"},"Logging Behavior"),(0,r.kt)("p",null,"As Spring Boot applications BPDM employs Spring\nspecific ",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/3.0.0/reference/htmlsingle/#features.logging"},"logging behavior")),(0,r.kt)("p",null,"We enhance the default log entries with user request information including the determined user ID and a generated request ID.\nNot all logs belong to an ongoing user request in which case these entries are empty."),(0,r.kt)("p",null,"In addition to the Spring standard logs the BPDM applications keep a log of the following events:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"INFO: User requesting resource with resource name and HTTP verb"),(0,r.kt)("li",{parentName:"ul"},"INFO: Request HTTP response"),(0,r.kt)("li",{parentName:"ul"},"INFO: Update/Create Golden Record Business Partners"),(0,r.kt)("li",{parentName:"ul"},"INFO: Creating BPNs"),(0,r.kt)("li",{parentName:"ul"},"ERROR: Uncaught exceptions occurring in the service logic")),(0,r.kt)("h2",{id:"architecture-decisions"},"Architecture Decisions"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://confluence.catena-x.net/display/CORE/BPDM+%7C+Decision+Logs"},"Architecture Decision Logs"),"\n(Link will be replaced with ADRs based on Markdown)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"001-multitenancy_approach"),(0,r.kt)("li",{parentName:"ul"},"002-edc_for_pool_api"),(0,r.kt)("li",{parentName:"ul"},"003-orchestrator_serviceApi_vs_messagebus_approach"),(0,r.kt)("li",{parentName:"ul"},"004-openapi_descriptions"),(0,r.kt)("li",{parentName:"ul"},"005-edc-usage-for-third-party-services"),(0,r.kt)("li",{parentName:"ul"},"006-bpdm-edc-asset-structuring (TBD)")),(0,r.kt)("h2",{id:"quality-requirements"},"Quality Requirements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"see: ",(0,r.kt)("a",{parentName:"li",href:"#quality-goals-quality-goals"},"Quality Goals"))),(0,r.kt)("h2",{id:"risks-and-technical-debts"},"Risks and Technical Debts"),(0,r.kt)("h3",{id:"open-edc-questions"},(0,r.kt)("strong",{parentName:"h3"},"Open EDC Questions")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"What capabilities will be provided in the future?"),(0,r.kt)("li",{parentName:"ul"},"How to deal with APIs provided behind an EDC? Swagger documentation cannot be seen by the requesting service?"),(0,r.kt)("li",{parentName:"ul"},"How can we authorize and authenticate a User/System with individual permissions after it passes the EDC?"),(0,r.kt)("li",{parentName:"ul"},"Will there by a Proxy EDC concept?"),(0,r.kt)("li",{parentName:"ul"},"...")),(0,r.kt)("h3",{id:"semantic-model-and-ssi-integration-of-the-golden-record"},(0,r.kt)("strong",{parentName:"h3"},"Semantic Model and SSI Integration of the Golden Record")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Not in scope.")),(0,r.kt)("h3",{id:"dependency-on-third-party-service-provider"},(0,r.kt)("strong",{parentName:"h3"},"Dependency on third party service provider")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Currently we are not flexible enough to easily change the third party service provider for golden record creation. Therefore the next step will be to introduce an own data persistence layer, getting more independent."),(0,r.kt)("li",{parentName:"ul"},'\u2714\ufe0fSolved via "Simulator Application"')),(0,r.kt)("h3",{id:"data-storage-and-anonymize-concept"},(0,r.kt)("strong",{parentName:"h3"},"Data Storage and anonymize concept")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"How to anonymize the relations between CX-Member and its belonging Business Partner?"),(0,r.kt)("li",{parentName:"ul"},'\ud83d\udca1 Idea: using kind of "ticket numbering"'),(0,r.kt)("li",{parentName:"ul"},"\u2714\ufe0f Solved via ticketing.")),(0,r.kt)("h3",{id:"accessability-for-smes"},(0,r.kt)("strong",{parentName:"h3"},"Accessability for SMEs")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Uploading via CSV File. Does it requires an EDC?"),(0,r.kt)("li",{parentName:"ul"},"\u26a0\ufe0fCurrent State: Yes, is needed.")),(0,r.kt)("h2",{id:"glossary"},"Glossary"),(0,r.kt)("p",null,"The Glossary is currently under development and will be added below after internal approval (",(0,r.kt)("a",{parentName:"p",href:"https://confluence.catena-x.net/display/CORE/BPDM+Glossary+-+Internal+-+DRAFT"},"DRAFT"),")."),(0,r.kt)("p",null,"The current version you can find in the Catena-X Standards."),(0,r.kt)("h2",{id:"notice"},"NOTICE"),(0,r.kt)("p",null,"This work is licensed under the ",(0,r.kt)("a",{parentName:"p",href:"https://www.apache.org/licenses/LICENSE-2.0"},"Apache-2.0"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SPDX-License-Identifier: Apache-2.0"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023,2024 ZF Friedrichshafen AG"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023,2024 Bayerische Motoren Werke Aktiengesellschaft (BMW AG)"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023,2024 Mercedes Benz Group"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023,2024 Schaeffler AG"),(0,r.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2023,2024 Contributors to the Eclipse Foundation"),(0,r.kt)("li",{parentName:"ul"},"Source URL: ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/eclipse-tractusx/bpdm"},"https://github.com/eclipse-tractusx/bpdm"))))}p.isMDXComponent=!0},16955:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/files/iso_25010-49b3702ca5acdfcc459a1982dffdf597.png"},20140:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/BPKitIcon-55e920e08d5706764626858aebe41780.png"},8598:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cx_bpdm_architecture_v3_2.drawio-cb1f9132227f510a6f3b78d86cb46de2.svg"},65725:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cx_bpdm_architecture_v3_3.drawio-6aa8868a47d5fdad3cee1616c0aafd2b.svg"},64035:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cx_bpdm_context_business.drawio-d2149f9afc13aef2bc3f69307a7d48df.svg"},60376:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cx_bpdm_context_technical.drawio-5a4636add1898f5c5ab7f840cd423c9d.svg"},56943:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/cx_bpdm_highlevel.drawio-135d7c07b001180b4e04997df98f43d9.svg"},77497:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/usecase_diagram.drawio-56c53142e06e8fda1965a83656b0d5d7.svg"}}]);
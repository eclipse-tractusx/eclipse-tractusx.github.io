"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[83698],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(n),h=a,m=d["".concat(l,".").concat(h)]||d[h]||p[h]||i;return n?r.createElement(m,o(o({ref:t},c),{},{components:n})):r.createElement(m,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},69511:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const i={title:"TRG 8.01 - CodeQL"},o=void 0,s={unversionedId:"release/trg-0/trg-8-01",id:"release/trg-0/trg-8-01",title:"TRG 8.01 - CodeQL",description:"| Status | Created     | Post-History                         |",source:"@site/docs/release/trg-0/trg-8-01.md",sourceDirName:"release/trg-0",slug:"/release/trg-0/trg-8-01",permalink:"/docs/release/trg-0/trg-8-01",draft:!1,editUrl:"https://github.com/eclipse-tractusx/eclipse-tractusx.github.io/tree/main/docs/release/trg-0/trg-8-01.md",tags:[],version:"current",frontMatter:{title:"TRG 8.01 - CodeQL"},sidebar:"docs",previous:{title:"TRG 4.07 - Read-only filesystems",permalink:"/docs/release/trg-0/trg-4-07"},next:{title:"TRG 8.03 - KICS",permalink:"/docs/release/trg-0/trg-8-03"}},l={},u=[{value:"Why",id:"why",level:2},{value:"Description",id:"description",level:2}],c={toc:u};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Status"),(0,a.kt)("th",{parentName:"tr",align:null},"Created"),(0,a.kt)("th",{parentName:"tr",align:null},"Post-History"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Draft"),(0,a.kt)("td",{parentName:"tr",align:null},"01-Mar-2024"),(0,a.kt)("td",{parentName:"tr",align:null},"Draft release")))),(0,a.kt)("h2",{id:"why"},"Why"),(0,a.kt)("p",null,"Use CodeQL for deep, static code analysis to identify vulnerabilities and improve code quality across a wide range of programming languages."),(0,a.kt)("h2",{id:"description"},"Description"),(0,a.kt)("p",null,"Use CodeQL for all repos with classic code (e.g., C#, Java) without exception. Do not use it for documentation-only or pure IaC repos; it's intended solely for analyzing classic code vulnerabilities. Exclude files as necessary."),(0,a.kt)("p",null,"The GitHub Actions configuration must include the following triggers:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"workflow_dispatch"),": Manual workflow execution."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"schedule"),": Schedule the workflow to run at least once a week with ",(0,a.kt)("inlineCode",{parentName:"li"},"0 0 * * 0"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"push")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"pull_request"),": Activate the workflow on both push and pull request events targeting the branch that contains the code for the currently supported version, which may not necessarily be the ",(0,a.kt)("inlineCode",{parentName:"li"},"main")," branch. This is the branch from which new releases will be made.")),(0,a.kt)("p",null,"Findings appear in the GitHub Advanced Security Dashboard. Dismiss high/error findings as non-exploitable or false positives with required justification in the vulnerability alert."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Address high severity findings; it is recommended to also address medium severity findings.")),(0,a.kt)("p",null,"You can tailor the failure conditions (",(0,a.kt)("inlineCode",{parentName:"p"},"fail-on"),") for high severity issues in the workflow to suit your team's preferences."),(0,a.kt)("p",null,"Adjust your code's language and build settings as indicated within the workflow comments."),(0,a.kt)("p",null,"Example CodeQL workflow:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},'name: "CodeQL"\n\non:\n  push:\n    branches: ["main"]\n    paths-ignore:\n      - "**/*.md"\n      - "**/*.txt"\n  pull_request:\n    # The branches below must be a subset of the branches above\n    branches: ["main"]\n    paths-ignore:\n      - "**/*.md"\n      - "**/*.txt"\n  schedule:\n    - cron: "0 0 * * 0"\n  workflow_dispatch:\n\njobs:\n  analyze:\n    name: Analyze\n    runs-on: ubuntu-latest\n    timeout-minutes: 360\n    permissions:\n      actions: read\n      contents: read\n      security-events: write\n\n    strategy:\n      fail-fast: false\n      matrix:\n        language: ["java"] # Define languages here\n        # CodeQL supports [ \'cpp\', \'csharp\', \'go\', \'java\', \'javascript\', \'python\', \'ruby\', \'swift\' ]\n        # Use only \'java\' to analyze code written in Java, Kotlin or both\n        # Use only \'javascript\' to analyze code written in JavaScript, TypeScript or both\n        # Learn more about CodeQL language support at https://aka.ms/codeql-docs/language-support\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v3\n\n      # Initializes the CodeQL tools for scanning.\n      - name: Initialize CodeQL\n        uses: github/codeql-action/init@v2\n        with:\n          languages: ${{ matrix.language }}\n          # If you wish to specify custom queries, you can do so here or in a config file\n          # By default, queries listed here will override any specified in a config file\n          # Prefix the list here with "+" to use these queries and those in the config file\n\n          # For more details on CodeQL\'s query packs, refer to: https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning#using-queries-in-ql-packs\n          # Use +security-extended,security-and-quality for wider security and better code quality\n          queries: +security-extended,security-and-quality\n\n      # Autobuild attempts to build any compiled languages (C/C++, C#, Go, Java, or Swift)\n      # Automates dependency installation for Python, Ruby, and JavaScript, optimizing the CodeQL analysis setup\n      # If this step fails, then you should remove it and run the build manually (see below)\n      - name: Autobuild\n        uses: github/codeql-action/autobuild@v2\n\n      # \u2139\ufe0f Command-line programs to run using the OS shell.\n      # \ud83d\udcda See https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstepsrun\n\n      # If the Autobuild fails above, remove it and uncomment the following three lines modify them (or add more) to build your code if your project, please refer to the EXAMPLE below for guidance\n\n      # - run: |\n      #     echo "Run, Build Application using script"\n      #     ./location_of_script_within_repo/buildscript.sh\n\n      - name: Perform CodeQL Analysis\n        uses: github/codeql-action/analyze@v3\n        with:\n          category: "/language:${{matrix.language}}"\n          fail-on: error\n')))}d.isMDXComponent=!0}}]);
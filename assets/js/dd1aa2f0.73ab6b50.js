"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[63026],{14760:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/PURIS-R2408-architecture-sketch-8a3490bb0a1221178ca80936584baf0d.png"},22922:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"kits/supply-chain-disruption-notification-kit/software-development-view","title":"Software Development View","description":"PURIS-DCM Supply Chain Disruption Notifications","source":"@site/docs-kits_versioned_docs/version-24.12/kits/supply-chain-disruption-notification-kit/software-development-view.md","sourceDirName":"kits/supply-chain-disruption-notification-kit","slug":"/kits/supply-chain-disruption-notification-kit/software-development-view","permalink":"/docs-kits/24.12/kits/supply-chain-disruption-notification-kit/software-development-view","draft":false,"unlisted":false,"tags":[],"version":"24.12","sidebarPosition":3,"frontMatter":{"id":"software-development-view","title":"Software Development View","description":"PURIS-DCM Supply Chain Disruption Notifications","sidebar_position":3},"sidebar":"kits","previous":{"title":"Adoption View","permalink":"/docs-kits/24.12/kits/supply-chain-disruption-notification-kit/adoption-view"},"next":{"title":"Operations View","permalink":"/docs-kits/24.12/kits/supply-chain-disruption-notification-kit/operations-view"}}');var a=n(74848),o=n(28453);const s={id:"software-development-view",title:"Software Development View",description:"PURIS-DCM Supply Chain Disruption Notifications",sidebar_position:3},c=void 0,r={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Policies",id:"policies",level:2},{value:"Access Policies",id:"access-policies",level:3},{value:"BPNL Access Policy",id:"bpnl-access-policy",level:4},{value:"Implementation Hint",id:"implementation-hint",level:4},{value:"Usage Policies",id:"usage-policies",level:3},{value:"Contract Definitions",id:"contract-definitions",level:3},{value:"Protocol",id:"protocol",level:2},{value:"Connector Data Asset Structure for &quot;Notification API&quot;",id:"connector-data-asset-structure-for-notification-api",level:3},{value:"Sample Data",id:"sample-data",level:2},{value:"1. Demand and Capacity Notification",id:"1-demand-and-capacity-notification",level:3}];function l(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Supply Chain Disruption Notifications kit banner",src:n(89766).A+"",width:"264",height:"245"})}),"\n",(0,a.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(t.p,{children:"The Development View provides information and resources for implementing Supply Chain Disruption Notifications (further: notifications) standards. The architecture chapter describes the interactions of all components in the notifications context. The policies chapter describes the access policies, usage policies and contract definitions. The protocol chapter gives examples how the data asset is registered in the connector. In the chapter sample data the semantic data model of the Supply Chain Disruption Notifications are defined with a reference to the turtle file and an example JSON payload. For quick installation guides and reference to a ready implementation of notifications, please see Operation View."}),"\n",(0,a.jsx)(t.h2,{id:"architecture",children:"Architecture"}),"\n",(0,a.jsx)(t.p,{children:"Figure 1 shows the high-level architecture of the notification exchange in the Catena-X dataspace and the services that\nare involved. Both the notification sender and the notification recipient must be members of the Catena-X network in\norder to communicate with each other. With the help of the Identity Access Management (IAM) each participant can\nauthenticate itself, verify the identity of the requesting party and decide whether to authorize the request."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.img,{alt:"Architecture Sketch",src:n(14760).A+"",width:"1462",height:"862"}),"\n",(0,a.jsx)(t.em,{children:"Figure 1: High-level architecture of the notification exchange in the Catena-X dataspace"})]}),"\n",(0,a.jsx)(t.p,{children:"From conceptual point of view the system consists of different building blocks. These building blocks in the following\ndiagram show which participant deploys which components. Identification and Access Management is omitted for simplicity\nreasons."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.img,{alt:"System Architecture",src:n(38743).A+"",width:"1756",height:"2042"}),"\n",(0,a.jsx)(t.em,{children:"Figure 2: Whitebox view on a PURIS system"})]}),"\n",(0,a.jsx)(t.h2,{id:"policies",children:"Policies"}),"\n",(0,a.jsxs)(t.p,{children:["This chapter describes the access & usage policies as well as the contract definitions. For more information on the\naccess & usage policies, please refer to\nthe ",(0,a.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/tractusx-edc/blob/main/docs/usage/management-api-walkthrough/02_policies.md",children:"policies documentation in the tractusx-edc repository"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"access-policies",children:"Access Policies"}),"\n",(0,a.jsxs)(t.p,{children:["To enable data sovereignty, access and usage policies are important to protect the data assets of a data provider in the\nconnector, as described in\nthe ",(0,a.jsx)(t.a,{href:"https://eclipse-tractusx.github.io/docs-kits/next/category/connector-kit",children:"Connector KIT"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"To decide which company has access to the data assets, access policy should be used. Note that without protecting data\nassets with access policies, they become publicly available in the Catena-X network which is not recommended."}),"\n",(0,a.jsxs)(t.p,{children:["Therefore, every asset should be protected and only be made available through specified BPNL policy groups or specific\nBPNL policies. For a detailed description,\nsee ",(0,a.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/tractusx-edc/tree/main/edc-extensions/bpn-validation",children:"Business Partner Validation Extension"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"bpnl-access-policy",children:"BPNL Access Policy"}),"\n",(0,a.jsx)(t.p,{children:"This policy allows limiting access to a data offer based on a list of specific BPNLs. This translates to the following\nfunctionality:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"The data offer creator will be able to create a policy listing all the BPN that can access the data offer."}),"\n",(0,a.jsx)(t.li,{children:"This means that only the connectors registered in the Catena-X network with the BPNL listed in the policy can see the\ndata offer and accept it (for the creation of data contracts and subsequent data exchange)."}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"implementation-hint",children:"Implementation Hint"}),"\n",(0,a.jsxs)(t.p,{children:["Examples including a JSON payload for a BPNL group access policy are described in\nthe ",(0,a.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/tractusx-edc/tree/main/edc-extensions/bpn-validation",children:"Business Partner Validation Extension"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"The reference implementation (see Operation View) also provides an extension to add the BPNL of the requesting party to\nthe header of a proxied request. As a result, during implementation one can use this BPNL to design the internal\nsubmodel API."}),"\n",(0,a.jsx)(t.h3,{id:"usage-policies",children:"Usage Policies"}),"\n",(0,a.jsx)(t.p,{children:"To decide which company can use the data asset under specific conditions, usage policies (also referred to as contract\npolicies) are used. Therefore, they are more specific than access policies and only used just after access is granted.\nCurrently, the usage policies aren't technically enforced but based on a legal framework agreements. Signing of\nframework agreements can be enforced during negotiation depending on the connector implementation."}),"\n",(0,a.jsxs)(t.p,{children:["Policies are defined based on the ",(0,a.jsx)(t.a,{href:"https://www.w3.org/TR/odrl-model/",children:"W3C ODRL format"}),". This allows a standardized way\nof formulating policy payloads. It further allows to stack different constraints with the ",(0,a.jsx)(t.code,{children:"odrl:and"})," operator.\nTherefore, every data provider can decide on his or her own under which conditions their data assets are shared in the\nnetwork. It is recommended to restrict the data usage for all exchanged data standards. An example of one usage policy\ncontaining three different constraints is shown and described in the following:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "@context": [\n    "http://www.w3.org/ns/odrl.jsonld",\n    {\n      "edc": "https://w3id.org/edc/v0.0.1/ns/",\n      "cx-policy": "https://w3id.org/catenax/policy/"\n    }\n  ],\n  "@type": "PolicyDefinitionRequestDto",\n  "@id": "<POLICY-ID>",\n  // Important for the contract definition\n  "edc:policy": {\n    "@type": "Set",\n    "profile": "cx-policy:profile2405",\n    "permission": [\n      {\n        "action": "use",\n        "constraint": {\n          "@type": "LogicalConstraint",\n          "and": [\n            {\n              "@type": "LogicalConstraint",\n              "leftOperand": "cx-policy:FrameworkAgreement",\n              "operator": "eq",\n              "rightOperand": "<FRAMEWORK-AGREEMENT>"\n            },\n            {\n              "@type": "LogicalConstraint",\n              "leftOperand": "cx-policy:UsagePurpose",\n              "operator": "eq",\n              "rightOperand": "<USAGE-PURPOSE>"\n            },\n            {\n              "@type": "LogicalConstraint",\n              "leftOperand": "cx-policy:ContractReference",\n              "operator": "eq",\n              "rightOperand": "x12345"\n            }\n          ]\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"It is recommended to use the following values for rightOperand of FrameworkAgreement and UsagePurpose depending on the\nuse case:"}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Use case"}),(0,a.jsxs)(t.th,{children:["cx-policy",":FrameworkAgreement"]}),(0,a.jsxs)(t.th,{children:["cx-policy",":UsagePurpose"]})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"DCM"}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"DemandCapacity:1.0"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"cx.dcm.base:1"})})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"PURIS"}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"Puris:1.0"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"cx.puris.base:1"})})]})]})]}),"\n",(0,a.jsxs)(t.p,{children:["More information can be found in\nthe ",(0,a.jsx)(t.a,{href:"https://eclipse-tractusx.github.io/docs-kits/kits/connector-kit/adoption-view_policies_cx/",children:"Policies in Catena-X of the Connector KIT"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"contract-definitions",children:"Contract Definitions"}),"\n",(0,a.jsx)(t.p,{children:"In the connector, every policy is associated with a contract. Thus, a contract definition is needed, detailing what\npolicies are required when contracting assets."}),"\n",(0,a.jsxs)(t.p,{children:["When using an above mentioned Access Policy, their ",(0,a.jsx)(t.code,{children:"ACCESS_POLICY_ID"})," needs to be included as a value of\nthe ",(0,a.jsx)(t.code,{children:"accessPolicyId"})," key in the contract definition."]}),"\n",(0,a.jsxs)(t.p,{children:["When using an above mentioned Usage Policy, their ",(0,a.jsx)(t.code,{children:"CONTRACT_POLICY_ID"})," needs to be included as a value of\nthe ",(0,a.jsx)(t.code,{children:"contractPolicyId"})," key in the contract definition."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "id": "{{CONTRACT_DEFINITION_ID}}",\n  "criteria": [\n    {\n      "operandLeft": "asset:prop:id",\n      "operator": "=",\n      "operandRight": "{{ASSET_ID}}"\n    }\n  ],\n  "accessPolicyId": "{{ACCESS_POLICY_ID}}",\n  "contractPolicyId": "{{CONTRACT_POLICY_ID}}"\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["For a more detailed tutorial on creating contracts for assets, see\nin ",(0,a.jsx)(t.a,{href:"https://eclipse-tractusx.github.io/docs/tutorials/e2e/boost/provideData",children:"Chapter 3 of the End-to-End Adopter Journey"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"protocol",children:"Protocol"}),"\n",(0,a.jsx)(t.p,{children:"This chapter contains data structures that are designed for providing data for notifications."}),"\n",(0,a.jsx)(t.h3,{id:"connector-data-asset-structure-for-notification-api",children:'Connector Data Asset Structure for "Notification API"'}),"\n",(0,a.jsx)(t.p,{children:"To enable notifications, the recipient has to register its notification API as a data asset as follows:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "@context": {\n    "@vocab": "https://w3id.org/edc/v0.0.1/ns/",\n    "cx-taxo": "https://w3id.org/catenax/taxonomy#",\n    "cx-common": "https://w3id.org/catenax/ontology/common#",\n    "dct": "http://purl.org/dc/terms/"\n  },\n  "@id": "{{DEMAND_AND_CAPACITY_NOTIFICATIONS_REQUEST_API_ASSET_ID}}",\n  "properties": {\n    "dct:type": {\n      "@id": "cx-taxo:DemandAndCapacityNotificationApi"\n    },\n    "cx-common:version": "1.0",\n    "description": "Demand and Capacity Notification API Endpoint"\n  },\n  "dataAddress": {\n    "@type": "DataAddress",\n    "type": "HttpData",\n    "proxyBody": "true",\n    "proxyMethod": "true",\n    "baseUrl": "{{DEMAND_AND_CAPACITY_NOTIFICATION_API_ENDPOINT}}",\n    "contentType": "application/json"\n  }\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"This asset can then be contracted by senders of notifications."}),"\n",(0,a.jsx)(t.h2,{id:"sample-data",children:"Sample Data"}),"\n",(0,a.jsxs)(t.p,{children:["The semantic models in the business context are defined in the Adoption View of this KIT. This chapter gives additional\ninformation for each aspect model by providing the example data objects in JSON format, link to the RDF turtle file on\nGitHub and unique semantic id of the aspect model. Currently the standard ",(0,a.jsx)(t.em,{children:"Supply Chain Disruption Notifications"}),"\nprovides one semantic model ",(0,a.jsx)(t.em,{children:"Demand and Capacity Notification"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"1-demand-and-capacity-notification",children:"1. Demand and Capacity Notification"}),"\n",(0,a.jsxs)(t.p,{children:["GitHub link to semantic data model in RDF turtle\nformat: ",(0,a.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.demand_and_capacity_notification/2.0.0/DemandAndCapacityNotification.ttl",children:"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.demand_and_capacity_notification/2.0.0/DemandAndCapacityNotification.ttl"})]}),"\n",(0,a.jsx)(t.p,{children:"This aspect model has the following semantic id:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.code,{children:"urn:samm:io.catenax.demand_and_capacity_notification:2.0.0#DemandAndCapacityNotification"})}),"\n",(0,a.jsxs)(t.p,{children:["The following JSON provides an example of the value-only serialization of the ",(0,a.jsx)(t.em,{children:"Supply Chain Disruption Notification"}),"\naspect model for a sample notification. The notification informs the supplier about a strike at the customer's site\nresulting in a demand reduction between 12.12.2023 and 17.12.2023."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "affectedSitesSender": ["BPNS7588787849VQ"],\n  "affectedSitesRecipient": ["BPNS6666787765VQ"],\n  "materialNumberSupplier": ["MNR-8101-ID146955.001"],\n  "contentChangedAt": "2023-12-13T15:00:00+01:00",\n  "startDateOfEffect": "2023-12-13T15:00:00+01:00",\n  "materialNumberCustomer": ["MNR-7307-AU340474.002"],\n  "leadingRootCause": "strike",\n  "effect": "demand-reduction",\n  "notificationId": "urn:uuid:d8b6b4ca-ca9c-42d9-8a34-f62591a1c68a",\n  "relatedNotificationId": "urn:uuid:d8b6b4ca-ca9c-42d9-8a34-f62591a1c68a",\n  "sourceNotificationId": "urn:uuid:d8b6b4ca-ca9c-42d9-8a34-f62591a1c68a",\n  "text": "Capacity reduction due to ongoing strike.",\n  "expectedEndDateOfEffect": "2023-12-17T08:00:00+01:00",\n  "status": "open"\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["The following JSON provides an example with the same payload and additionally with a message header. For more\ninformation on the message header, see\nthe ",(0,a.jsx)(t.a,{href:"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.shared.message_header/3.0.0/MessageHeaderAspect.ttl",children:"RDF turtle file of the message header"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "header": {\n    "senderBpn": "BPNL7588787849VQ",\n    "context": "CX-DemandAndCapacityNotification:1.0",\n    "messageId": "3b4edc05-e214-47a1-b0c2-1d831cdd9ba9",\n    "receiverBpn": "BPNL6666787765VQ",\n    "sentDateTime": "2023-12-01T21:24:00+07:00",\n    "version": "3.0.0"\n  },\n  "content": {\n    "demandAndCapacityNotification": {\n      "affectedSitesSender": ["BPNS7588787849VQ"],\n      "affectedSitesRecipient": ["BPNS6666787765VQ"],\n      "materialNumberSupplier": ["MNR-8101-ID146955.001"],\n      "contentChangedAt": "2023-12-13T15:00:00+01:00",\n      "startDateOfEffect": "2023-12-13T15:00:00+01:00",\n      "materialNumberCustomer": ["MNR-7307-AU340474.002"],\n      "leadingRootCause": "strike",\n      "effect": "demand-reduction",\n      "notificationId": "urn:uuid:d8b6b4ca-ca9c-42d9-8a34-f62591a1c68a",\n      "relatedNotificationId": "urn:uuid:d8b6b4ca-ca9c-42d9-8a34-f62591a1c68a",\n      "sourceNotificationId": "urn:uuid:d8b6b4ca-ca9c-42d9-8a34-f62591a1c68a",\n      "text": "Capacity reduction due to ongoing strike.",\n      "expectedEndDateOfEffect": "2023-12-17T08:00:00+01:00",\n      "status": "open"\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var i=n(96540);const a={},o=i.createContext(a);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:t},e.children)}},38743:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/PURIS-R2408-system-architecture sketch-6a4b0599ecdfbe1086fd93be52761853.png"},89766:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/supply-chain-disruption-notification-kit-logo-cb4025905819f0defbfb6d6d78e32937.svg"}}]);
"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[52761],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>x});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},l="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),l=p(n),h=i,x=l["".concat(c,".").concat(h)]||l[h]||u[h]||o;return n?a.createElement(x,r(r({ref:t},d),{},{components:n})):a.createElement(x,r({ref:t},d))}));function x(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[l]="string"==typeof e?e:i,r[1]=s;for(var p=2;p<o;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},15392:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const o={sidebar_position:1,title:"Provisioning"},r=void 0,s={unversionedId:"kits/knowledge-agents/operation-view/provider",id:"version-24.05/kits/knowledge-agents/operation-view/provider",title:"Provisioning",description:"\x3c!--",source:"@site/docs-kits_versioned_docs/version-24.05/kits/knowledge-agents/operation-view/provider.md",sourceDirName:"kits/knowledge-agents/operation-view",slug:"/kits/knowledge-agents/operation-view/provider",permalink:"/docs-kits/kits/knowledge-agents/operation-view/provider",draft:!1,tags:[],version:"24.05",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Provisioning"},sidebar:"kits",previous:{title:"Agent-Enabled Dataspace Connector",permalink:"/docs-kits/kits/knowledge-agents/operation-view/agent_edc"},next:{title:"Bridging",permalink:"/docs-kits/kits/knowledge-agents/operation-view/bridge"}},c={},p=[{value:"Quick Setup Guide for Data Provisioning",id:"quick-setup-guide-for-data-provisioning",level:2},{value:"1. Add Helm Dependency to the Binding (Provisioning) Agent",id:"1-add-helm-dependency-to-the-binding-provisioning-agent",level:3},{value:"2. Configure the Provisioning Agent with Mappings",id:"2-configure-the-provisioning-agent-with-mappings",level:3},{value:"3. Testdrive the Provisioning Agent",id:"3-testdrive-the-provisioning-agent",level:3},{value:"Quick Setup Guide for Function Provisioning (Remoting)",id:"quick-setup-guide-for-function-provisioning-remoting",level:2},{value:"1. Add a Helm Dependency to the Binding (Remoting) Agent",id:"1-add-a-helm-dependency-to-the-binding-remoting-agent",level:3},{value:"2. Configure the Remoting Agent with a Function Binding",id:"2-configure-the-remoting-agent-with-a-function-binding",level:3},{value:"3. Test Drive the Remoting Agent",id:"3-test-drive-the-remoting-agent",level:3},{value:"Quick Setup Guide for Registering A Graph in the EDC",id:"quick-setup-guide-for-registering-a-graph-in-the-edc",level:2},{value:"1. Register A Graph Policy",id:"1-register-a-graph-policy",level:3},{value:"2. Register A Graph Contract",id:"2-register-a-graph-contract",level:3},{value:"3. Register Graph Assets including Shape Descriptions",id:"3-register-graph-assets-including-shape-descriptions",level:3},{value:"Federated (Data) Graph Asset",id:"federated-data-graph-asset",level:4},{value:"Federated (Function) Graph Assets",id:"federated-function-graph-assets",level:4}],d={toc:p};function l(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"For Providing Data and/or Functions in Semantic-Web Driven Dataspace Applications following the Catena-X Knowledge Agents Standard, this KIT recommends deploying a ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/knowledge-agents/blob/main/README.md"},"Tractus-X Binding Agent")),(0,i.kt)("p",null,"More specifically, this KIT recommends to deploy"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"the ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/eclipse-tractusx/knowledge-agents/blob/main/provisioning/README.md"},"Tractus-X Provisioning Agent")," for relational or virtualized data sources."),(0,i.kt)("li",{parentName:"ul"},"the ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/eclipse-tractusx/knowledge-agents/blob/main/remoting/README.md"},"Tractus-X Remoting Agent")," for REST-based API functions.")),(0,i.kt)("p",null,"For more information see"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Our ",(0,i.kt)("a",{parentName:"li",href:"../adoption-view/intro"},"Adoption")," guidelines"),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("a",{parentName:"li",href:"../development-view/architecture"},"Implementation")," documentation"),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("a",{parentName:"li",href:"deployment"},"Deployment")," overview"),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("a",{parentName:"li",href:"testbed"},"Conformity")," testbed"),(0,i.kt)("li",{parentName:"ul"},"A ",(0,i.kt)("a",{parentName:"li",href:"policy"},"Data Sovereignity & Graph Policy")," discussion")),(0,i.kt)("h2",{id:"quick-setup-guide-for-data-provisioning"},"Quick Setup Guide for Data Provisioning"),(0,i.kt)("h3",{id:"1-add-helm-dependency-to-the-binding-provisioning-agent"},"1. Add Helm Dependency to the Binding (Provisioning) Agent"),(0,i.kt)("p",null,"Add a helm dependency to your umbrella/infrastructure Chart.yaml (this example uses a Dremio datalake with a telematics schema, see ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/knowledge-agents/blob/main/provisioning/README.md"},"here")," for more options and full details)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"    - name: provisioning-agent\n      repository: https://eclipse-tractusx.github.io/charts/dev\n      version: 1.12.19\n      alias: my-provider-agent\n")),(0,i.kt)("h3",{id:"2-configure-the-provisioning-agent-with-mappings"},"2. Configure the Provisioning Agent with Mappings"),(0,i.kt)("p",null,"Then configure the provisioning agent in the values.yaml - especially you introduce so-called mappings which are correspondences between identifiable and descriptive 'entities' or 'rows' in the database and\nsubgraphs (or 'node surroundings') in the graph. Using these mappings, the provisioning agent will be able to translate any SPARQL query (or more specific: a SPARQL profile called KA-BIND) into an efficient SQL query."),(0,i.kt)("p",null,"Each mapping will then be presented by its own endpoint (= graph). Each graph usually corresponds to a use case role, such as the OEM providing telematics data for vehicle components in a Behaviour Twin Prognosis. The use case role will determine the ontology concepts which the use case participant may need to provide/map or consume in its skills. In the following example, we map an existing datalake schema with telematics data to the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/reliability"},"Reliablity Ontology"),", the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/vehicle"},"Vehicle Ontology"),", the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/common"},"Common (Dataspace) Ontology")," and the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/core"},"Core (Meta) Ontology")," - all being part of the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology"},"Complete (Merged) Ontology"),"."),(0,i.kt)("p",null,"The below mapping resource is written in the ",(0,i.kt)("a",{parentName:"p",href:"https://ontop-vkg.org/tutorial/mapping/"},"OBDA Mapping Definition Language"),". Note that the network interface is not supposed to be public (hence authentication is not used there), but should only be visible to the ",(0,i.kt)("a",{parentName:"p",href:"agent_edc"},"Agent Plane"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'my-provider-agent: \n  nameOverride: my-provider-agent\n  fullnameOverride: my-provider-agent\n  bindings: \n    # mutes the default example endpoint\n    dtc: null\n    # adds a telematics graph based on the standard ontology \n    telematics: \n      port: 8080\n      path: /telematics/(.*)\n      settings: \n        jdbc.url=\'jdbc:dremio:direct=data-backend:31010\n        jdbc.driver=com.dremio.jdbc.Driver\n        jdbc.user=<path:{{vaultpath}}#username>\n        jdbc.password=<path:{{vaultpath}}#password>\n        ontop.cardinalityMode=LOOSE\n      ontology: cx-ontology.xml\n      mapping: |-\n        [PrefixDeclaration]\n        cx-common:          https://w3id.org/catenax/ontology/common#\n        cx-core:            https://w3id.org/catenax/ontology/core#\n        cx-vehicle:         https://w3id.org/catenax/ontology/vehicle#\n        cx-reliability:     https://w3id.org/catenax/ontology/reliability#\n        cx-taxo:            https://w3id.org/catenax/taxonomy#\n        uuid:               urn:uuid:\n        bpnl:               bpn:legal:\n        owl:                http://www.w3.org/2002/07/owl#\n        rdf:                http://www.w3.org/1999/02/22-rdf-syntax-ns#\n        xml:                http://www.w3.org/XML/1998/namespace\n        xsd:                http://www.w3.org/2001/XMLSchema#\n        json:               https://json-schema.org/draft/2020-12/schema#\n        obda:               https://w3id.org/obda/vocabulary#\n        rdfs:               http://www.w3.org/2000/01/rdf-schema#\n\n        [MappingDeclaration] @collection [[\n        mappingId vehicles\n        target    uuid:{catenaXId} rdf:type cx-vehicle:Vehicle ; cx-vehicle:vehicleIdentificationNumber {localIdentifiers_van}^^xsd:string; cx-vehicle:manufacturer bpnl:{localIdentifiers_manufacturerId}; cx-vehicle:productionDate {manufacturingInformation_date}^^xsd:date.\n        source    SELECT "catenaXId", "localIdentifiers_van", "localIdentifiers_manufacturerId", "manufacturingInformation_date" FROM "HI_TEST_OEM"."CX_RUL_SerialPartTypization_Vehicle" vehicles\n\n        mappingId partsvehicle\n        target    uuid:{childCatenaXId} cx-vehicle:isPartOf uuid:{catenaXId} .\n        source    SELECT "catenaXId", "childCatenaXId" FROM  "HI_TEST_OEM"."CX_RUL_AssemblyPartRelationship" vehicleparts\n\n        mappingId vehicleparts\n        target    uuid:{catenaXId} cx-vehicle:hasPart uuid:{childCatenaXId}.\n        source    SELECT "catenaXId", "childCatenaXId" FROM  "HI_TEST_OEM"."CX_RUL_AssemblyPartRelationship" vehicleparts\n\n        mappingId parts\n        target    uuid:{catenaXId} rdf:type cx-vehicle:Part ; cx-vehicle:id {localIdentifiers_partInstanceId}^^xsd:string; cx-vehicle:name {partTypeInformation_nameAtManufacturer}^^xsd:string; cx-vehicle:number {partTypeInformation_manufacturerPartId}^^xsd:string; cx-vehicle:supplier bpnl:{localIdentifiers_manufacturerId}; cx-vehicle:productionDate {manufacturingInformation_date}^^xsd:date .\n        source    SELECT "catenaXId", "localIdentifiers_partInstanceId", "partTypeInformation_nameAtManufacturer", "partTypeInformation_manufacturerPartId", "localIdentifiers_manufacturerId", "manufacturingInformation_date" FROM "HI_TEST_OEM"."CX_RUL_SerialPartTypization_Component" parts \n\n        mappingId partAnalysis\n        target    uuid:{catenaXId}/{targetComponentId} cx-reliability:analysedObject uuid:{targetComponentId}.\n        source    SELECT "catenaXId", "targetComponentId" FROM "HI_TEST_OEM"."CX_RUL_Analysis" analysis\n\n        mappingId analysisInformation\n        target    uuid:{catenaXId}/{targetComponentId} rdf:type cx-reliability:Analysis; cx-reliability:operatingHoursOfVehicle {metadata_status_operatingHours_avg}^^xsd:float; cx-core:startDateTime {metadata_status_date_min}^^xsd:dateTime; cx-core:endDateTime {metadata_status_date_max}^^xsd:dateTime; cx-reliability:mileageOfVehicle {metadata_status_mileage_avg}^^xsd:int.\n        source    SELECT "catenaXId", "targetComponentId", "metadata_status_operatingHours_avg", "metadata_status_date_min", "metadata_status_date_max", "metadata_status_mileage_avg" FROM "HI_TEST_OEM"."CX_RUL_Analysis" loadspectrum\n\n        mappingId analysisResult\n        target    uuid:{catenaXId}/{targetComponentId} cx-reliability:result uuid:{catenaXId}/{targetComponentId}/{metadata_componentDescription} .\n        source    SELECT "catenaXId", "targetComponentId", "metadata_componentDescription" FROM "HI_TEST_OEM"."CX_RUL_LoadCollective" loadspectrum\n\n        mappingId loadspectrum\n        target    uuid:{catenaXId}/{targetComponentId}/{metadata_componentDescription} rdf:type cx-reliability:LoadSpectrum; cx-core:id cx-taxo:{metadata_componentDescription}; cx-core:name {metadata_projectDescription}^^xsd:string; cx-reliability:description {metadata_routeDescription}^^xsd:string; cx-reliability:countingValue {header_countingValue}^^xsd:string; cx-reliability:countingUnit {header_countingUnit}^^xsd:string; cx-reliability:countingMethod {header_countingMethod}^^xsd:string; cx-reliability:channels {header_channels}^^json:Object; cx-reliability:classes {body_classes}^^json:Object; cx-reliability:values {body_counts_countsList}^^json:Object .\n        source    SELECT "catenaXId", "targetComponentId", "metadata_projectDescription", "metadata_componentDescription", "metadata_routeDescription", "metadata_status_date", "header_countingValue", "header_countingUnit", "header_countingMethod", "header_channels", "body_counts_countsList", "body_classes" FROM "HI_TEST_OEM"."CX_RUL_LoadCollective" loadspectrum\n        ]]\n  ingresses:\n    - enabled: true\n      # -- The hostname to be used to precisely map incoming traffic onto the underlying network service\n      hostname: "my-provider-agent.domain"\n      annotations:\n        nginx.ingress.kubernetes.io/rewrite-target: /$1\n        nginx.ingress.kubernetes.io/use-regex: "true"\n      # -- Agent endpoints exposed by this ingress resource\n      endpoints:\n        - telematics\n      tls:\n        enabled: true\n        secretName: my-provider-tls\n')),(0,i.kt)("h3",{id:"3-testdrive-the-provisioning-agent"},"3. Testdrive the Provisioning Agent"),(0,i.kt)("p",null,"After the provisioning agent has been setup, you may already invoke SPARQL queries against it in the KA-BIND profile:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"curl --location 'https://my-provider-agent.domain/telematics/sparql' \\\n--header 'Content-Type: application/sparql-query' \\\n--header 'Accept: application/json' \\\n--data 'PREFIX cx-common:       <https://w3id.org/catenax/ontology/common#>\nPREFIX cx-core:         <https://w3id.org/catenax/ontology/core#>\nPREFIX cx-vehicle:      <https://w3id.org/catenax/ontology/vehicle#>\nPREFIX cx-reliability:  <https://w3id.org/catenax/ontology/reliability#>\nPREFIX rdf:             <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:            <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:             <http://www.w3.org/2001/XMLSchema#>\nPREFIX json:            <https://json-schema.org/draft/2020-12/schema#> \n\nSELECT ?vehicle ?van ?aggregate ?assembly ?supplier ?teleAnalysis ?operatingTime ?mileage ?recordDate ?ls_type ?ls_name ?ls_value ?ls_unit ?ls_method ?ls_channels ?ls_classes ?ls_values WHERE {\n\n    VALUES (?van ?aggregate) { \n        (\"FNLQNRVCOFLHAQ\"^^xsd:string \"Differential Gear\"^^xsd:string) \n    }\n\n    VALUES (?ls_type) { \n        (<https://w3id.org/catenax/taxonomy#GearSet>)\n    }\n\n    ?vehicle rdf:type cx-vehicle:Vehicle;\n        cx-vehicle:vehicleIdentificationNumber ?van.\n\n    ?assembly rdf:type cx-vehicle:Part;\n        cx-vehicle:name ?aggregate;\n        cx-vehicle:isPartOf ?vehicle;\n        cx-vehicle:supplier ?supplier.\n        \n    ?teleAnalysis rdf:type cx-reliability:Analysis;\n        cx-reliability:analysedObject ?assembly;\n        cx-reliability:operatingHoursOfVehicle ?operatingTime;\n        cx-reliability:mileageOfVehicle ?mileage;\n        cx-core:startDateTime ?recordDate;\n        cx-reliability:result [\n            cx-core:id ?ls_type;\n            cx-core:name ?ls_name;\n            cx-reliability:countingValue ?ls_value;\n            cx-reliability:countingUnit ?ls_unit;\n            cx-reliability:countingMethod ?ls_method;\n            cx-reliability:channels ?ls_channels;\n            cx-reliability:classes ?ls_classes;\n            cx-reliability:values ?ls_values\n        ].\n} \n'\n")),(0,i.kt)("p",null,"and you should receive an answer, such as"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "head": {\n        "vars": [\n            "vehicle",\n            "van",\n            "aggregate",\n            "assembly",\n            "supplier",\n            "teleAnalysis",\n            "operatingTime",\n            "mileage",\n            "recordDate",\n            "ls_type",\n            "ls_name",\n            "ls_value",\n            "ls_unit",\n            "ls_method",\n            "ls_channels",\n            "ls_classes",\n            "ls_values"\n        ]\n    },\n    "results": {\n        "bindings": [\n            {\n                "vehicle": {\n                    "type": "uri",\n                    "value": "urn:uuid:79d19614-b699-4716-b232-ef250e1c1772"\n                },\n                "van": {\n                    "type": "literal",\n                    "value": "FNLQNRVCOFLHAQ"\n                },\n                "aggregate": {\n                    "type": "literal",\n                    "value": "Differential Gear"\n                },\n                "assembly": {\n                    "type": "uri",\n                    "value": "urn:uuid:4773625a-5e56-4879-abed-475be29bd664"\n                },\n                "supplier": {\n                    "type": "uri",\n                    "value": "bpn:legal:BPNL00000003B2OM"\n                },\n                "teleAnalysis": {\n                    "type": "uri",\n                    "value": "urn:uuid:79d19614-b699-4716-b232-ef250e1c1772/4773625a-5e56-4879-abed-475be29bd664"\n                },\n                "operatingTime": {\n                    "datatype": "http://www.w3.org/2001/XMLSchema#float",\n                    "type": "literal",\n                    "value": "2230.1333333333337"\n                },\n                "mileage": {\n                    "datatype": "http://www.w3.org/2001/XMLSchema#int",\n                    "type": "literal",\n                    "value": "51440"\n                },\n                "recordDate": {\n                    "datatype": "http://www.w3.org/2001/XMLSchema#dateTime",\n                    "type": "literal",\n                    "value": "2022-03-15T12:00:00.000Z"\n                },\n                "ls_type": {\n                    "type": "uri",\n                    "value": "https://w3id.org/catenax/taxonomy#GearSet"\n                },\n                "ls_name": {\n                    "type": "literal",\n                    "value": "projectnumber Stadt"\n                },\n                "ls_value": {\n                    "type": "literal",\n                    "value": "Counts"\n                },\n                "ls_unit": {\n                    "type": "literal",\n                    "value": "unit:ONE"\n                },\n                "ls_method": {\n                    "type": "literal",\n                    "value": "LRD"\n                },\n                "ls_channels": {\n                    "datatype": "https://json-schema.org/draft/2020-12/schema#Object",\n                    "type": "literal",\n                    "value": "[ {\\\\x0A  \\"unit\\" : \\"unit:rpm\\",\\\\x0A  \\"numberOfBins\\" : 128,\\\\x0A  \\"channelName\\" : \\"N_TU\\",\\\\x0A  \\"upperLimit\\" : 12700.0,\\\\x0A  \\"lowerLimit\\" : -100.0\\\\x0A}, {\\\\x0A  \\"unit\\" : \\"unit:Nm\\",\\\\x0A  \\"numberOfBins\\" : 128,\\\\x0A  \\"channelName\\" : \\"T_TU\\",\\\\x0A  \\"upperLimit\\" : 1290.0,\\\\x0A  \\"lowerLimit\\" : -1270.0\\\\x0A}, {\\\\x0A  \\"unit\\" : \\"unit:ONE\\",\\\\x0A  \\"numberOfBins\\" : 10,\\\\x0A  \\"channelName\\" : \\"Z_GANG\\",\\\\x0A  \\"upperLimit\\" : 9.5,\\\\x0A  \\"lowerLimit\\" : -0.5\\\\x0A} ]"\n                },\n                "ls_classes": {\n                    "datatype": "https://json-schema.org/draft/2020-12/schema#Object",\n                    "type": "literal",\n                    "value": "[ {\\\\x0A  \\"className\\" : \\"N_TU-class\\",\\\\x0A  \\"classList\\" : [ 1, 1, 1, 2, 3 ]\\\\x0A}, {\\\\x0A  \\"className\\" : \\"Z_GANG-class\\",\\\\x0A  \\"classList\\" : [ 1, 3, 2, 3, 3 ]\\\\x0A} ]"\n                },\n                "ls_values": {\n                    "datatype": "https://json-schema.org/draft/2020-12/schema#Object",\n                    "type": "literal",\n                    "value": "[ 0.6996546387672424, 2.277406692504883, 3.5231547355651855, 13.261415481567383, 28.902271270751953 ]"\n                }\n            }\n        ]\n    }\n}\n')),(0,i.kt)("h2",{id:"quick-setup-guide-for-function-provisioning-remoting"},"Quick Setup Guide for Function Provisioning (Remoting)"),(0,i.kt)("h3",{id:"1-add-a-helm-dependency-to-the-binding-remoting-agent"},"1. Add a Helm Dependency to the Binding (Remoting) Agent"),(0,i.kt)("p",null,"Add a helm dependency to your umbrella/infrastructure Chart.yaml (this example uses a ",(0,i.kt)("a",{parentName:"p",href:"../../behaviour-twin-kit/overview"},"Behaviour Twin KIT")," Remaining Useful Life RUL and Health Indicator HIbackends, see ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/knowledge-agents/blob/main/remoting/README.md"},"here")," for more options and full details)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"    - name: remoting-agent\n      repository: https://eclipse-tractusx.github.io/charts/dev\n      version: 1.12.19\n      alias: my-remoting-agent\n")),(0,i.kt)("h3",{id:"2-configure-the-remoting-agent-with-a-function-binding"},"2. Configure the Remoting Agent with a Function Binding"),(0,i.kt)("p",null,"Then configure the remoting agent in the values.yaml - especially you introduce so-called bindings which are correspondences between REST-based API calls (carrying either JSON or XML schemas) and dedciated invocation nodes that are related with input and output predicates in a graph. Using these bindings, the remoting agent will be able to translate any SPARQL query (or more specific: a SPARQL profile called KA-BIND-FUNC) into batches of API calls."),(0,i.kt)("p",null,"Each binding will then be presented by its own repository (= graph). Each graph usually corresponds to a use case role, such as the SUPPLIER providing either RUL or HI prognosis function in a Behaviour Twin Prognosis. The use case role will determine the ontology concepts which the use case participant may need to provide/map or consume in its skills. In the following example, we map existing API backends to the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/behaviour"},"Behaviour Ontology"),", the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/reliability"},"Reliability Ontology"),", the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/vehicle"},"Vehicle Ontology"),", the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/function"},"Function Ontology"),", the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/common"},"Common (Dataspace) Ontology")," and the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology/core"},"Core (Meta) Ontology")," - all being part of the ",(0,i.kt)("a",{parentName:"p",href:"https://w3id.org/catenax/ontology"},"Complete (Merged) Ontology"),"."),(0,i.kt)("p",null,"The below binding resources are written in a ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/turtle/"},"Terse Triple Language - TTL")," syntax suitable for ",(0,i.kt)("a",{parentName:"p",href:"https://rdf4j.org/documentation/tools/repository-configuration/"},"RDF4J")," repositories. Note that the network interface is not supposed to be public (hence authentication is not used there), but should only be visible to the ",(0,i.kt)("a",{parentName:"p",href:"agent_edc"},"Agent Plane"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'my-remoting-agent: \n  nameOverride: my-remoting-agent\n  fullnameOverride: my-remoting-agent\n  ingresses:\n    - enabled: true\n      # -- The hostname to be used to precisely map incoming traffic onto the underlying network service\n      hostname: "my-remoting-agent.domain"\n      # -- Agent endpoints exposed by this ingress resource\n      endpoints:\n        - default\n      tls:\n        enabled: true\n        secretName: my-remoting-tls\n  repositories:\n    rul: |-\n      #\n      # Rdf4j configuration for a rul-specific remoting\n      #\n      @prefix rdf:            <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n      @prefix rdfs:           <http://www.w3.org/2000/01/rdf-schema#>.\n      @prefix rep:            <http://www.openrdf.org/config/repository#>.\n      @prefix sr:             <http://www.openrdf.org/config/repository/sail#>.\n      @prefix sail:           <http://www.openrdf.org/config/sail#>.\n      @prefix sp:             <http://spinrdf.org/sp#>.\n      @prefix xsd:            <http://www.w3.org/2001/XMLSchema#> .\n      @prefix json:           <https://json-schema.org/draft/2020-12/schema#> .\n      @prefix dcterms:        <http://purl.org/dc/terms/> .\n      @prefix cx-fx:          <https://w3id.org/catenax/ontology/function#>.\n      @prefix cx-common:      <https://w3id.org/catenax/ontology/common#>.\n      @prefix cx-core:        <https://w3id.org/catenax/ontology/core#>.\n      @prefix cx-vehicle:     <https://w3id.org/catenax/ontology/vehicle#>.\n      @prefix cx-reliability: <https://w3id.org/catenax/ontology/reliability#>.\n      @prefix cx-behaviour:   <https://w3id.org/catenax/ontology/behaviour#>.\n\n      [] rdf:type rep:Repository ;\n        rep:repositoryID "rul" ;\n        rdfs:label "Remainig Useful Life Functions Repository" ;\n        rep:repositoryImpl [\n            rep:repositoryType "openrdf:SailRepository" ;\n            sr:sailImpl [\n              sail:sailType "org.eclipse.tractusx.agents:Remoting" ;\n              cx-fx:supportsInvocation cx-behaviour:RemainingUsefulLife;\n              cx-fx:callbackAddress <https://my-remoting-agent.domain/rdf4j-server/callback>;\n            ]\n        ].\n\n      cx-behaviour:RemainingUsefulLife rdf:type cx-fx:Function;\n        dcterms:description "Remaining Useful Life is an asynchronous batch invocation."@en ;\n        dcterms:title "Remaining Useful Life" ;\n        cx-fx:targetUri "http://service-backend:5005/api/rul2";\n        cx-fx:invocationMethod "POST-JSON";\n      #  cx-common:authenticationKey "Authorization";\n      #  cx-common:authenticationCode "Basic TOKEN";\n        cx-fx:invocationMethod "POST-JSON";\n        cx-fx:invocationIdProperty "header.notificationID,content.requestRefId";\n        cx-fx:callbackProperty "header.respondAssetId";\n        cx-fx:input cx-behaviour:notification;\n        cx-fx:input cx-behaviour:sender;\n        cx-fx:input cx-behaviour:senderConnector;\n        cx-fx:input cx-behaviour:recipient;\n        cx-fx:input cx-behaviour:recipientConnector;\n        cx-fx:input cx-behaviour:recipient;\n        cx-fx:input cx-behaviour:recipientConnector;\n        cx-fx:input cx-behaviour:severity;\n        cx-fx:input cx-behaviour:status;\n        cx-fx:input cx-behaviour:targetDate;\n        cx-fx:input cx-behaviour:timeStamp;\n        cx-fx:input cx-behaviour:classification;\n        cx-fx:input cx-behaviour:component;\n        cx-fx:input cx-behaviour:observationType;\n        cx-fx:input cx-behaviour:metadata;\n        cx-fx:input cx-behaviour:statusDate;\n        cx-fx:input cx-behaviour:statusOperatingHours;\n        cx-fx:input cx-behaviour:statusMileage;\n        cx-fx:input cx-behaviour:countingMethod;\n        cx-fx:input cx-behaviour:countingValue;\n        cx-fx:input cx-behaviour:countingUnit;\n        cx-fx:input cx-behaviour:headerChannels;\n        cx-fx:input cx-behaviour:bodyClasses;\n        cx-fx:input cx-behaviour:bodyCountsList;\n        cx-fx:result cx-behaviour:RemainingUsefulLifeResult.\n\n      cx-behaviour:notification rdf:type cx-fx:Argument;\n        dcterms:description "A default notification output template."@en ;\n        dcterms:title "Notification Template";\n        cx-fx:argumentName ".";\n        cx-fx:dataType json:Object;\n        cx-fx:priority "-1"^^xsd:integer;\n        cx-fx:default "{ \\"content\\": { \\"endurancePredictorInputs\\": []}}"^^json:Object.\n\n      cx-behaviour:sender rdf:type cx-fx:Argument;\n        dcterms:description "Sender of the notification as a BPN."@en ;\n        dcterms:title "Notification Sender";\n        cx-fx:argumentName "header.senderBPN";\n        cx-fx:default "anonymous".\n\n      cx-behaviour:senderConnector rdf:type cx-fx:Argument;\n        dcterms:description "Sender Address of the notification as a URL."@en ;\n        dcterms:title "Notification Sender Address";\n        cx-fx:argumentName "header.senderAddress";\n        cx-fx:default "unknown".\n\n      cx-behaviour:recipient rdf:type cx-fx:Argument;\n        dcterms:description "Recipient of the notification as a BPN."@en ;\n        dcterms:title "Notification Recipient";\n        cx-fx:argumentName "header.recipientBPN";\n        cx-fx:default "anonymous".\n\n      cx-behaviour:recipientConnector rdf:type cx-fx:Argument;\n        dcterms:description "Recipient Address of the notification as a URL."@en ;\n        dcterms:title "Notification Recipient Address";\n        cx-fx:argumentName "header.recipientAddress";\n        cx-fx:default "unknown".\n\n      cx-behaviour:severity rdf:type cx-fx:Argument;\n        dcterms:description "Severity of the notification."@en ;\n        dcterms:title "Notification Severity";\n        cx-fx:argumentName "header.severity";\n        cx-fx:dataType xsd:string;\n        cx-fx:default "MINOR".\n\n      cx-behaviour:status rdf:type cx-fx:Argument;\n        dcterms:description "Status of the notification."@en ;\n        dcterms:title "Notification Status";\n        cx-fx:argumentName "header.status";\n        cx-fx:dataType xsd:string;\n        cx-fx:default "SENT".\n\n      cx-behaviour:targetDate rdf:type cx-fx:Argument;\n        dcterms:description "Target Date of the notification."@en ;\n        dcterms:title "Notification Target Date";\n        cx-fx:dataType xsd:dateTime;\n        cx-fx:argumentName "header.targetDate".\n\n      cx-behaviour:timeStamp rdf:type cx-fx:Argument;\n        dcterms:description "Timestamp of the notification."@en ;\n        dcterms:title "Notification Timestamp";\n        cx-fx:dataType xsd:dateTime;\n        cx-fx:argumentName "header.timeStamp".\n\n      cx-behaviour:classification rdf:type cx-fx:Argument;\n        dcterms:description "Classification of the notification."@en ;\n        dcterms:title "Notification Classification";\n        cx-fx:argumentName "header.classification";\n        cx-fx:dataType xsd:string;\n        cx-fx:default "RemainingUsefulLifePredictor".\n\n      cx-behaviour:component rdf:type cx-fx:Argument;\n        dcterms:description "Component of the Predicition."@en ;\n        dcterms:title "Predicted Component";\n        cx-fx:formsBatchGroup "true"^^xsd:boolean;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.componentId,content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.targetComponentId".\n\n      cx-behaviour:observationType rdf:type cx-fx:Argument;\n        dcterms:description "The type of observation made."@en ;\n        dcterms:title "Observation Type";\n        cx-fx:strip <https://w3id.org/catenax/taxonomy#>;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.componentDescription";\n        cx-fx:dataType xsd:string.\n\n      cx-behaviour:metadata rdf:type cx-fx:Argument;\n        dcterms:description "Metadata of the Loadspectrum."@en ;\n        dcterms:title "Loadspectrum Metadata";\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}";\n        cx-fx:dataType json:Object;\n        cx-fx:priority "0"^^xsd:integer;\n        cx-fx:default "{ \\"metadata\\":{ \\"projectDescription\\": \\"pnr_76543\\", \\"routeDescription\\": \\"logged\\" }, \\"bammId\\": \\"urn:bamm:io.openmanufacturing.digitaltwin:1.0.0#ClassifiedLoadSpectrum\\" }"^^json:Object.\n\n      cx-behaviour:statusDate rdf:type cx-fx:Argument;\n        dcterms:description "Time of Recording."@en ;\n        dcterms:title "Loadspectrum Recording Time";\n        cx-fx:dataType xsd:dateTime;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.status.date".\n\n      cx-behaviour:statusOperatingHours rdf:type cx-fx:Argument;\n        dcterms:description "Operating Hours of Target Component at Time of Recording."@en ;\n        dcterms:title "Loadspectrum Operating Hours";\n        cx-fx:dataType xsd:float;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.status.operatingHours".\n\n      cx-behaviour:statusMileage rdf:type cx-fx:Argument;\n        dcterms:description "Mileage of Component at Time of Recording."@en ;\n        dcterms:title "Loadspectrum Mileage";\n        cx-fx:dataType xsd:int;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.status.mileage".\n\n      cx-behaviour:countingUnit rdf:type cx-fx:Argument;\n        dcterms:description "Counting Unit of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counting Unit";\n        cx-fx:dataType xsd:string;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.countingUnit".\n\n      cx-behaviour:countingValue rdf:type cx-fx:Argument;\n        dcterms:description "Counting Value Name of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counting Value";\n        cx-fx:dataType xsd:string;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.countingValue,content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.body.counts.countsName".\n\n      cx-behaviour:countingMethod rdf:type cx-fx:Argument;\n        dcterms:description "Counting Method of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counting Method";\n        cx-fx:dataType xsd:string;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.countingMethod".\n\n      cx-behaviour:headerChannels rdf:type cx-fx:Argument;\n        dcterms:description "Channels of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Channels";\n        cx-fx:dataType json:Object;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.channels".\n\n      cx-behaviour:bodyClasses rdf:type cx-fx:Argument;\n        dcterms:description "Classes of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Classes";\n        cx-fx:dataType json:Object;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.body.classes".\n\n      cx-behaviour:bodyCountsList rdf:type cx-fx:Argument;\n        dcterms:description "Counts List of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counts List";\n        cx-fx:dataType json:Object;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.body.counts.countsList".\n\n      cx-behaviour:RemainingUsefulLifeResult rdf:type cx-fx:Result;\n        dcterms:description "The asynchronous notification response."@en ;\n        dcterms:title "Asynchronous notification response." ;\n        cx-fx:callbackProperty "header.referencedNotificationID";\n        cx-fx:outputProperty "content.endurancePredictorOutputs";\n        cx-fx:output cx-behaviour:remainingOperatingHours;\n        cx-fx:output cx-behaviour:remainingRunningDistance.\n\n      cx-behaviour:remainingOperatingHours rdf:type cx-fx:ReturnValue;\n        dcterms:description "Predicted Operating Hours of Remaining Useful Life Response"@en ;\n        dcterms:title "Remaining Useful Life Operating Hours" ;\n        cx-fx:valuePath "0.remainingUsefulLife.remainingOperatingHours";\n        cx-fx:dataType xsd:float.\n\n      cx-behaviour:remainingRunningDistance rdf:type cx-fx:ReturnValue;\n        dcterms:description "Predicted Distance of Remaining Useful Life Response"@en ;\n        dcterms:title "Remaining Useful Life Distance" ;\n        cx-fx:valuePath "0.remainingUsefulLife.remainingRunningDistance";\n        cx-fx:dataType xsd:int.\n    health: |-\n      #\n      # Rdf4j configuration for a hi-specific remoting\n      #\n      @prefix rdf:            <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n      @prefix rdfs:           <http://www.w3.org/2000/01/rdf-schema#>.\n      @prefix rep:            <http://www.openrdf.org/config/repository#>.\n      @prefix sr:             <http://www.openrdf.org/config/repository/sail#>.\n      @prefix sail:           <http://www.openrdf.org/config/sail#>.\n      @prefix sp:             <http://spinrdf.org/sp#>.\n      @prefix xsd:            <http://www.w3.org/2001/XMLSchema#> .\n      @prefix json:           <https://json-schema.org/draft/2020-12/schema#> .\n      @prefix dcterms:        <http://purl.org/dc/terms/> .\n      @prefix cx-fx:          <https://w3id.org/catenax/ontology/function#>.\n      @prefix cx-common:      <https://w3id.org/catenax/ontology/common#>.\n      @prefix cx-core:        <https://w3id.org/catenax/ontology/core#>.\n      @prefix cx-vehicle:     <https://w3id.org/catenax/ontology/vehicle#>.\n      @prefix cx-reliability: <https://w3id.org/catenax/ontology/reliability#>.\n      @prefix cx-behaviour:   <https://w3id.org/catenax/ontology/behaviour#>.\n\n      [] rdf:type rep:Repository ;\n        rep:repositoryID "health" ;\n        rdfs:label "Health Indicator Functions Repository" ;\n        rep:repositoryImpl [\n            rep:repositoryType "openrdf:SailRepository" ;\n            sr:sailImpl [\n              sail:sailType "org.eclipse.tractusx.agents:Remoting" ;\n              cx-fx:supportsInvocation cx-behaviour:HealthIndication;\n              cx-fx:callbackAddress <https://my-remoting-agent.domain/rdf4j-server/callback>;\n            ]\n        ].\n\n      cx-behaviour:HealthIndication rdf:type cx-fx:Function;\n        dcterms:description "Health Indicator is an asynchronous batch invocation."@en ;\n        dcterms:title "Health Indicator" ;\n        cx-fx:targetUri "http://service-backend:5005/api/hi2";\n        cx-fx:invocationMethod "POST-JSON";\n      #  cx-common:authenticationKey "Authorization";\n      #  cx-common:authenticationCode "Basic TOKEN";\n        cx-fx:invocationMethod "POST-JSON";\n        cx-fx:invocationIdProperty "header.notificationID,content.requestRefId";\n        cx-fx:callbackProperty "header.respondAssetId";\n        cx-fx:input cx-behaviour:notification;\n        cx-fx:input cx-behaviour:sender;\n        cx-fx:input cx-behaviour:senderConnector;\n        cx-fx:input cx-behaviour:recipient;\n        cx-fx:input cx-behaviour:recipientConnector;\n        cx-fx:input cx-behaviour:recipient;\n        cx-fx:input cx-behaviour:recipientConnector;\n        cx-fx:input cx-behaviour:severity;\n        cx-fx:input cx-behaviour:status;\n        cx-fx:input cx-behaviour:targetDate;\n        cx-fx:input cx-behaviour:timeStamp;\n        cx-fx:input cx-behaviour:classification;\n        cx-fx:input cx-behaviour:component;\n        cx-fx:input cx-behaviour:observationType;\n        cx-fx:input cx-behaviour:metadata;\n        cx-fx:input cx-behaviour:statusDate;\n        cx-fx:input cx-behaviour:statusOperatingHours;\n        cx-fx:input cx-behaviour:statusMileage;\n        cx-fx:input cx-behaviour:countingMethod;\n        cx-fx:input cx-behaviour:countingValue;\n        cx-fx:input cx-behaviour:countingUnit;\n        cx-fx:input cx-behaviour:headerChannels;\n        cx-fx:input cx-behaviour:bodyClasses;\n        cx-fx:input cx-behaviour:bodyCountsList;\n        cx-fx:result cx-behaviour:HealthIndicationResult.\n\n      cx-behaviour:notification rdf:type cx-fx:Argument;\n        dcterms:description "A default notification output template."@en ;\n        dcterms:title "Notification Template";\n        cx-fx:argumentName ".";\n        cx-fx:dataType json:Object;\n        cx-fx:priority "-1"^^xsd:integer;\n        cx-fx:default "{ \\"content\\": { \\"endurancePredictorInputs\\": []}}"^^json:Object.\n\n      cx-behaviour:sender rdf:type cx-fx:Argument;\n        dcterms:description "Sender of the notification as a BPN."@en ;\n        dcterms:title "Notification Sender";\n        cx-fx:argumentName "header.senderBPN";\n        cx-fx:default "anonymous".\n\n      cx-behaviour:senderConnector rdf:type cx-fx:Argument;\n        dcterms:description "Sender Address of the notification as a URL."@en ;\n        dcterms:title "Notification Sender Address";\n        cx-fx:argumentName "header.senderAddress";\n        cx-fx:default "unknown".\n\n      cx-behaviour:recipient rdf:type cx-fx:Argument;\n        dcterms:description "Recipient of the notification as a BPN."@en ;\n        dcterms:title "Notification Recipient";\n        cx-fx:argumentName "header.recipientBPN";\n        cx-fx:default "anonymous".\n\n      cx-behaviour:recipientConnector rdf:type cx-fx:Argument;\n        dcterms:description "Recipient Address of the notification as a URL."@en ;\n        dcterms:title "Notification Recipient Address";\n        cx-fx:argumentName "header.recipientAddress";\n        cx-fx:default "unknown".\n\n      cx-behaviour:severity rdf:type cx-fx:Argument;\n        dcterms:description "Severity of the notification."@en ;\n        dcterms:title "Notification Severity";\n        cx-fx:argumentName "header.severity";\n        cx-fx:dataType xsd:string;\n        cx-fx:default "MINOR".\n\n      cx-behaviour:status rdf:type cx-fx:Argument;\n        dcterms:description "Status of the notification."@en ;\n        dcterms:title "Notification Status";\n        cx-fx:argumentName "header.status";\n        cx-fx:dataType xsd:string;\n        cx-fx:default "SENT".\n\n      cx-behaviour:targetDate rdf:type cx-fx:Argument;\n        dcterms:description "Target Date of the notification."@en ;\n        dcterms:title "Notification Target Date";\n        cx-fx:dataType xsd:dateTime;\n        cx-fx:argumentName "header.targetDate".\n\n      cx-behaviour:timeStamp rdf:type cx-fx:Argument;\n        dcterms:description "Timestamp of the notification."@en ;\n        dcterms:title "Notification Timestamp";\n        cx-fx:dataType xsd:dateTime;\n        cx-fx:argumentName "header.timeStamp".\n\n      cx-behaviour:classification rdf:type cx-fx:Argument;\n        dcterms:description "Classification of the notification."@en ;\n        dcterms:title "Notification Classification";\n        cx-fx:argumentName "header.classification";\n        cx-fx:dataType xsd:string;\n        cx-fx:default "RemainingUsefulLifePredictor".\n\n      cx-behaviour:component rdf:type cx-fx:Argument;\n        dcterms:description "Component of the Predicition."@en ;\n        dcterms:title "Predicted Component";\n        cx-fx:formsBatchGroup "true"^^xsd:boolean;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.componentId,content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.targetComponentId".\n\n      cx-behaviour:observationType rdf:type cx-fx:Argument;\n        dcterms:description "The type of observation made."@en ;\n        dcterms:title "Observation Type";\n        cx-fx:strip <https://w3id.org/catenax/taxonomy#>;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.componentDescription";\n        cx-fx:dataType xsd:string.\n\n      cx-behaviour:metadata rdf:type cx-fx:Argument;\n        dcterms:description "Metadata of the Loadspectrum."@en ;\n        dcterms:title "Loadspectrum Metadata";\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}";\n        cx-fx:dataType json:Object;\n        cx-fx:priority "0"^^xsd:integer;\n        cx-fx:default "{ \\"metadata\\":{ \\"projectDescription\\": \\"pnr_76543\\", \\"routeDescription\\": \\"logged\\" }, \\"bammId\\": \\"urn:bamm:io.openmanufacturing.digitaltwin:1.0.0#ClassifiedLoadSpectrum\\" }"^^json:Object.\n\n      cx-behaviour:statusDate rdf:type cx-fx:Argument;\n        dcterms:description "Time of Recording."@en ;\n        dcterms:title "Loadspectrum Recording Time";\n        cx-fx:dataType xsd:dateTime;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.status.date".\n\n      cx-behaviour:statusOperatingHours rdf:type cx-fx:Argument;\n        dcterms:description "Operating Hours of Target Component at Time of Recording."@en ;\n        dcterms:title "Loadspectrum Operating Hours";\n        cx-fx:dataType xsd:float;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.status.operatingHours".\n\n      cx-behaviour:statusMileage rdf:type cx-fx:Argument;\n        dcterms:description "Mileage of Component at Time of Recording."@en ;\n        dcterms:title "Loadspectrum Mileage";\n        cx-fx:dataType xsd:int;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.metadata.status.mileage".\n\n      cx-behaviour:countingUnit rdf:type cx-fx:Argument;\n        dcterms:description "Counting Unit of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counting Unit";\n        cx-fx:dataType xsd:string;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.countingUnit".\n\n      cx-behaviour:countingValue rdf:type cx-fx:Argument;\n        dcterms:description "Counting Value Name of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counting Value";\n        cx-fx:dataType xsd:string;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.countingValue,content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.body.counts.countsName".\n\n      cx-behaviour:countingMethod rdf:type cx-fx:Argument;\n        dcterms:description "Counting Method of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counting Method";\n        cx-fx:dataType xsd:string;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.countingMethod".\n\n      cx-behaviour:headerChannels rdf:type cx-fx:Argument;\n        dcterms:description "Channels of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Channels";\n        cx-fx:dataType json:Object;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.header.channels".\n\n      cx-behaviour:bodyClasses rdf:type cx-fx:Argument;\n        dcterms:description "Classes of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Classes";\n        cx-fx:dataType json:Object;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.body.classes".\n\n      cx-behaviour:bodyCountsList rdf:type cx-fx:Argument;\n        dcterms:description "Counts List of Load Spectrum."@en ;\n        dcterms:title "Loadspectrum Counts List";\n        cx-fx:dataType json:Object;\n        cx-fx:argumentName "content.endurancePredictorInputs.0.classifiedLoadSpectrum{https://w3id.org/catenax/ontology/behaviour#observationType}.body.counts.countsList".\n\n      cx-behaviour:HealthIndicationResult rdf:type cx-fx:Result;\n        dcterms:description "The asynchronous notification response."@en ;\n        dcterms:title "Asynchronous notification response." ;\n        cx-fx:callbackProperty "header.referencedNotificationID";\n        cx-fx:outputProperty "content.endurancePredictorOutputs";\n        cx-fx:output cx-behaviour:healthIndicatorValues.\n\n      cx-behaviour:healthIndicatorValues rdf:type cx-fx:ReturnValue;\n        dcterms:description "Predicted Health Indicator Response"@en ;\n        dcterms:title "Health Indicator Values" ;\n        cx-fx:valuePath "0.healthIndicator.healthIndicatorValues";\n        cx-fx:dataType json:Object.\n')),(0,i.kt)("h3",{id:"3-test-drive-the-remoting-agent"},"3. Test Drive the Remoting Agent"),(0,i.kt)("p",null,"After the remoting agent has been setup, you may already invoke SPARQL queries against the RUL repository in the KA-BIND-FUNC profile:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location \'https://my-remoting-agent.domain/rdf4j-server/repositories/rul\' \\\n--header \'Content-Type: application/sparql-query\' \\\n--header \'Accept: application/json\' \\\n--data \'PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX cx-life: <https://w3id.org/catenax/ontology/behaviour#>\nPREFIX uuid: <urn:uuid:>\n\nSELECT ?invocation ?component ?timeHours ?distanceKm\nWHERE { \n      VALUES (?component ?ls_type) { ( uuid:1 "GearOil"^^xsd:string) ( uuid:1 "GearSet"^^xsd:string)}\n\n  ?invocation a cx-life:RemainingUsefulLife;\n              cx-life:sender <bpn:legal:BPNLOEM>;\n              cx-life:senderConnector <edc://sender>;\n              cx-life:recipient <bpn:legal:BPNLSUPPLIER>;\n              cx-life:recipientConnector <edc://recipient>;\n              cx-life:targetDate "2022-11-24T22:07:02.611048800Z"^^xsd:dateTime;\n              cx-life:timeStamp "2022-11-24T11:24:36.744320Z"^^xsd:dateTime;\n              cx-life:component ?component;\n              cx-life:observationType ?ls_type;\n              cx-life:statusDate "2023-02-19T10:42:36.744320Z"^^xsd:dateTime;\n              cx-life:statusOperatingHours "32137.9"^^xsd:float;\n              cx-life:statusMileage "865432"^^xsd:int;\n              cx-life:countingValue "Time"^^xsd:string;\n              cx-life:countingUnit <unit:secondUnitOfTime>;\n              cx-life:countingMethod "TimeAtLevel"^^xsd:string;\n              cx-life:headerChannels "[ { \\"channelName\\": \\"TC_SU\\", \\"unit\\": \\"unit:degreeCelsius\\", \\"lowerLimit\\": 0, \\"upperLimit\\": 640, \\"numberOfBins\\": 128 }  ]"^^json:Object;\n              cx-life:bodyClasses "[ { \\"className\\": \\"TC_SU-class\\", \\"classList\\": [ 14, 15, 16, 17, 18, 19, 20, 21, 22 ] }]"^^json:Object;\n              cx-life:bodyCountsList "[34968.93,739782.51,4013185.15,46755055.56,25268958.35,8649735.95,9383635.35,19189260.77,1353867.54]"^^json:Object;\n              cx-life:remainingOperatingHours ?timeHours;\n              cx-life:remainingRunningDistance ?distanceKm\n              . \n}\'\n')),(0,i.kt)("p",null,"and you should receive a prognosis answer, such as"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "head": {\n        "vars": [\n            "invocation",\n            "component",\n            "timeHours",\n            "distanceKm"\n        ]\n    },\n    "results": {\n        "bindings": [\n            {\n                "invocation": {\n                    "type": "uri",\n                    "value": "https://w3id.org/catenax/ontology/behaviour#?invocation=0"\n                },\n                "component": {\n                    "type": "uri",\n                    "value": "urn:uuid:1"\n                },\n                "distanceKm": {\n                    "datatype": "http://www.w3.org/2001/XMLSchema#int",\n                    "type": "literal",\n                    "value": "252291"\n                },\n                "timeHours": {\n                    "datatype": "http://www.w3.org/2001/XMLSchema#float",\n                    "type": "literal",\n                    "value": "4516.4"\n                }\n            }\n        ]\n    }\n}\n')),(0,i.kt)("p",null,"Invocation against the HEALTH repository works like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location \'https://my-remoting-agent.domain/rdf4j-server/repositories/health\' \\\n--header \'Content-Type: application/sparql-query\' \\\n--header \'Accept: application/json\' \\\n--data \'PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX cx-life: <https://w3id.org/catenax/ontology/behaviour#>\nPREFIX uuid: <urn:uuid:>\n\nSELECT ?invocation ?component ?result\nWHERE { \n      VALUES (?component ?ls_type) { ( uuid:1 "Clutch"^^xsd:string) }\n\n  ?invocation a cx-life:HealthIndication;\n              cx-life:sender <bpn:legal:BPNLOEM>;\n              cx-life:senderConnector <edc://sender>;\n              cx-life:recipient <bpn:legal:BPNLSUPPLIER>;\n              cx-life:recipientConnector <edc://recipient>;\n              cx-life:targetDate "2022-11-24T22:07:02.611048800Z"^^xsd:dateTime;\n              cx-life:timeStamp "2022-11-24T11:24:36.744320Z"^^xsd:dateTime;\n              cx-life:component ?component;\n              cx-life:observationType ?ls_type;\n              cx-life:statusDate "2023-02-19T10:42:36.744320Z"^^xsd:dateTime;\n              cx-life:statusOperatingHours "32137.9"^^xsd:float;\n              cx-life:statusMileage "865432"^^xsd:int;\n              cx-life:countingValue "Time"^^xsd:string;\n              cx-life:countingUnit <unit:secondUnitOfTime>;\n              cx-life:countingMethod "TimeAtLevel"^^xsd:string;\n              cx-life:headerChannels "[ { \\"channelName\\": \\"TC_SU\\", \\"unit\\": \\"unit:degreeCelsius\\", \\"lowerLimit\\": 0, \\"upperLimit\\": 640, \\"numberOfBins\\": 128 }  ]"^^json:Object;\n              cx-life:bodyClasses "[ { \\"className\\": \\"TC_SU-class\\", \\"classList\\": [ 14, 15, 16, 17, 18, 19, 20, 21, 22 ] }]"^^json:Object;\n              cx-life:bodyCountsList "[34968.93,739782.51,4013185.15,46755055.56,25268958.35,8649735.95,9383635.35,19189260.77,1353867.54]"^^json:Object;\n              cx-life:healthIndicatorValues ?result. \n}\'\n')),(0,i.kt)("p",null,"and you should receive a different prognosis answer, such as"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "head": {\n        "vars": [\n            "invocation",\n            "component",\n            "result"\n        ]\n    },\n    "results": {\n        "bindings": [\n            {\n                "result": {\n                    "datatype": "https://json-schema.org/draft/2020-12/schema#Object",\n                    "type": "literal",\n                    "value": "[0.878515804632653,0.29795938515521947]"\n                },\n                "invocation": {\n                    "type": "uri",\n                    "value": "https://w3id.org/catenax/ontology/behaviour#?invocation=2"\n                },\n                "component": {\n                    "type": "uri",\n                    "value": "urn:uuid:1"\n                }\n            }\n        ]\n    }\n}\n')),(0,i.kt)("h2",{id:"quick-setup-guide-for-registering-a-graph-in-the-edc"},"Quick Setup Guide for Registering A Graph in the EDC"),(0,i.kt)("p",null,"The next steps require that you have already deployed the ",(0,i.kt)("a",{parentName:"p",href:"agent_edc"},"Agent-Enabled EDC"),".\nWe demonstrate the steps by interacting with the EDC Control Plane Management API"),(0,i.kt)("h3",{id:"1-register-a-graph-policy"},"1. Register A Graph Policy"),(0,i.kt)("p",null,"The following example installs a policy which is just checking the business partner numbers and dataspace memberships\nof the participants. For more realistic policies aligned with the data sovereignity rules/profiles, see ",(0,i.kt)("a",{parentName:"p",href:"policy"},"this discussion"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location --globoff \'https://my-connector-control.domain/management/v2/policydefinitions\' \\\n--header \'X-Api-Key: {{customerApiKey}}\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n  "@context": {\n    "@vocab": "https://w3id.org/edc/v0.0.1/ns/",\n    "cx-common": "https://w3id.org/catenax/ontology/common#"\n  },\n  "@id": "Policy?me=Graph",\n  "policy": {\n    "@context": "http://www.w3.org/ns/odrl.jsonld",\n    "@type": "Set",\n    "uid": "https://w3id.org/catenax/ontology/common#Policy?me=Graph",\n    "permission": [\n      {\n        "target": "https://w3id.org/catenax/ontology/common#GraphAsset?me=",\n        "action": "USE",\n        "constraint": {\n           "@type": "LogicalConstraint",\n           "or" : [\n              {\n                "@type" : "Constraint",\n                "leftOperand" : "BusinessPartnerNumber",\n                "operator" :"eq",\n                "rightOperand" : "BPNL00000PARTNER"\n              },\n              {\n                "@type" : "Constraint",\n                "leftOperand" : "BusinessPartnerNumber",\n                "operator" :"eq",\n                "rightOperand" : "BPNL000000001234"\n              }\n            ]\n        }\n     }]\n    }\n}\n\'\n')),(0,i.kt)("h3",{id:"2-register-a-graph-contract"},"2. Register A Graph Contract"),(0,i.kt)("p",null,'The following contract definition exposes upcoming (skill) assets under the previously installed (skill) policy.\nIt does that for both catalogue/offer requests (access policy) and actual agent-based transfers (contract policy). Usually,\nthis makes sense as the party being able to receive and offer should also be able to negotiate a transfer to (here: execute) it.\nNote that the definition foresees a "custom" asset property "cx-common:publishedUnderContract" with which all agent assets can be explictely "assigned"\nto a contract.'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location --globoff \'https://my-connector-control.domain/management/v2/contractdefinitions\' \\\n--header \'X-Api-Key: {{customerApiKey}}\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "@context": {\n         "cx-common": "https://w3id.org/catenax/ontology/common#"\n    },\n    "@id": "Contract?me=Graph",\n    "@type": "ContractDefinition",\n    "accessPolicyId": "Policy?me=Graph",\n    "contractPolicyId": "Policy?me=Graph",\n    "assetsSelector" : {\n        "@type" : "CriterionDto",\n        "operandLeft": "https://w3id.org/catenax/ontology/common#publishedUnderContract",\n        "operator": "=",\n        "operandRight": "Contract?me=Graph"\n    }\n}\n\'\n')),(0,i.kt)("h3",{id:"3-register-graph-assets-including-shape-descriptions"},"3. Register Graph Assets including Shape Descriptions"),(0,i.kt)("h4",{id:"federated-data-graph-asset"},"Federated (Data) Graph Asset"),(0,i.kt)("p",null,"In the next step, we install a graph asset in the EDC which maybe invoked from any business partner that is eligid in the presented contract."),(0,i.kt)("p",null,'The asset can also be "federated". That means that its meta-data can be regularly synchronized by the business partner and used in ',(0,i.kt)("a",{parentName:"p",href:"agent_edc"},"Skills and Skill Assets"),' which search for corresponding assets\n(see the "cx-common:isFederated" public property). That also means that a skill can traverse the asset to move on its computation further to a set of other allowed connectors/assets (see the "cx-common:allowServicePattern" dataaddress property).'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location --globoff \'https://my-connector-control.domain/management/v3/assets\' \\\n--header \'X-Api-Key: {{customerApiKey}}\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "@context": {\n     "@vocab": "https://w3id.org/edc/v0.0.1/ns/",\n     "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",\n     "rdfs": "http://www.w3.org/2000/01/rdf-schema#",\n     "cx-common": "https://w3id.org/catenax/ontology/common#",\n     "xsd": "http://www.w3.org/2001/XMLSchema#",\n     "sh": "http://www.w3.org/ns/shacl#",\n     "cs-taxo": "https://w3id.org/catenax/taxonomy#",\n     "dct": "https://purl.org/dc/terms/"\n    },\n    "@id": "GraphAsset?me=BehaviourTwinReliability",\n    "properties": {\n        "cx-common:name": "Reliability Data Service",\n        "cx-common:description": "Test Telematics Data as provided by an OEM.",\n        "cx-common:description@de": "Test Telematik Daten eines OEM.",\n        "cx-common:version": "CX_RuL_Testdata_v1.0.0",\n        "cx-common:contenttype": "application/json, application/xml",\n        "cx-common:publishedUnderContract": "Contract?me=Graph",\n        "dct:type": "cx-taxo:GraphAsset",\n        "rdfs:isDefinedBy": "<https://w3id.org/catenax/ontology/common>,<https://w3id.org/catenax/ontology/core>,<https://w3id.org/catenax/taxonomy>,<https://w3id.org/catenax/ontology/core>,<https://w3id.org/catenax/ontology/behaviour>",\n        "cx-common:implementsProtocol": "cx-common:Protocol?w3c:http:SPARQL",\n        "sh:shapesGraph": "@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\\n@prefix schema: <http://schema.org/> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix edc: <https://w3id.org/edc/v0.0.1/ns/> .\\n@prefix cx-common: <https://w3id.org/catenax/ontology/common#> .\\n@prefix cx-core: <https://w3id.org/catenax/ontology/core#> .\\n@prefix cx-vehicle: <https://w3id.org/catenax/ontology/vehicle#> .\\n@prefix cx-fx: <https://w3id.org/catenax/ontology/function#> .\\n@prefix cx-behaviour: <https://w3id.org/catenax/ontology/behaviour#> .\\n@prefix cx-reliability: <https://w3id.org/catenax/ontology/reliability#> .\\n@prefix cx-sh: <https://w3id.org/catenax/ontology/schema#> .\\n@prefix cx-taxo: <https://w3id.org/catenax/taxonomy#> .\\n@prefix : <https://w3id.org/catenax/taxonomy#GraphAsset?me=BehaviourTwinReliability&shapeObject=> .\\n\\n:LoadSpectrumShape a sh:NodeShape ;\\n    sh:targetClass  cx-reliability:LoadSpectrum;\\n    sh:property :observationOfShape, \\n                :countingValueShape, \\n                :countingUnitShape, \\n                :countingMethodShape, \\n                :channelsShape, \\n                :classesShape, \\n                :valuesShape.\\n\\n:observationOfShape a sh:PropertyShape;\\n    sh:path cx-reliability:observationOf;\\n    sh:in (cx-taxo:GearOil cx-taxo:GearSet cx-taxo:Clutch).\\n\\n:countingValueShape a sh:PropertyShape;\\n    sh:path cx-reliability:countingValue.\\n\\n:countingUnitShape a sh:PropertyShape;\\n    sh:path cx-reliability:countingUnit.\\n\\n:countingMethodShape a sh:PropertyShape;\\n    sh:path cx-reliability:countingMethod.\\n\\n:countingMethodShape a sh:PropertyShape;\\n    sh:path cx-reliability:countingMethod.\\n\\n:channelsShape a sh:PropertyShape;\\n    sh:path cx-reliability:channels.\\n\\n:classesShape a sh:PropertyShape;\\n    sh:path cx-reliability:classes.\\n\\n:valuesShape a sh:PropertyShape;\\n    sh:path cx-reliability:values.",\n        "cx-common:isFederated": "true^^xsd:boolean"\n    },\n    "privateProperties": {\n    },\n    "dataAddress": {\n        "id": "GraphAsset?me=BehaviourTwinReliability",\n        "@type": "DataAddress",\n        "baseUrl": "https://my-provider.agent.domain/telematics/sparql",\n        "type": "cx-common:Protocol?w3c:http:SPARQL",\n        "proxyPath": "false",\n        "proxyMethod": "true",\n        "proxyQueryParams": "true",\n        "proxyBody": "true",\n        "authKey": "Authorization",\n        "authCode": "\u2022\u2022\u2022\u2022\u2022\u2022",\n        "cx-common:allowServicePattern": "edcs?://.*"\n    }\n}\'\n')),(0,i.kt)("p",null,'Note that there are two mechanisms inside the Graph Asset Description with which a skill (which basically is a graph matching language) can "search" for the right asset without using hardcoded asset ids (see also ',(0,i.kt)("a",{parentName:"p",href:"../development-view/modelling"},"our modelling guide"),")."),(0,i.kt)("p",null,'The "rdfs:isDefinedBy" property resolves into a full-fledged predicate inside the federated catalogue. By constraining the ontologies that an asset should implement, we can ensure that definitions (classes, properties, relations) that the skill requires are all available and the skill will run in principle.'),(0,i.kt)("p",null,'The "sh:shapesGraph" property resolves into a full-fledged sub-graph under the asset node in the federated catalogue. By constraining the domains of classes, properties and relations that the asset should provide, the skill can even find out whether the provided data is complete (maybe it just represents a single partition) or whether it fits with the types of other assets that the skill must combine.'),(0,i.kt)("p",null,"To demonstrate this alignment, we have already listed the shapes of three interacting assets, a data graph and two function graphsin the ",(0,i.kt)("a",{parentName:"p",href:"../development-view/modelling"},"our modelling guide"),". We have also sketched the SPARQL by which a skill can do such an asset alignment."),(0,i.kt)("p",null,"For completeness purposes, we give the two (function) graph registrations in the following"),(0,i.kt)("h4",{id:"federated-function-graph-assets"},"Federated (Function) Graph Assets"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location --globoff \'https://my-connector-control.domain/management/v3/assets\' \\\n--header \'X-Api-Key: {{customerApiKey}}\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "@context": {\n        "@vocab": "https://w3id.org/edc/v0.0.1/ns/",\n        "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",\n        "rdfs": "http://www.w3.org/2000/01/rdf-schema#",\n        "cx-common": "https://w3id.org/catenax/ontology/common#",\n        "xsd": "http://www.w3.org/2001/XMLSchema#",\n        "sh": "http://www.w3.org/ns/shacl#",\n        "cs-taxo": "https://w3id.org/catenax/taxonomy#",\n        "dc": "https://purl.org/dc/terms/"\n    },\n    "@id": "cx-taxo:GraphAsset?supplier=BehaviourTwinRUL", \n    "properties": {\n        "cx-common:name": "Lifetime Prognosis Service for Gearboxes",\n        "cx-common:description": "A sample graph asset/offering referring to a specific prognosis resource.",\n        "cx-common:description@de": "Ein Beispielasset f\xfcr eine Prognosefunktion.",\n        "cx-common:version": "1.12.19",\n        "cx-common:contenttype": "application/json, application/xml",\n        "cx-common:publishedUnderContract": "Contract?supplier=Graph",\n        "dc:type": "cx-taxo:GraphAsset",\n        "rdfs:isDefinedBy": "<https://w3id.org/catenax/ontology/common>,<https://w3id.org/catenax/ontology/core>,<https://w3id.org/catenax/ontology/function>,<https://w3id.org/catenax/ontology/behaviour>,<https://w3id.org/catenax/ontology/behaviour>",\n        "cx-common:implementsProtocol": "cx-common:Protocol?w3c:http:SPARQL",\n        "sh:shapesGraph": "@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\\n@prefix schema: <http://schema.org/> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix edc: <https://w3id.org/edc/v0.0.1/ns/> .\\n@prefix cx-common: <https://w3id.org/catenax/ontology/common#> .\\n@prefix cx-core: <https://w3id.org/catenax/ontology/core#> .\\n@prefix cx-vehicle: <https://w3id.org/catenax/ontology/vehicle#> .\\n@prefix cx-fx: <https://w3id.org/catenax/ontology/function#> .\\n@prefix cx-behaviour: <https://w3id.org/catenax/ontology/behaviour#> .\\n@prefix cx-reliability: <https://w3id.org/catenax/ontology/reliability#> .\\n@prefix cx-sh: <https://w3id.org/catenax/ontology/schema#> .\\n@prefix cx-taxo: <https://w3id.org/catenax/taxonomy#> .\\n@prefix : <https://w3id.org/catenax/taxonomy#GraphAsset?supplier=BehaviourTwinRUL&shapeObject=> .\\n\\n# Prognosis Function\\n:PrognosisFunctionShape rdf:type sh:NodeShape ;\\n    sh:targetClass cx-behaviour:PrognosisFunction;\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:countingMethod;\\n        sh:path cx-behaviour:countingMethod;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:countingValue;\\n        sh:path cx-behaviour:countingValue;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:countingUnit;\\n        sh:path cx-behaviour:countingUnit;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:channels;\\n        sh:path cx-behaviour:headerChannels;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:classes;\\n        sh:path cx-behaviour:bodyClasses;\\n    ].\\n\\n:RemainingUsefulLifeShape rdf:type sh:NodeShape ;\\n    cx-sh:extensionOf :PrognosisFunctionShape;\\n    sh:targetClass cx-behaviour:RemainingUsefulLife ;\\n      sh:property[\\n        cx-sh:hasAsArgument cx-reliability:observationOf;\\n        sh:path cx-behaviour:observationType;\\n        sh:in ( cx-taxo:GearSet cx-taxo:GearOil );\\n    ];\\n    sh:property :RemainingUsefulLifeResultShape.\\n\\n:RemainingUsefulLifeResult rdf:type sh:PropertyShape;\\n    cx-sh:outputOf :RemainingUsefulLifeShape;\\n    sh:path cx-behaviour:RemainingUsefulLifeResult .\\n",\n        "cx-common:isFederated": "true^^xsd:boolean"\n    },\n    "dataAddress": {\n        "id": "cx-taxo:GraphAsset?supplier=BehaviourTwinRUL", \n        "@type": "DataAddress",\n        "baseUrl": "https://my-remoting-agent.domain/rdf4j-server/repositories/rul",\n        "type": "cx-common:Protocol?w3c:http:SPARQL",\n        "proxyPath": "false",\n        "proxyMethod": "true",\n        "proxyQueryParams": "true",\n        "proxyBody": "true",\n        "authKey": "Authorization",\n        "authCode": "\u2022\u2022\u2022\u2022\u2022\u2022",\n        "cx-common:allowServicePattern": "https://my-remoting-agent.domain/rdf4j-server/repositories/rul"\n    }\n  }\n\'\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'curl --location --globoff \'https://my-connector-control.domain/management/v3/assets\' \\\n--header \'X-Api-Key: {{customerApiKey}}\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "@context": {\n        "@vocab": "https://w3id.org/edc/v0.0.1/ns/",\n        "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",\n        "rdfs": "http://www.w3.org/2000/01/rdf-schema#",\n        "cx-common": "https://w3id.org/catenax/ontology/common#",\n        "xsd": "http://www.w3.org/2001/XMLSchema#",\n        "sh": "http://www.w3.org/ns/shacl#",\n        "cs-taxo": "https://w3id.org/catenax/taxonomy#",\n        "dc": "https://purl.org/dc/terms/"\n    },\n    "@id": "cx-taxo:GraphAsset?supplier=HealthIndicatorGearbox",\n    "properties": {\n        "cx-common:name": "Health Prognosis Service for Gearboxes",\n        "cx-common:description": "A second sample graph asset/offering referring to a specific prognosis resource.",\n        "cx-common:description@de": "Ein weiteres Beispielasset f\xfcr eine Prognosefunktion.",\n        "cx-common:version": "1.12.19",\n        "cx-common:contenttype": "application/json, application/xml",\n        "cx-common:publishedUnderContract": "Contract?supplier=Graph",\n        "dc:type": "cx-taxo:GraphAsset",\n        "rdfs:isDefinedBy": "<https://w3id.org/catenax/ontology/common>,<https://w3id.org/catenax/ontology/core>,<https://w3id.org/catenax/ontology/function>,<https://w3id.org/catenax/ontology/behaviour>,<https://w3id.org/catenax/ontology/behaviour>",\n        "cx-common:implementsProtocol": "cx-common:Protocol?w3c:http:SPARQL",\n        "sh:shapesGraph": "@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\\n@prefix schema: <http://schema.org/> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix edc: <https://w3id.org/edc/v0.0.1/ns/> .\\n@prefix cx-common: <https://w3id.org/catenax/ontology/common#> .\\n@prefix cx-core: <https://w3id.org/catenax/ontology/core#> .\\n@prefix cx-vehicle: <https://w3id.org/catenax/ontology/vehicle#> .\\n@prefix cx-fx: <https://w3id.org/catenax/ontology/function#> .\\n@prefix cx-behaviour: <https://w3id.org/catenax/ontology/behaviour#> .\\n@prefix cx-reliability: <https://w3id.org/catenax/ontology/reliability#> .\\n@prefix cx-sh: <https://w3id.org/catenax/ontology/schema#> .\\n@prefix cx-taxo: <https://w3id.org/catenax/taxonomy#> .\\n@prefix : <https://w3id.org/catenax/taxonomy#GraphAsset?supplier=BehaviourTwinHI&shapeObject=> .\\n\\n# Prognosis Function\\n:PrognosisFunctionShape rdf:type sh:NodeShape ;\\n    sh:targetClass cx-behaviour:PrognosisFunction;\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:countingMethod;\\n        sh:path cx-behaviour:countingMethod;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:countingValue;\\n        sh:path cx-behaviour:countingValue;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:countingUnit;\\n        sh:path cx-behaviour:countingUnit;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:channels;\\n        sh:path cx-behaviour:headerChannels;\\n    ];\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:classes;\\n        sh:path cx-behaviour:bodyClasses;\\n    ].\\n    \\n:HealthIndicationShape a sh:NodeShape ;\\n    cx-sh:extensionOf :PrognosisFunctionShape;\\n    sh:targetClass cx-behaviour:HealthIndication;\\n    sh:property [\\n        cx-sh:hasAsArgument cx-reliability:observationOf;\\n        sh:path cx-behaviour:observationType;\\n        sh:in ( cx-taxo:Clutch );\\n    ];\\n    sh:property :HealthIndicationResultShape.\\n    \\n:HealthIndicationResultShape a sh:PropertyShape;\\n    cx-sh:outputOf :HealthIndicationShape;\\n    sh:path cx-behaviour:HealthIndicationResult .",\n        "cx-common:isFederated": "true^^xsd:boolean"\n    },\n    "dataAddress": {\n        "id": "cx-taxo:GraphAsset?supplier=HealthIndicatorGearbox",\n        "@type": "DataAddress",\n        "baseUrl": "https://my-remoting-agent.domain/rdf4j-server/repositories/health",\n        "type": "cx-common:Protocol?w3c:http:SPARQL",\n        "proxyPath": "false",\n        "proxyMethod": "true",\n        "proxyQueryParams": "true",\n        "proxyBody": "true",\n        "authKey": "Authorization",\n        "authCode": "\u2022\u2022\u2022\u2022\u2022\u2022",\n        "cx-common:allowServicePattern": "https://my-remoting-agent.domain/rdf4j-server/repositories/health"\n    }\n}\'\n')),(0,i.kt)("sub",null,(0,i.kt)("sup",null,"(C) 2021,2024 Contributors to the Eclipse Foundation. SPDX-License-Identifier: CC-BY-4.0")))}l.isMDXComponent=!0}}]);
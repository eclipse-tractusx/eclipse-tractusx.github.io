"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[76038],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(a),d=l,h=m["".concat(o,".").concat(d)]||m[d]||c[d]||r;return a?n.createElement(h,i(i({ref:t},u),{},{components:a})):n.createElement(h,i({ref:t},u))}));function h(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[m]="string"==typeof e?e:l,i[1]=s;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},70524:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var n=a(87462),l=(a(67294),a(3905));const r={title:"Deploying the components",sidebar_position:1},i=void 0,s={unversionedId:"tutorials/e2e/connect/deployComponents",id:"tutorials/e2e/connect/deployComponents",title:"Deploying the components",description:"Preconditions",source:"@site/docs/tutorials/e2e/connect/deployComponents.md",sourceDirName:"tutorials/e2e/connect",slug:"/tutorials/e2e/connect/deployComponents",permalink:"/docs/tutorials/e2e/connect/deployComponents",draft:!1,editUrl:"https://github.com/eclipse-tractusx/eclipse-tractusx.github.io/tree/main/docs/tutorials/e2e/connect/deployComponents.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Deploying the components",sidebar_position:1},sidebar:"tutorials",previous:{title:"Chapter 2: Connect",permalink:"/docs/tutorials/e2e/connect/"},next:{title:"Chapter 3: Boost",permalink:"/docs/tutorials/e2e/boost/"}},o={},p=[{value:"Preconditions",id:"preconditions",level:2},{value:"Mandatory",id:"mandatory",level:3},{value:"Optional",id:"optional",level:3},{value:"The Deployment",id:"the-deployment",level:2},{value:"Using Umbrella Helm Charts",id:"using-umbrella-helm-charts",level:3},{value:"Overview",id:"overview",level:3},{value:"Get the source from the Tractus-X Github",id:"get-the-source-from-the-tractus-x-github",level:3},{value:"Start the minikube cluster (profile)",id:"start-the-minikube-cluster-profile",level:3},{value:"Setting up the local internal netwok",id:"setting-up-the-local-internal-netwok",level:3},{value:"Linux &amp; Mac",id:"linux--mac",level:4},{value:"Windows",id:"windows",level:4},{value:"Adjusting the Config files for multi user usage",id:"adjusting-the-config-files-for-multi-user-usage",level:4},{value:"Install Helm Charts",id:"install-helm-charts",level:3},{value:"Use released chart",id:"use-released-chart",level:4},{value:"\u2754 Command explanation",id:"-command-explanation",level:5},{value:"Option 1",id:"option-1",level:5},{value:"Option 2",id:"option-2",level:5},{value:"Data Exchange Subset",id:"data-exchange-subset",level:6},{value:"Optional",id:"optional-1",level:6},{value:"Portal Subset",id:"portal-subset",level:6},{value:"Use local repository",id:"use-local-repository",level:4},{value:"grey_question: Command explanation",id:"grey_question-command-explanation",level:5},{value:"Option 1",id:"option-1-1",level:5},{value:"Option 2",id:"option-2-1",level:5},{value:"Data Exchange Subset",id:"data-exchange-subset-1",level:6},{value:"Portal Subset",id:"portal-subset-1",level:6},{value:"Get to know the Portal",id:"get-to-know-the-portal",level:4},{value:"Uninstall Helm Charts",id:"uninstall-helm-charts",level:3},{value:"Ingresses",id:"ingresses",level:3},{value:"Database Access",id:"database-access",level:3},{value:"Keycloak Admin Console",id:"keycloak-admin-console",level:3},{value:"Seeding",id:"seeding",level:3},{value:"Self-signed TLS setup (Optional)",id:"self-signed-tls-setup-optional",level:3},{value:"Precondition for Semantic Hub",id:"precondition-for-semantic-hub",level:3},{value:"Notice",id:"notice",level:2}],u={toc:p};function m(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"preconditions"},"Preconditions"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Make sure that you have understood and carried out all the steps in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Prerequisites chapter")," before you start deploying the components.")),(0,l.kt)("h3",{id:"mandatory"},"Mandatory"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Local Kubernetes runtime ready"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Kubectl"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"helm")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"minikube")," installed"),(0,l.kt)("li",{parentName:"ul"},"A POSIX-compliant shell, e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},"bash")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"zsh")," unless stated otherwise. The tutorial conatins examples for ",(0,l.kt)("inlineCode",{parentName:"li"},"bash"),".")),(0,l.kt)("h3",{id:"optional"},"Optional"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"CLI tool to easily print logs of a K8S deployment, such as ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/stern/stern"},(0,l.kt)("inlineCode",{parentName:"a"},"stern"))),(0,l.kt)("li",{parentName:"ul"},"Graphical tool to inspect your Kubernetes environment, such as ",(0,l.kt)("a",{parentName:"li",href:"https://k8slens.dev/"},"Lens"),"."),(0,l.kt)("li",{parentName:"ul"},"Graphical tool to inspect Postgres databases, such as ",(0,l.kt)("a",{parentName:"li",href:"https://www.pgadmin.org/"},"PgAdmin"),". Screenshots in\nthis guide are created off of PgAdmin."),(0,l.kt)("li",{parentName:"ul"},"Graphical tool to send REST requests, such as ","[insomnia]"," ( ",(0,l.kt)("a",{parentName:"li",href:"https://insomnia.rest/"},"https://insomnia.rest/"),") or ",(0,l.kt)("a",{parentName:"li",href:"https://www.postman.com/"},"Postman"),".")),(0,l.kt)("h2",{id:"the-deployment"},"The Deployment"),(0,l.kt)("h3",{id:"using-umbrella-helm-charts"},"Using Umbrella Helm Charts"),(0,l.kt)("p",null,"The components (listed in the table in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Connect chapter"),") are deployed using an umbrella chart. It consists of Tractus-X OSS components and provides a basis for running end-to-end tests or creating a sandbox environment of the Catena-X automotive dataspace network. The Chart aims for a completely automated setup of a fully functional network that requires no manual setup steps, as long as only one instance (minikube cluster) is running (see warning above). If several clusters are running, you will need to adjust so configuration files."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"This chapter aligns with the README for the Tractus-X umbrella charts following the link:\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/tractus-x-umbrella/blob/main/charts/umbrella/README.md"},"https://github.com/eclipse-tractusx/tractus-x-umbrella/blob/main/charts/umbrella/README.md"))),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"If you are ","[not]"," the only user on your system working with the turorial, means you are working in a multi-user environment, please ensure, that you understand your impact on other minikube profiles of other users and Umbralla namespaces. Please check, if other user are working on the same system by checking the existance of other minikube profiles with the command:"),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube profile list\n")),(0,l.kt)("p",{parentName:"admonition"},"Please ensure you are explicitly defining the profile with the ",(0,l.kt)("inlineCode",{parentName:"p"},"-f")," parameter and ","[never]"," using options like ",(0,l.kt)("strong",{parentName:"p"},"--all"),". To avoid disturbing other we use the environment variable ","[$USER]"," any time we specify a name for a minikube profile of an Umbrella namespace."),(0,l.kt)("p",{parentName:"admonition"},"So if your minikube cluster will not be the only one running in your system, please"),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"use specific names for your cluster profile and namespaces for helm\u200b"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Proposed name for the cluster profile: ",(0,l.kt)("strong",{parentName:"li"},"minikube-$USER")),(0,l.kt)("li",{parentName:"ul"},"Proposed name for the umbrella namespace: ",(0,l.kt)("strong",{parentName:"li"},"umbrella-$USER")," \u200b"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Ensure you are using the option ",(0,l.kt)("inlineCode",{parentName:"p"},"-p"),", everytime you calling minikube \u200b"))),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube \u2013p minikube-$USER <command> <options>  \u200b\n")),(0,l.kt)("p",{parentName:"admonition"},"Ensure you are using the option ",(0,l.kt)("strong",{parentName:"p"},"\u2013n"),", every time you calling helm\u200b"),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm <command> <options> \u2013n umbrella-$USER\n")),(0,l.kt)("p",{parentName:"admonition"},"Before you enable ingress enter:\u200b"),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube profile minikube-$USER\u200b\n")),(0,l.kt)("p",{parentName:"admonition"},"This will ensure that ingress is working in the correct environment of your cluster profile.")),(0,l.kt)("h3",{id:"overview"},"Overview"),(0,l.kt)("p",null,"Perform the following steps to begin deploying the TXD:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Get the source"),(0,l.kt)("li",{parentName:"ul"},"Start ",(0,l.kt)("inlineCode",{parentName:"li"},"minikube")," bringing up the cluster (profile)"),(0,l.kt)("li",{parentName:"ul"},"Enable ",(0,l.kt)("inlineCode",{parentName:"li"},"Ingress")," for local access using the addon for Minikube"),(0,l.kt)("li",{parentName:"ul"},"Adjust the configuration files for the Umbrella Helm Chart (this is not required, if you are the only user on a system)"),(0,l.kt)("li",{parentName:"ul"},"Use the certifacation manager"),(0,l.kt)("li",{parentName:"ul"},"Use helm to deploy the ecosystem"),(0,l.kt)("li",{parentName:"ul"},"Check their liveness")),(0,l.kt)("h3",{id:"get-the-source-from-the-tractus-x-github"},"Get the source from the Tractus-X Github"),(0,l.kt)("p",null,"For the most bare-bones installation of the dataspace, execute the following commands in a shell:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# get the tutorial including the config file for the cluster by cloning the repository locally\ngit clone [https://github.com/eclipse-tractusx/tractus-x-umbrella.git](https://github.com/eclipse-tractusx/tractus-x-umbrella.git")\n')),(0,l.kt)("p",null,"Now we will find the directory ","[tractus-x-umbrella]"," under your current working directory. Change into this directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd tractus-x-umbrella\n")),(0,l.kt)("h3",{id:"start-the-minikube-cluster-profile"},"Start the minikube cluster (profile)"),(0,l.kt)("p",null,"To start the cluster we just call ",(0,l.kt)("strong",{parentName:"p"},"minikube start"),". If we have more than one instance, we use -p option to set the profile name minikube-$USER. We use the other options to request the appropiate resources."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube start [-p minikube-$USER] --cpus=4 --memory 6gb\n# Start the cluster, if -p option is used with the profile name minikube-$USER\n")),(0,l.kt)("p",null,"We now switch the context to minikube profile. This is required to ensure Ingress gets the correct data of the cluster. But it is not needed, if you run only one minikube cluster on your system."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube profile minikube-$USER\n# Switch the context to minikube profile\n")),(0,l.kt)("p",null,"You can check your minikube cluster any time by starting the Minikube dashboard:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube [-p minikube-$USER] dashboard\n# if -p option is used, with the profile name minikube-$USER\n")),(0,l.kt)("h3",{id:"setting-up-the-local-internal-netwok"},"Setting up the local internal netwok"),(0,l.kt)("p",null,"In order to enable the local access via ingress, use the according addon for Minikube:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube [-p minikube-$USER] addons enable ingress\n# if -p option is used, with the profile name minikube-$USER\n")),(0,l.kt)("p",null,"Now add these hostnames to your /etc/hosts. You should ensure that you have access and the /etc/hosts file group entry should be assigend to the group ",(0,l.kt)("strong",{parentName:"p"},"docker"),". Check this with the following commands:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'ls -al /etc/hosts\n# Output should be like: "-rw-r--r-- 1 root docker 414 Jun 16 14:34 /etc/hosts"\n')),(0,l.kt)("p",null,"Alternatively configure the DNS Service to be enabled for Ingress."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"}," This requires that you have a DNS on your system running and that you have ",(0,l.kt)("strong",{parentName:"p"},"root accees")," via ",(0,l.kt)("strong",{parentName:"p"},"sudo"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube [-p minikube-$USER] addons enable ingress-dns\n# if -p option is used, with the profile name minikube-$USER\n")),(0,l.kt)("p",null,"Find out the IP  Address of your minikube cluster by entering:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"minikube [-p minikube-$USER] ip\n# if -p option is used, with the profile name minikube-$USER\n")),(0,l.kt)("p",null,"In the following steps, replace ",(0,l.kt)("inlineCode",{parentName:"p"},"192.168.49.2")," with your ",(0,l.kt)("inlineCode",{parentName:"p"},"minikube ip")," if it differs."),(0,l.kt)("h4",{id:"linux--mac"},"Linux & Mac"),(0,l.kt)("p",null,"Create a file in /etc/resolver/minikube-test with the following contents."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-properties"},"domain arena.test\nnameserver 192.168.49.2\nsearch_order 1\ntimeout 5\n")),(0,l.kt)("p",null,"If you still face DNS issues, add the hosts to your /etc/hosts file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-properties"},"192.168.49.2    centralidp.arena.test\n192.168.49.2    sharedidp.arena.test\n192.168.49.2    portal.arena.test\n192.168.49.2    portal-backend.arena.test\n192.168.49.2    managed-identity-wallets.arena.test\n192.168.49.2    semantics.arena.test\n192.168.49.2    sdfactory.arena.test\n192.168.49.2    dataconsumer-1-dataplane.arena.test\n192.168.49.2    dataconsumer-1-controlplane.arena.test\n192.168.49.2    dataprovider-dataplane.arena.test\n192.168.49.2    dataconsumer-2-dataplane.arena.test\n192.168.49.2    dataconsumer-2-controlplane.arena.test\n")),(0,l.kt)("p",null,"Additional network setup for Mac:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Install and start ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/chipmk/docker-mac-net-connect#installation"},"Docker Mac Net Connect"),".")),(0,l.kt)("p",null,"We also recommend to execute the usage example after install to check proper setup."),(0,l.kt)("h4",{id:"windows"},"Windows"),(0,l.kt)("p",null,"For Windows edit the hosts file under ",(0,l.kt)("inlineCode",{parentName:"p"},"C:\\Windows\\System32\\drivers\\etc\\hosts"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-properties"},"192.168.49.2    centralidp.arena.test\n192.168.49.2    sharedidp.arena.test\n192.168.49.2    portal.arena.test\n192.168.49.2    portal-backend.arena.test\n192.168.49.2    managed-identity-wallets.arena.test\n192.168.49.2    semantics.arena.test\n192.168.49.2    sdfactory.arena.test\n192.168.49.2    dataconsumer-1-dataplane.arena.test\n192.168.49.2    dataconsumer-1-controlplane.arena.test\n192.168.49.2    dataprovider-dataplane.arena.test\n192.168.49.2    dataconsumer-2-dataplane.arena.test\n192.168.49.2    dataconsumer-2-controlplane.arena.test\n")),(0,l.kt)("h4",{id:"adjusting-the-config-files-for-multi-user-usage"},"Adjusting the Config files for multi user usage"),(0,l.kt)("p",null,"In case we have to modify the values within the configuartion files as we run in a multi use environment, we need to adjust the domians names within the configuration files. A simple way is to update the file by using ",(0,l.kt)("strong",{parentName:"p"},"sed")," as line editor."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'# adjust values.yaml\n#\nDOMAIN_NAME="$USER.test"\nCONFIG_FILE="alues-adopter-data-exchange.yaml"\ncp values.yaml values.yaml.orig\ncat values.yaml.orig | sed s/tx.test/$DOMAIN_NAME/ > values.yaml\necho "file values.yaml updated with actual dommainame $DOMAIN_NAME"\ncp $CONFIG_FILE $CONFIG_FILE.orig\ncat $CONFIG_FILE.orig | sed s/tx.test/$DOMAIN_NAME/ > $CONFIG_FILE\necho "file $CONFIG_FILE updated with actual dommainame $DOMAIN_NAME"\n# Adjust further files: concept/seeds-overall-data.md, init-container/iam/centralidp/CX-Central-realm.json, init\n-container/iam/sharedidp/CX-operator-realm.json. init-container/iam/sharedidp/CX-operator-users-0.json\n#\ncd ../..\necho "Modifing file concept/seeds-overall-data.md, ..."\ncp concept/seeds-overall-data.md concept/seeds-overall-data.md.orig\ncat concept/seeds-overall-data.md.orig | sed s/tx.test/$DOMAIN_NAME/ > concept/seeds-overall-data.md\necho "Modifing file  init-container/iam/centralidp/CX-Central-realm.json ..."\ncp init-container/iam/centralidp/CX-Central-realm.json init-container/iam/centralidp/CX-Central-realm.json.orig\ncat init-container/iam/centralidp/CX-Central-realm.json.orig | sed s/tx.test/$DOMAIN_NAME/ > init-container/iam/centralidp/CX-Central-realm.json\necho "Modifing file init-container/iam/sharedidp/CX-operator-realm.json ..."\ncp init-container/iam/sharedidp/CX-Operator-realm.json init-container/iam/sharedidp/CX-Operator-realm.json.orig\ncat init-container/iam/sharedidp/CX-Operator-realm.json.orig | sed s/tx.test/$DOMAIN_NAME/ > init-container/iam/sharedidp/CX-Operator-realm.json\necho "Modifing file init-container/iam/sharedidp/CX-operator-realm.json ..."\ncp init-container/iam/sharedidp/CX-Operator-users-0.json init-container/iam/sharedidp/CX-Operator-users-0.json.orig\ncat init-container/iam/sharedidp/CX-Operator-users-0.json.orig | sed s/tx.test/$DOMAIN_NAME/ > init-container/iam/sharedidp/CX-Operator-users-0.json\n')),(0,l.kt)("h3",{id:"install-helm-charts"},"Install Helm Charts"),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Due to resource restrictions, it's ",(0,l.kt)("strong",{parentName:"p"},"not recommended")," to install the helm chart with all components enabled.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"It is to be expected that some pods - which run as post-install hooks, like for instance the ",(0,l.kt)("strong",{parentName:"p"},"portal-migrations job - will run into errors until another component"),", like for instance a database, is ready to take connections.\nThose jobs will recreate pods until one run is successful.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Persistance is disabled by default")," but can be configured in a custom values file.")))),(0,l.kt)("h4",{id:"use-released-chart"},"Use released chart"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add tractusx-dev https://eclipse-tractusx.github.io/charts/dev\n")),(0,l.kt)("h5",{id:"-command-explanation"},"\u2754 Command explanation"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"helm install")," is used to install a chart in Kubernetes using Helm."),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--set COMPONENT_1.enabled=true,COMPONENT_2.enabled=true")," Enables the components by setting their respective enabled values to true."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"umbrella")," is the release name for the chart."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"tractusx-dev/umbrella")," specifies the chart to install, with ",(0,l.kt)("em",{parentName:"li"},"tractusx-dev")," being the repository name and ",(0,l.kt)("em",{parentName:"li"},"umbrella")," being the chart name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--namespace umbrella")," specifies the namespace in which to install the chart."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--create-namespace")," create a namespace with the name ",(0,l.kt)("inlineCode",{parentName:"li"},"umbrella"),"."))),(0,l.kt)("h5",{id:"option-1"},"Option 1"),(0,l.kt)("p",null,"Install with your chosen components enabled:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install \\\n  --set COMPONENT_1.enabled=true,COMPONENT_2.enabled=true,COMPONENT_3.enabled=true \\\n  umbrella tractusx-dev/umbrella \\\n  --namespace umbrella \\\n  --create-namespace\n")),(0,l.kt)("h5",{id:"option-2"},"Option 2"),(0,l.kt)("p",null,"Choose to install one of the predefined subsets (currently in focus of the ",(0,l.kt)("strong",{parentName:"p"},"E2E Adopter Journey"),"):"),(0,l.kt)("h6",{id:"data-exchange-subset"},"Data Exchange Subset"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install \\\n  --set centralidp.enabled=true,managed-identity-wallet.enabled=true,dataconsumerOne.enabled=true,tx-data-provider.enabled=true \\\n  umbrella tractusx-dev/umbrella \\\n  --namespace umbrella \\\n  --create-namespace\n")),(0,l.kt)("h6",{id:"optional-1"},"Optional"),(0,l.kt)("p",null,"Enable ",(0,l.kt)("inlineCode",{parentName:"p"},"dataconsumerTwo")," at upgrade:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install \\\n  --set centralidp.enabled=true,managed-identity-wallet.enabled=true,dataconsumerOne.enabled=true,tx-data-provider.enabled=true,dataconsumerTwo.enabled=true \\\n  umbrella tractusx-dev/umbrella \\\n  --namespace umbrella\n")),(0,l.kt)("h6",{id:"portal-subset"},"Portal Subset"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install \\\n  --set portal.enabled=true,centralidp.enabled=true,sharedidp.enabled=true \\\n  umbrella tractusx-dev/umbrella \\\n  --namespace umbrella \\\n  --create-namespace\n")),(0,l.kt)("p",null,"To set your own configuration and secret values, install the helm chart with your own values file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install -f your-values.yaml umbrella tractusx-dev/umbrella --namespace umbrella --create-namespace\n")),(0,l.kt)("h4",{id:"use-local-repository"},"Use local repository"),(0,l.kt)("p",null,"Make sure to clone the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/tractus-x-umbrella"},"tractus-x-umbrella")," repository beforehand."),(0,l.kt)("p",null,"Then navigate to the chart directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd charts/umbrella/\n")),(0,l.kt)("p",null,"Download the chart dependencies:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm dependency update\n")),(0,l.kt)("h5",{id:"grey_question-command-explanation"},"grey_question: Command explanation"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"helm install")," is used to install a Helm chart."),(0,l.kt)("blockquote",{parentName:"blockquote"},(0,l.kt)("h2",{parentName:"blockquote",id:"-f-your-valuesyaml---f-values-yaml-specifies-the-values-file-to-use-for-configuration"},(0,l.kt)("inlineCode",{parentName:"h2"},"-f your-values.yaml")," | ",(0,l.kt)("inlineCode",{parentName:"h2"},"-f values-*.yaml")," specifies the values file to use for configuration."),(0,l.kt)("h2",{parentName:"blockquote",id:"umbrella-is-the-release-name-for-the-helm-chart"},(0,l.kt)("inlineCode",{parentName:"h2"},"umbrella")," is the release name for the Helm chart."),(0,l.kt)("h2",{parentName:"blockquote",id:"-specifies-the-path-to-the-chart-directory"},(0,l.kt)("inlineCode",{parentName:"h2"},".")," specifies the path to the chart directory."),(0,l.kt)("h2",{parentName:"blockquote",id:"--namespace-umbrella-specifies-the-namespace-in-which-to-install-the-chart"},(0,l.kt)("inlineCode",{parentName:"h2"},"--namespace umbrella")," specifies the namespace in which to install the chart."),(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"--create-namespace")," create a namespace with the name ",(0,l.kt)("inlineCode",{parentName:"p"},"umbrella"),"."))),(0,l.kt)("h5",{id:"option-1-1"},"Option 1"),(0,l.kt)("p",null,"Install your chosen components by having them enabled in a ",(0,l.kt)("inlineCode",{parentName:"p"},"your-values.yaml")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install -f your-values.yaml umbrella . --namespace umbrella --create-namespace\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"In general, all your specific configuration and secret values should be set by installing with an own values file.")),(0,l.kt)("h5",{id:"option-2-1"},"Option 2"),(0,l.kt)("p",null,"Choose to install one of the predefined subsets (currently in focus of the ",(0,l.kt)("strong",{parentName:"p"},"E2E Adopter Journey"),"):"),(0,l.kt)("h6",{id:"data-exchange-subset-1"},"Data Exchange Subset"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install -f values-adopter-data-exchange.yaml umbrella . --namespace umbrella --create-namespace\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Optional:")),(0,l.kt)("p",null,"Enable ",(0,l.kt)("inlineCode",{parentName:"p"},"dataconsumerTwo")," by setting it true in ",(0,l.kt)("inlineCode",{parentName:"p"},"values-adopter-data-exchange.yaml")," and then executing an upgrade:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"dataconsumerTwo:\n  enabled: true\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm upgrade -f values-adopter-data-exchange.yaml umbrella . --namespace umbrella\n")),(0,l.kt)("h6",{id:"portal-subset-1"},"Portal Subset"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install -f values-adopter-portal.yaml umbrella . --namespace umbrella --create-namespace\n")),(0,l.kt)("h4",{id:"get-to-know-the-portal"},"Get to know the Portal"),(0,l.kt)("p",null,"Perform first login and send out an invitation to a company to join the network (SMTP account required to be configured in custom values.yaml file)."),(0,l.kt)("p",null,"Proceed with the login to the ",(0,l.kt)("a",{parentName:"p",href:"http://portal.arena.test"},"http://portal.arena.test")," to verify that everything is setup as expected."),(0,l.kt)("p",null,"Credentials to log into the initial example realm (CX-Operator):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"cx-operator@arena.test\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"tractusx-umbr3lla!\n")),(0,l.kt)("mermaid",{value:"%%{\n  init: {\n    'flowchart': { 'diagramPadding': '10', 'wrappingWidth': '', 'nodeSpacing': '', 'rankSpacing':'', 'titleTopMargin':'10', 'curve':'basis'},\n    'theme': 'base',\n    'themeVariables': {\n      'primaryColor': '#b3cb2d',\n      'primaryBorderColor': '#ffa600',\n      'lineColor': '#ffa600',\n      'tertiaryColor': '#fff'\n    }\n  }\n}%%\n        graph TD\n          classDef stroke stroke-width:2px\n          classDef addext fill:#4cb5f5,stroke:#b7b8b6,stroke-width:2px\n          iam1(IAM: centralidp Keycloak):::stroke\n          iam2(IAM: sharedidp Keycloak):::stroke\n          portal(Portal):::stroke\n          subgraph Login Flow\n              iam1 --- portal & iam2\n            end\n          linkStyle 0,1 stroke:lightblue"}),(0,l.kt)("p",null,"The relevant hosts are the following:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://centralidp.arena.test/auth/"},"http://centralidp.arena.test/auth/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://sharedidp.arena.test/auth/"},"http://sharedidp.arena.test/auth/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test"},"http://portal-backend.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal.arena.test"},"http://portal.arena.test"))),(0,l.kt)("p",null,"In case that you have TLS enabled (see ",(0,l.kt)("a",{parentName:"p",href:"#self-signed-tls-setup-optional"},"Self-signed TLS setup (Optional)"),"), make sure to accept the risk of the self-signed certificates for all the hosts before performing the first login:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://centralidp.arena.test/auth/"},"https://centralidp.arena.test/auth/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://sharedidp.arena.test/auth/"},"https://sharedidp.arena.test/auth/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://portal-backend.arena.test"},"https://portal-backend.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://portal.arena.test"},"https://portal.arena.test"))),(0,l.kt)("h3",{id:"uninstall-helm-charts"},"Uninstall Helm Charts"),(0,l.kt)("p",null,"To teardown your setup, run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"helm delete umbrella --namespace umbrella\n")),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"If persistance for one or more components is enabled, the persistent volume claims (PVCs) and connected persistent volumes (PVs) need to be removed manually even if you deleted the release from the cluster.")),(0,l.kt)("h3",{id:"ingresses"},"Ingresses"),(0,l.kt)("p",null,"Currently enabled ingresses:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://centralidp.arena.test/auth/"},"centralidp.arena.test/auth")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://sharedidp.arena.test/auth/"},"sharedidp.arena.test/auth")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test"},"portal-backend.arena.test"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test/api/administration/swagger/index.html"},"portal-backend.arena.test/api/administration/swagger/index.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test/api/registration/swagger/index.html"},"portal-backend.arena.test/api/registration/swagger/index.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test/api/apps/swagger/index.html"},"portal-backend.arena.test/api/apps/swagger/index.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test/api/services/swagger/index.html"},"portal-backend.arena.test/api/services/swagger/index.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal-backend.arena.test/api/notification/swagger/index.html"},"portal-backend.arena.test/api/notification/swagger/index.html")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://portal.arena.test"},"portal.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://managed-identity-wallets.arena.test/ui/swagger-ui/index.html"},"managed-identity-wallets.arena.test/ui/swagger-ui/index.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://semantics.arena.test/discoveryfinder/swagger-ui/index.html"},"semantics.arena.test/discoveryfinder/swagger-ui/index.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://dataconsumer-1-controlplane.arena.test"},"dataconsumer-1-controlplane.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://dataconsumer-1-dataplane.arena.test"},"dataconsumer-1-dataplane.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://dataprovider-dataplane.arena.test"},"dataprovider-dataplane.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://dataconsumer-2-controlplane.arena.test"},"dataconsumer-2-controlplane.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://dataconsumer-2-dataplane.arena.test"},"dataconsumer-2-dataplane.arena.test")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://pgadmin4.arena.test"},"pgadmin4.arena.test"))),(0,l.kt)("h3",{id:"database-access"},"Database Access"),(0,l.kt)("p",null,"This chart also contains a pgadmin4 instance for easy access to the deployed Postgres databases which are only available from within the Kubernetes cluster."),(0,l.kt)("p",null,"pgadmin4 is by default enabled with in the predefined subsets for data exchange and portal."),(0,l.kt)("p",null,"Address: ",(0,l.kt)("a",{parentName:"p",href:"http://pgadmin4.arena.test"},"pgadmin4.arena.test")),(0,l.kt)("p",null,"Credentials to login into pgadmin4:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"pgadmin4@txtest.org\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"tractusxpgdamin4\n")),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"The database server connections need to be added manually to pgadmin4.")),(0,l.kt)("p",null,"Default username for all connections:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"postgres\n")),(0,l.kt)("p",null,"Default user for all connections:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"5432\n")),(0,l.kt)("p",null,"In the following some of the available connections:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"portal")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"portal-backend-postgresql\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpasswordportal\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"centralidp")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"umbrella-centralidp-postgresql\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpasswordcentralidp\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"sharedidp")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"umbrella-sharedidp-postgresql\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpasswordsharedidp\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"miw")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"umbrella-miw-postgres\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpasswordmiw\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"dataprovider")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"umbrella-dataprovider-db\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpasswordtxdataprovider\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"dataconsumer-1")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"umbrella-dataconsumer-1-db\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpassworddataconsumerone\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"dataconsumer-2")),(0,l.kt)("p",null,"Host:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"umbrella-dataconsumer-2-db\n")),(0,l.kt)("p",null,"Password:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"dbpassworddataconsumertwo\n")),(0,l.kt)("h3",{id:"keycloak-admin-console"},"Keycloak Admin Console"),(0,l.kt)("p",null,"Access to admin consoles:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://sharedidp.arena.test/auth/"},"http://centralidp.arena.test/auth/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"http://sharedidp.arena.test/auth/"},"http://sharedidp.arena.test/auth/"))),(0,l.kt)("p",null,"Default username for centralidp and sharedidp:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"admin\n")),(0,l.kt)("p",null,"Password centralidp:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"adminconsolepwcentralidp\n")),(0,l.kt)("p",null,"Password sharedidp:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"adminconsolepwsharedidp\n")),(0,l.kt)("h3",{id:"seeding"},"Seeding"),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/eclipse-tractusx/tractus-x-umbrella/blob/main/concept/seeds-overall-data.md"},"Overall Seeding"),"."),(0,l.kt)("h3",{id:"self-signed-tls-setup-optional"},"Self-signed TLS setup (Optional)"),(0,l.kt)("p",null,'Some of the components are prepared to be configured with TLS enabled (see "uncomment the following line for tls" comments in ',(0,l.kt)("a",{parentName:"p",href:"./values.yaml"},"values.yaml"),")."),(0,l.kt)("p",null,"If you'd like to make use of that, make sure to to execute this step beforehand."),(0,l.kt)("p",null,"Install cert-manager chart in the same namespace where the umbrella chart will be located."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add jetstack https://charts.jetstack.io\nhelm repo update\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install \\\n  cert-manager jetstack/cert-manager \\\n  --namespace umbrella \\\n  --create-namespace \\\n  --version v1.14.4 \\\n  --set installCRDs=true\n")),(0,l.kt)("p",null,"Configure the self-signed certificate and issuer to be used by the ingress resources."),(0,l.kt)("p",null,"If you have the repository checked out you can run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f ./charts/umbrella/cluster-issuer.yaml\n")),(0,l.kt)("p",null,"or otherwise you can run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f - <<EOF\napiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: selfsigned-issuer\nspec:\n  selfSigned: {}\n---\napiVersion: cert-manager.io/v1\nkind: Certificate\nmetadata:\n  name: my-selfsigned-ca\n  namespace: umbrella\nspec:\n  isCA: true\n  commonName: arena.test\n  secretName: root-secret\n  privateKey:\n    algorithm: RSA\n    size: 2048\n  issuerRef:\n    name: selfsigned-issuer\n    kind: ClusterIssuer\n    group: cert-manager.io\n  subject:\n    organizations:\n      - CX\n    countries:\n      - DE\n    provinces:\n      - Some-State\n---\napiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: my-ca-issuer\nspec:\n  ca:\n    secretName: root-secret\nEOF\n")),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"https://cert-manager.io/docs/configuration/selfsigned"},"cert-manager self-signed")," for reference."),(0,l.kt)("h3",{id:"precondition-for-semantic-hub"},"Precondition for Semantic Hub"),(0,l.kt)("p",null,"In case of enabling ",(0,l.kt)("inlineCode",{parentName:"p"},"semantic-hub")," the fuseki docker image must be built.\nBuild fuseki docker image by following the below steps:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Download ",(0,l.kt)("a",{parentName:"li",href:"https://repo1.maven.org/maven2/org/apache/jena/jena-fuseki-docker/4.7.0/jena-fuseki-docker-4.7.0.zip"},"jena-fuseki-docker-4.7.0.zip")),(0,l.kt)("li",{parentName:"ul"},"Unzip the jena-fuseki-docker-4.7.0.zip."),(0,l.kt)("li",{parentName:"ul"},"Build the docker image by running the command - ",(0,l.kt)("inlineCode",{parentName:"li"},"docker build --build-arg JENA_VERSION=4.7.0 -t jena-fuseki-docker:4.7.0 --platform linux/amd64 ."))),(0,l.kt)("h2",{id:"notice"},"Notice"),(0,l.kt)("p",null,"This work is licensed under the ",(0,l.kt)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by/4.0/legalcode"},"CC-BY-4.0"),"."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"SPDX-License-Identifier: CC-BY-4.0"),(0,l.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2024 sovity GmbH"),(0,l.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2024 SAP SE"),(0,l.kt)("li",{parentName:"ul"},"SPDX-FileCopyrightText: 2024 msg systems AG"),(0,l.kt)("li",{parentName:"ul"},"Source URL: ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/eclipse-tractusx/eclipse-tractusx.github.io"},"https://github.com/eclipse-tractusx/eclipse-tractusx.github.io"))))}m.isMDXComponent=!0}}]);
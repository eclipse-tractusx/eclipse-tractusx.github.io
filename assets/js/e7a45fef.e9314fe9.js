"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([[30861],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),l=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),c=l(a),u=i,h=c["".concat(s,".").concat(u)]||c[u]||m[u]||r;return a?n.createElement(h,o(o({ref:t},p),{},{components:a})):n.createElement(h,o({ref:t},p))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=u;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d[c]="string"==typeof e?e:i,o[1]=d;for(var l=2;l<r;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},14717:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var n=a(87462),i=(a(67294),a(3905));const r={id:"development-view",title:"Development View",description:"What do I have to implement?",sidebar_position:3},o=void 0,d={unversionedId:"kits/DCM-Kit/development-view",id:"version-24.03/kits/DCM-Kit/development-view",title:"Development View",description:"What do I have to implement?",source:"@site/docs-kits_versioned_docs/version-24.03/kits/DCM-Kit/page_development-view.md",sourceDirName:"kits/DCM-Kit",slug:"/kits/DCM-Kit/development-view",permalink:"/docs-kits/kits/DCM-Kit/development-view",draft:!1,tags:[],version:"24.03",sidebarPosition:3,frontMatter:{id:"development-view",title:"Development View",description:"What do I have to implement?",sidebar_position:3},sidebar:"kits",previous:{title:"Adoption View",permalink:"/docs-kits/kits/DCM-Kit/adoption-view"},next:{title:"Architecture View",permalink:"/docs-kits/kits/DCM-Kit/architecture-view"}},s={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Aspect Models",id:"aspect-models",level:2},{value:"Aspect Model &quot;MaterialDemand&quot;",id:"aspect-model-materialdemand",level:3},{value:"Sample Data",id:"sample-data",level:4},{value:"Aspect Model &quot;WeekBasedCapacityGroup&quot;",id:"aspect-model-weekbasedcapacitygroup",level:3},{value:"Sample Data",id:"sample-data-1",level:4},{value:"Aspect Model &quot;IdBasedRequestForUpdate&quot;",id:"aspect-model-idbasedrequestforupdate",level:3},{value:"Sample Data",id:"sample-data-2",level:4},{value:"Aspect Model &quot;IdBasedComment&quot;",id:"aspect-model-idbasedcomment",level:3},{value:"Sample Data",id:"sample-data-3",level:4},{value:"Application Programming Interfaces",id:"application-programming-interfaces",level:2},{value:"Header",id:"header",level:3},{value:"Catena-X Membership Verification",id:"catena-x-membership-verification",level:3},{value:"MaterialDemand API",id:"materialdemand-api",level:3},{value:"Data Exchange",id:"data-exchange",level:4},{value:"UUID generation and handling",id:"uuid-generation-and-handling",level:4},{value:"EDC Data Asset Structure",id:"edc-data-asset-structure",level:4},{value:"Error Handling and payload validation",id:"error-handling-and-payload-validation",level:4},{value:"WeekBasedCapacityGroup API",id:"weekbasedcapacitygroup-api",level:3},{value:"Data Exchange",id:"data-exchange-1",level:4},{value:"UUID generation and handling",id:"uuid-generation-and-handling-1",level:4},{value:"EDC Data Asset Structure",id:"edc-data-asset-structure-1",level:4},{value:"Error Handling and payload validation",id:"error-handling-and-payload-validation-1",level:4},{value:"RequestForUpdate API",id:"requestforupdate-api",level:3},{value:"Data Exchange",id:"data-exchange-2",level:4},{value:"EDC Data Asset Structure",id:"edc-data-asset-structure-2",level:4},{value:"Error Handling and payload validation",id:"error-handling-and-payload-validation-2",level:4},{value:"IdBasedComment API",id:"idbasedcomment-api",level:3},{value:"Data Exchange",id:"data-exchange-3",level:4},{value:"UUID generation and handling",id:"uuid-generation-and-handling-2",level:4},{value:"EDC Data Asset Structure",id:"edc-data-asset-structure-3",level:4},{value:"Error Handling and payload validation",id:"error-handling-and-payload-validation-3",level:4},{value:"DCM Asset Administration Shell API (AAS API)",id:"dcm-asset-administration-shell-api-aas-api",level:3},{value:"API Specification",id:"api-specification",level:4},{value:"API Endpoints &amp; Resources",id:"api-endpoints--resources",level:5},{value:"Data Exchange",id:"data-exchange-4",level:5},{value:"UUID generation and handling",id:"uuid-generation-and-handling-3",level:5},{value:"Available Data Types",id:"available-data-types",level:5},{value:"DTR Registration",id:"dtr-registration",level:5},{value:"EDC Registration",id:"edc-registration",level:5},{value:"EDC Data Asset",id:"edc-data-asset",level:5},{value:"EDC Policy Definition",id:"edc-policy-definition",level:5},{value:"EDC Contract Definition",id:"edc-contract-definition",level:5},{value:"Error Handling",id:"error-handling",level:5}],p={toc:l};function c(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"DCM kit banner",src:a(38842).Z,width:"285",height:"244"})),(0,i.kt)("p",null,"This page describes the most important parts for the software implementation of the DCM standards. For the full\ntechnical specification, please refer to the\nstandard ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange"),"."),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"This document describes the ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment"),"\nsemantic models and the API definitions used in the DCM Catena-X network."),(0,i.kt)("h2",{id:"aspect-models"},"Aspect Models"),(0,i.kt)("h3",{id:"aspect-model-materialdemand"},'Aspect Model "MaterialDemand"'),(0,i.kt)("p",null,"The material demand information MUST be sent from the customer to the supplier according to the API standard described\non this page. The data format described here MUST be followed for the exchange of the material demand information."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," data model MUST be implemented by all participants who wish to participate in the Catena-X DCM use\ncase as a customer or supplier."),(0,i.kt)("p",null,"Companies that act as supplier in the Demand and Capacity Management process within Catena-X MUST be able to receive\nmaterial demand information."),(0,i.kt)("p",null,"Companies that act as customer in the Demand and Capacity Management process within Catena-X MUST be able to send\nmaterial demand information."),(0,i.kt)("p",null,"Companies that acts in both roles, MUST therefore be able to receive and send material demand information. It is\nRECOMMENDED that participating companies implement both directions of data flows (sending & receiving)."),(0,i.kt)("p",null,"Every data provider of ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," data MUST provide the data conformant to the semantic model specified in this\ndocument."),(0,i.kt)("p",null,"The unique identifier of the semantic model specified in this document MUST be used by the data provider to define the\nsemantics of the data being transferred."),(0,i.kt)("p",null,"Every business application relying on ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," data MUST be able to consume data conformant to the semantic\nmodel specified in this document."),(0,i.kt)("h4",{id:"sample-data"},"Sample Data"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "unitOfMeasureIsOmitted": false,\n  "demandRate": {\n    "demandRateCode": "WKS"\n  },\n  "unitOfMeasure": "unit:piece",\n  "materialDescriptionCustomer": "Spark Plug",\n  "materialGlobalAssetId": "urn:uuid:48878d48-6f1d-47f5-8ded-a441d0d879df",\n  "materialDemandId": "0157ba42-d2a8-4e28-8565-7b07830c1110",\n  "materialNumberSupplier": "MNR-8101-ID146955.001",\n  "supplier": "{{CATENAX-SUPPLIER-BPNL}}",\n  "changedAt": "2023-11-05T08:15:30.123-05:00",\n  "demandSeries": [\n    {\n      "expectedSupplierLocation": "{{CATENAX-SUPPLIER-BPNS}}",\n      "demands": [\n        {\n          "demand": 1000,\n          "pointInTime": "2023-10-09"\n        }\n      ],\n      "customerLocation": "{{CATENAX-CUSTOMER-BPNS}}",\n      "demandCategory": {\n        "demandCategoryCode": "0001"\n      }\n    }\n  ],\n  "materialNumberCustomer": "MNR-7307-AU340474.002",\n  "customer": "{{CATENAX-CUSTOMER-BPNL}}"\n}\n')),(0,i.kt)("p",null,"The semantic model has the unique identifier"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"urn:samm:io.catenax.material_demand:1.0.0\n")),(0,i.kt)("p",null,"This identifier MUST be used by the data provider to define the semantics of the data being transferred."),(0,i.kt)("p",null,"The rdf turtle file, an instance of the Semantic Aspect Meta Model, is the master for generating additional file formats\nand serializations."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.material_demand/1.0.0/MaterialDemand.ttl\n")),(0,i.kt)("p",null,"The open source command line tool of the Eclipse Semantic Modeling Framework is used for generation of other file\nformats like for example a JSON Schema, aasx for Asset Administration Shell Submodel template or a HTML documentation."),(0,i.kt)("h3",{id:"aspect-model-weekbasedcapacitygroup"},'Aspect Model "WeekBasedCapacityGroup"'),(0,i.kt)("p",null,"The capacity group information MUST be sent from the supplier to the customer according to the API standard described on\nthis page. The data format described here MUST be followed for the exchange of the capacity group information."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," data model MUST be implemented by all participants who wish to participate in the Catena-X\nDCM use case as a customer or supplier."),(0,i.kt)("p",null,"Companies, who participate in the DCM use case as a supplier, MUST be able to send capacity group information."),(0,i.kt)("p",null,"Companies, who participate in the DCM use case as a customer, MUST be able to receive capacity group information."),(0,i.kt)("p",null,"Companies who participate in the DCM use case with both roles therefore MUST be able to receive and send capacity group\ninformation. It is RECOMMENDED that participating companies implement both directions of data flows (sending &\nreceiving)."),(0,i.kt)("p",null,"Every data provider of ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," data MUST provide the data conformant to the semantic model specified in\nthis document."),(0,i.kt)("p",null,"The unique identifier of the semantic model specified in this document MUST be used by the data provider to define the\nsemantics of the data being transferred."),(0,i.kt)("p",null,"Every business application relying on ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," data MUST be able to consume data conformant to the\nsemantic model specified in this document."),(0,i.kt)("h4",{id:"sample-data-1"},"Sample Data"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "unitOfMeasureIsOmitted": false,\n  "unitOfMeasure": "unit:piece",\n  "linkedDemandSeries": [\n    {\n      "loadFactor": 3.5,\n      "materialNumberCustomer": "MNR-7307-AU340474.002",\n      "materialNumberSupplier": "MNR-8101-ID146955.001",\n      "customerLocation": "{{CATENAX-CUSTOMER-BPNS}}",\n      "demandCategory": {\n        "demandCategoryCode": "0001"\n      }\n    }\n  ],\n  "supplier": "{{CATENAX-SUPPLIER-BPNL}}",\n  "linkedCapacityGroups": [\n    "be4d8470-2de6-43d2-b5f8-2e5d3eebf3fd"\n  ],\n  "name": "Spark Plugs on drilling machine for car model XYZ",\n  "supplierLocations": [\n    "{{CATENAX-SUPPLIER-BPNS}}"\n  ],\n  "capacities": [\n    {\n      "pointInTime": "2022-08-01",\n      "actualCapacity": 1000,\n      "maximumCapacity": 2000,\n      "deltaProductionResult": 400\n    }\n  ],\n  "changedAt": "2023-03-10T12:27:11.320Z",\n  "capacityGroupId": "0157ba42-d2a8-4e28-8565-7b07830c1110",\n  "customer": "{{CATENAX-CUSTOMER-BPNL}}"\n}\n')),(0,i.kt)("p",null,"The semantic model has the unique identifier"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"urn:samm:io.catenax.week_based_capacity_group:2.0.0\n")),(0,i.kt)("p",null,"This identifier MUST be used by the data provider to define the semantics of the data being transferred."),(0,i.kt)("p",null,"The rdf turtle file, an instance of the Semantic Aspect Meta Model, is the master for generating additional file formats\nand serializations."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.week_based_capacity_group/2.0.0/WeekBasedCapacityGroup.ttl\n")),(0,i.kt)("p",null,"The open source command line tool of the Eclipse Semantic Modeling Framework is used for generation of other file\nformats like for example a JSON Schema, aasx for Asset Administration Shell Submodel template or a HTML documentation."),(0,i.kt)("h3",{id:"aspect-model-idbasedrequestforupdate"},'Aspect Model "IdBasedRequestForUpdate"'),(0,i.kt)("p",null,"A request for update can be sent from the supplier to the customer or vice versa for one or more dedicated entities\naccording to the API standard described on this page."),(0,i.kt)("p",null,"The data format described here MUST be followed for the receipt of the ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate"),"."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate")," data model MUST be implemented by all participants who wish to participate in the Catena-X\nDCM use case as a customer or supplier to be able to receive such a request. Being able to send\nan ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate")," is OPTIONAL. It is RECOMMENDED that companies implement both ways of communication."),(0,i.kt)("p",null,"Every sender of an ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate")," MUST provide the data conformant to the semantic model specified in this\ndocument."),(0,i.kt)("p",null,"The unique identifier of the semantic model specified in this document MUST be used by the requester to define the\nsemantics of the data being transferred."),(0,i.kt)("p",null,"Every business application relying on the ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate")," data MUST be able to consume data conformant to the\nsemantic model specified in this document."),(0,i.kt)("h4",{id:"sample-data-2"},"Sample Data"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "materialDemand": [\n    {\n      "materialDemandId": "0157ba42-d2a8-4e28-8565-7b07830c3456",\n      "changedAt": "2023-03-10T12:27:11.320Z"\n    }\n  ],\n  "weekBasedCapacityGroup": [\n    {\n      "capacityGroupId": "0157ba42-d2a8-4e28-8565-7b07830c1110",\n      "changedAt": "2023-03-10T12:27:11.320Z"\n    }\n  ]\n}\n')),(0,i.kt)("p",null,"The semantic model has the unique identifier"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"urn:samm:io.catenax.id_based_request_for_update:2.0.0\n")),(0,i.kt)("p",null,"This identifier MUST be used by the data provider to define the semantics of the data being transferred."),(0,i.kt)("p",null,"The rdf turtle file, an instance of the Semantic Aspect Meta Model, is the master for generating additional file formats\nand serializations."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.id_based_request_for_update/2.0.0/IdBasedRequestForUpdate.ttl\n")),(0,i.kt)("p",null,"The open source command line tool of the Eclipse Semantic Modeling Framework is used for generation of other file\nformats like for example a JSON Schema, aasx for Asset Administration Shell Submodel template or a HTML documentation."),(0,i.kt)("h3",{id:"aspect-model-idbasedcomment"},'Aspect Model "IdBasedComment"'),(0,i.kt)("p",null,"An ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," that refers to a ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),", it's weekly capacities, a ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," or it's weekly\ndemand series can be sent from the supplier to the customer or vice versa according to the API standard described on\nthis page."),(0,i.kt)("p",null,"The data format described here MUST be followed for the exchange of the ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," information."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," data model MUST be implemented by all participants in the Catena-X DCM use case."),(0,i.kt)("p",null,"Every data provider of ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," data MUST provide the data conformant to the semantic model specified in this\ndocument. Every data consumer MUST be able to consume ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," data which is conformant to the semantic model\nspecified."),(0,i.kt)("p",null,"The unique identifier of the semantic model specified in this document MUST be used by the data provider to define the\nsemantics of the data being transferred."),(0,i.kt)("h4",{id:"sample-data-3"},"Sample Data"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "postedAt": "2023-03-10T12:27:11.320Z",\n  "listOfReferenceDates": [\n    "2023-11-05"\n  ],\n  "author": "someone@company.com",\n  "supplier": "{{CATENAX-SUPPLIER-BPNL}}",\n  "commentType": "information",\n  "commentId": "f5c151e4-30b5-4456-94fd-2a7b559b6121",\n  "changedAt": "2023-03-10T12:27:11.320Z",\n  "commentText": "Hello, this is a comment!",\n  "requestDelete": true,\n  "objectId": "dfeb1334-497e-4dab-97c1-4e6f4e1c0320",\n  "objectType": "urn:samm:io.catenax.week_based_capacity_group",\n  "customer": "{{CATENAX-CUSTOMER-BPNL}}"\n}\n')),(0,i.kt)("p",null,"The semantic model has the unique identifier"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"urn:samm:io.catenax.id_based_comment:1.0.0\n")),(0,i.kt)("p",null,"This identifier MUST be used by the data provider to define the semantics of the data being transferred."),(0,i.kt)("p",null,"The rdf turtle file, an instance of the Semantic Aspect Meta Model, is the master for generating additional file formats\nand serializations."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.id_based_comment/1.0.0/IdBasedComment.ttl\n")),(0,i.kt)("p",null,"The open source command line tool of the Eclipse Semantic Modeling Framework is used for generation of other file\nformats like for example a JSON Schema, aasx for Asset Administration Shell Submodel template or a HTML documentation."),(0,i.kt)("h2",{id:"application-programming-interfaces"},"Application Programming Interfaces"),(0,i.kt)("h3",{id:"header"},"Header"),(0,i.kt)("p",null,"In order to exchange data with a DCM partner, the following structure of a POST request payload MUST be adhered to."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "messageHeader": <messageHeaderObject>,\n  "content": {\n    "informationObject": [\n      <informationObject>,\n      <informationObject>\n    ]\n  }\n}\n')),(0,i.kt)("p",null,"This structure guarantees a separation of header and content information and allows a collection of multiple information\nobjects in the payload. ",(0,i.kt)("inlineCode",{parentName:"p"},"informationObject")," can be either a ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment"),"\nor ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedRequestForUpdate"),". The rdf turtle file, an instance of the Semantic Aspect Meta Model, is the master for\ngenerating additional file formats and serializations. The rdf turtle file for the ",(0,i.kt)("inlineCode",{parentName:"p"},"messageHeaderObject")," is defined in a\ncentralized shared aspect model which can be found under the following link:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://github.com/eclipse-tractusx/sldt-semantic-models/blob/main/io.catenax.shared.message_header/1.0.0/MessageHeaderAspect.ttl\n")),(0,i.kt)("p",null,"The entities and characteristics of the rdf turtle itself contain the descriptions for the usage of the message header."),(0,i.kt)("h3",{id:"catena-x-membership-verification"},"Catena-X Membership Verification"),(0,i.kt)("p",null,"Catena-X Membership MUST be verified in accordance with\nstandard ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0016 Company Attribute Verification")," Company Attribute\nVerification before any data is allowed to be exchanged via any of the following APIs"),(0,i.kt)("h3",{id:"materialdemand-api"},"MaterialDemand API"),(0,i.kt)("p",null,"The MaterialDemand contains the material demand information which is send from the customer to the supplier."),(0,i.kt)("p",null,"All participants participating in Catena-X DCM in the role of a customer MUST be able to send the ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),". All\nparticipants participating in Catena-X DCM in the role of a supplier MUST be able to receive and process\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),"."),(0,i.kt)("h4",{id:"data-exchange"},"Data Exchange"),(0,i.kt)("p",null,"To support the exchange of ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," data, a business application MUST define a single endpoint supporting the\nHTTP POST request method as described in ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc9110"},"RFC9110"),". The structure of the\nendpoint MAY be freely chosen. The address of the endpoint MUST be provided as part of the EDC Data Asset defined on\nthis page."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," data MUST be sent from the customer to the supplier using an HTTP POST request. The data format\ndescribed here MUST be followed for the exchange of the material demand information."),(0,i.kt)("p",null,"Multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," aspects MAY be sent in one transfer as a JSON list. If only one ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," aspect is\ntransmitted, it MUST still be sent as a list with one entry."),(0,i.kt)("p",null,"The serialized JSON MUST NOT be larger than 15 MiB in size."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," endpoint MUST be implemented by all participants who wish to participate in the Catena-X DCM use\ncase as a supplier. Customers MUST be able to send ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," objects to their suppliers."),(0,i.kt)("p",null,"The data payload itself MUST be a valid JSON string."),(0,i.kt)("p",null,"All attributes marked as mandatory in the aspect model standard MUST be included in the dataset. Attributes marked as '\noptional' MAY be included in the data set."),(0,i.kt)("p",null,"The usage of the attributes in the data model MUST follow the attribute descriptions of the respective aspect model and\nthe definitions on this page."),(0,i.kt)("p",null,"While some attributes are technically a string, not any string is valid. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"expectedSupplierLocation")," MUST be\nformatted as a BPNS."),(0,i.kt)("p",null,"For the data exchange between demand and capacity management applications the ",(0,i.kt)("inlineCode",{parentName:"p"},"demandRateCode")," MUST be set to 'WKS' (=\nweeks) in order to indicate, that the given granularity for the demands is on the level calendar weeks."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"pointInTime")," property represents the calendar week as a date and MUST be set to a monday of the week for that\nspecific demand. The date format MUST be in accordance with ISO8601 and MUST be in the format YYYY-MM-DD (for example\n2023-02-13) without a time zone."),(0,i.kt)("p",null,"The attributes ",(0,i.kt)("inlineCode",{parentName:"p"},"demandCategory")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"unitOfMeasure")," MUST be set to one of the defined values as defined\nin ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange"),". If the customer\nexplicitly does not want to send a unit of measure to the supplier, then the ",(0,i.kt)("inlineCode",{parentName:"p"},"unitOfMeasure")," property can be omitted in\nthe payload and the ",(0,i.kt)("inlineCode",{parentName:"p"},"unitOfMeasureIsOmitted")," flag value MUST be set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,i.kt)("p",null,"The data series in the ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," SHOULD start already from week ",(0,i.kt)("em",{parentName:"p"},"n+2"),", where n represents the current week."),(0,i.kt)("p",null,"The demand for the current week (",(0,i.kt)("em",{parentName:"p"},"n=0"),") and the next week (",(0,i.kt)("em",{parentName:"p"},"n=1"),") MAY be included in the dataset. The ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),"\nMUST include at least one week other than the current or the next week (meaning it may not be empty). Every week MUST\nNOT be included multiple times in the same ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),"."),(0,i.kt)("p",null,"If the demand for one of the weeks changes, the whole dataset MUST be sent to the supplier; sending the changes only (\ndelta update / incremental update) is not possible. By this procedure, inconsistent or incomplete data sets are avoided.\nOne data transfer MUST contain at least one ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," data set."),(0,i.kt)("p",null,"For the combination of the attributes ",(0,i.kt)("inlineCode",{parentName:"p"},"supplier"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"customer")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"materialNumberCustomer")," in the\nobject ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),", there MUST NOT be more than one ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," object in existence. This means that the\ncustomer needs to collect all demands for all factories and send them aggregated as one ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," to the\nsupplier."),(0,i.kt)("p",null,"If the demand in a certain week has the value ",(0,i.kt)("inlineCode",{parentName:"p"},"0"),", it MUST be explicitly included as such in the ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),",\nmeaning the week cannot be left out (as there is a difference between ",(0,i.kt)("inlineCode",{parentName:"p"},"null")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"0"),"). Weeks with an unknown demand (\nvalue ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),") SHOULD be left out."),(0,i.kt)("h4",{id:"uuid-generation-and-handling"},"UUID generation and handling"),(0,i.kt)("p",null,"When exchanging demand data, the usage of UUIDv4 is required in order to reduce the probability of collision as well as\nto eliminate certain attack vectors. For technical purposes the UUIDv4 MUST be treated as unique within the\nsupplier-customer relationship. For the combination of attributes ",(0,i.kt)("inlineCode",{parentName:"p"},"supplier"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"customer")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"materialNumberCustomer")," in\nthe object ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," there MUST be exactly one unique UUIDv4."),(0,i.kt)("p",null,"The UUIDv4 MUST be generated according to ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc4122"},"RFC4122"),"."),(0,i.kt)("h4",{id:"edc-data-asset-structure"},"EDC Data Asset Structure"),(0,i.kt)("p",null,"The HTTP POST endpoint introduced MUST NOT be called from a supply chain partner directly. Rather, it MUST be called via\nan EDC communication. Therefore, the endpoint MUST be offered as an EDC Data Asset. The latter MUST have a\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://purl.org/dc/terms/type")," with the ID ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/taxonomy#DcmMaterialDemand"),". It can be\nabbreviated if the namespaces of key and value are part of the json-ld @context object (see example below). This\nproperty SHOULD be used to identify the asset when searching the assets catalog of a supplier. Because the asset\nreflects the contractual relationship between a supplier and its customers, only one asset with the aforementioned\nproperty for one version MUST be visible to the customer at any time to avoid ambiguity."),(0,i.kt)("p",null,"The API version described in this standard document MUST be published in the in the\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/ontology/common#version")," as version 2.0 in the asset. The requester of an asset MUST\nbe able to handle multiple assets for this endpoint, being differentiated only by the version. The requester SHOULD\nchoose the asset with the highest compatible version number implemented by themselves. If the requester cannot find a\ncompatible version with their own, the requester MUST terminate the data transfer."),(0,i.kt)("p",null,"Each supplier MUST ensure that only their customers have access to the asset by using access and usage policies and\nrespective contract definitions."),(0,i.kt)("p",null,"An example EDC Data Asset definition is shown below."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: Expressions in double curly braces {{}} must be substituted with a corresponding value."),(0,i.kt)("p",{parentName:"blockquote"},"// Asset definition example for EDC management API v3 (non-normative)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "edc": "https://w3id.org/edc/v0.0.1/ns/",\n    "cx-common": "https://w3id.org/catenax/ontology/common#",\n    "cx-taxo": "https://w3id.org/catenax/taxonomy#",\n    "dct": "https://purl.org/dc/terms/"\n  },\n  "@id": "{{ ASSET_ID }}",\n  "properties": {\n    "dct:type": {\n      "@id": "cx-taxo:DcmMaterialDemand"\n    },\n    "description": "Endpoint for provisioning of material demands",\n    "cx-common:version": "2.0"\n  },\n  "dataAddress": {\n    "@type": "DataAddress",\n    "type": "HttpData",\n    "baseUrl": "{{ URL-BACKEND-APPLICATION-MATERIALDEMAND-ENDPOINT }}",\n    "method": "POST",\n    "proxyBody": "true",\n    "contentType": "application/json"\n  }\n}\n')),(0,i.kt)("h4",{id:"error-handling-and-payload-validation"},"Error Handling and payload validation"),(0,i.kt)("p",null,"For error handling and payload validation instructions please refer to\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange")," standard."),(0,i.kt)("h3",{id:"weekbasedcapacitygroup-api"},"WeekBasedCapacityGroup API"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," contains the capacity group information which is send from the supplier to the customer."),(0,i.kt)("p",null,"All participants participating in Catena-X DCM in the role of a supplier MUST be able to send\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),". All participants participating in Catena-X DCM in the role of a customer MUST be able to\nreceive and process the ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),"."),(0,i.kt)("h4",{id:"data-exchange-1"},"Data Exchange"),(0,i.kt)("p",null,"To support the exchange of ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," data, a business application MUST define a single endpoint\nsupporting the HTTP POST request method as described in ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc9110"},"RFC9110"),". The structure\nof the endpoint MAY be freely chosen. The address of the endpoint MUST be provided as part of the EDC Data Asset defined\non this page."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," data MUST be sent from the supplier to the customer using an HTTP POST request. The data\nformat described here MUST be followed for the exchange of the capacity group information."),(0,i.kt)("p",null,"Multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," aspects MAY be sent in one transfer as a JSON list as described on this page. If only\none ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," aspect is transmitted, it MUST still be sent as a list with one entry."),(0,i.kt)("p",null,"The serialized JSON MUST NOT be larger than 15 MiB in size."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," endpoint MUST be implemented by all participants who wish to participate in the Catena-X\nDCM use case as a customer. Suppliers MUST be able to send ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," objects to their customers."),(0,i.kt)("p",null,"The data payload itself MUST be a valid JSON string."),(0,i.kt)("p",null,"All attributes marked as mandatory in the aspect model standard MUST be included in the dataset. Attribute marked as '\noptional' MAY be included in the data set."),(0,i.kt)("p",null,"The usage of the attributes in the data model MUST follow the attribute descriptions of the respective aspect model and\nthe definitions in ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange"),". For\nexample, an exact definition of the different capacities is provided there and needs to be observed."),(0,i.kt)("p",null,"While some attributes are technically a string, not any string is valid. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"supplier")," MUST be formatted as a\nBPNL."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"pointInTime")," property represents the calendar week of a capacities series as a date and MUST be set to a monday of\nthe week for that specific capacity. The date format MUST be in accordance with ISO8601 and MUST be in the format\nYYYY-MM-DD (for example 2023-02-13) without a time zone."),(0,i.kt)("p",null,"The attributes ",(0,i.kt)("inlineCode",{parentName:"p"},"demandCategory")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"unitOfMeasure")," MUST be set to one of the defined values as defined on this page. If\nthe supplier explicitly does not want to send a unit of measure to the customer, then the ",(0,i.kt)("inlineCode",{parentName:"p"},"unitOfMeasure")," property can\nbe omitted in the payload and the ",(0,i.kt)("inlineCode",{parentName:"p"},"unitOfMeasureIsOmitted")," flag value MUST be set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,i.kt)("p",null,"The capacities for the current week (",(0,i.kt)("em",{parentName:"p"},"n=0"),") and the next week (",(0,i.kt)("em",{parentName:"p"},"n=1"),") MAY be included in the dataset.\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," MUST include at least one week other than the current or the next week (meaning it may not\nbe empty). Every week MUST NOT be included multiple times in the same ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),"."),(0,i.kt)("p",null,"If the capacity for one of the weeks changes, the whole dataset MUST be sent to the customer, sending the changes only (\ndelta update / incremental update) is NOT possible. By this procedure, inconsistent or incomplete data sets are avoided.\nOne data transfer MUST contain at least one ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," data set."),(0,i.kt)("p",null,"Additional business-process related rules are specified\nin ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange"),", these MUST be\nfollowed as well. For example, the process defines a capacity and how it is to be interpreted or that a demand must be\nconsistent with other exchanged information such as call-offs. All ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," objects MUST only use a\nmutually agreed unit of measure (as defined\nin ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange"),")."),(0,i.kt)("p",null,"The property ",(0,i.kt)("inlineCode",{parentName:"p"},"linkedDemandSeries")," is used to indicate to which MaterialDemand object a ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," object\nrefers to. More specifically, the linkedDemandSeries refers to a demand for a\nspecific ",(0,i.kt)("inlineCode",{parentName:"p"},"demandCategory")," / ",(0,i.kt)("inlineCode",{parentName:"p"},"customerLocation")," / ",(0,i.kt)("inlineCode",{parentName:"p"},"materialNumberCustomer")," combination."),(0,i.kt)("p",null,"One specific combination of ",(0,i.kt)("inlineCode",{parentName:"p"},"demandCategory")," / ",(0,i.kt)("inlineCode",{parentName:"p"},"customerLocation")," / ",(0,i.kt)("inlineCode",{parentName:"p"},"materialNumberCustomer")," MAY be referred to in\nmultiple ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," objects. Therefore, one ",(0,i.kt)("inlineCode",{parentName:"p"},"materialNumberCustomer")," MAY be contained\nin ",(0,i.kt)("inlineCode",{parentName:"p"},"linkedDemandSeries")," of several different ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," objects."),(0,i.kt)("p",null,"The order of the entries listed in the ",(0,i.kt)("inlineCode",{parentName:"p"},"linkedDemandSeries")," of a ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," is arbitrary and MUST be\ntreated as such."),(0,i.kt)("h4",{id:"uuid-generation-and-handling-1"},"UUID generation and handling"),(0,i.kt)("p",null,"When exchanging capacity data, the usage of UUIDv4 is required in order to reduce the probability of collision as well\nas to eliminate certain attack vectors. For technical purposes the UUIDv4 MUST be treated as unique within the\nsupplier-customer relationship."),(0,i.kt)("p",null,"The UUIDv4 MUST be generated according to ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc4122"},"RFC4122"),"."),(0,i.kt)("h4",{id:"edc-data-asset-structure-1"},"EDC Data Asset Structure"),(0,i.kt)("p",null,"The HTTP POST endpoint introduced MUST NOT be called from a supply chain partner directly. Rather, it MUST be called via\nan EDC communication. Therefore, the endpoint MUST be offered as an EDC Data Asset. The latter MUST have a\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://purl.org/dc/terms/type")," with the ID ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/taxonomy#DcmWeekBasedCapacityGroup"),". It\ncan be abbreviated if the namespaces of key and value are part of the json-ld @context object (see example below). This\nproperty SHOULD be used to identify the asset when searching the assets catalog of a customer. Because the asset\nreflects the contractual relationship between a customer and its suppliers, only one asset with the aforementioned\nproperty for one version MUST be visible to the supplier at any time to avoid ambiguity."),(0,i.kt)("p",null,"The API version described in this standard document MUST be published in the\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/ontology/common#version")," as version 2.0 in the asset. The requester of an asset MUST\nbe able to handle multiple assets for this endpoint, being differentiated only by the version. The requester SHOULD\nchoose the asset with the highest compatible version number implemented by themselves. If the requester cannot find a\ncompatible version with their own, the requester MUST terminate the data transfer."),(0,i.kt)("p",null,"Each customer MUST ensure that only their suppliers have access to the asset by using access and usage policies and\nrespective contract definitions."),(0,i.kt)("p",null,"An example EDC Data Asset definition is shown below."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: Expressions in double curly braces {{}} must be substituted with a corresponding value."),(0,i.kt)("p",{parentName:"blockquote"},"// Asset definition example for EDC management API v3 (non-normative)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "edc": "https://w3id.org/edc/v0.0.1/ns/",\n    "cx-common": "https://w3id.org/catenax/ontology/common#",\n    "cx-taxo": "https://w3id.org/catenax/taxonomy#",\n    "dct": "https://purl.org/dc/terms/"\n  },\n  "@id": "{{ ASSET_ID }}",\n  "properties": {\n    "dct:type": {\n      "@id": "cx-taxo:DcmWeekBasedCapacityGroup"\n    },\n    "description": "Endpoint for provisioning of Week Based Capacity Groups",\n    "cx-common:version": "2.0"\n  },\n  "dataAddress": {\n    "@type": "DataAddress",\n    "type": "HttpData",\n    "baseUrl": "{{ URL-BACKEND-APPLICATION-WEEKBASEDCAPACITYGROUP-ENDPOINT }}",\n    "method": "POST",\n    "proxyBody": "true",\n    "contentType": "application/json"\n  }\n}\n')),(0,i.kt)("h4",{id:"error-handling-and-payload-validation-1"},"Error Handling and payload validation"),(0,i.kt)("p",null,"For error handling and payload validation instructions please refer to\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange")," standard."),(0,i.kt)("h3",{id:"requestforupdate-api"},"RequestForUpdate API"),(0,i.kt)("p",null,"The Request for Update (RfU) allows either supplier or customer to request updates of some or even all ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),"\nor ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," objects. For example, RfU could be used in case of updating demands as well as capacity\nvalues in the requesting application."),(0,i.kt)("p",null,"Customer and supplier MUST be capable of receiving and correctly responding to a RfU. Being able send a RfU is\nRECOMMENDED."),(0,i.kt)("p",null,"The correct response to a RfU entails:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Answering with the appropriate HTTP status code"),(0,i.kt)("li",{parentName:"ol"},"If that status code is 200 OK: Sending the requested material demands and capacity groups via ",(0,i.kt)("inlineCode",{parentName:"li"},"MaterialDemand")," API\nor ",(0,i.kt)("inlineCode",{parentName:"li"},"WeekBasedCapacityGroup")," API respectively.")),(0,i.kt)("p",null,"It is RECOMMENDED that this functionality SHOULD NOT be an end-user functionality which can be executed in an user\ninterface."),(0,i.kt)("h4",{id:"data-exchange-2"},"Data Exchange"),(0,i.kt)("p",null,"To support RequestForUpdate, a business application MUST define a single endpoint supporting the HTTP POST request\nmethod as described in ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc9110"},"RFC9110"),". The structure of the endpoint MAY be freely\nchosen. The address of the endpoint MUST be provided as part of the EDC Data Asset defined on this page."),(0,i.kt)("p",null,"The RequestForUpdate data MUST be sent from the customer to the supplier or vice versa using an HTTP POST request. The\ndata format described here MUST be followed in order to successfully facilitate a RfU."),(0,i.kt)("p",null,"An empty RfU payload requests all data within the specific customer-supplier relationship."),(0,i.kt)("p",null,"A RfU payload MAY specify that only MaterialDemands OR WeekBasedCapacityGroups are requested within the specific\ncustomer-supplier relationship."),(0,i.kt)("p",null,"A RfU payload MAY specify that only certain data objects, identified by their respective UUID, are requested within the\nspecific customer-supplier relationship."),(0,i.kt)("p",null,"A RfU payload MAY specify that only certain data objects, that have been updated, identified by their respective UUID\nand ChangedAt value, are requested within the specific customer-supplier relationship."),(0,i.kt)("p",null,"The following example payloads are intended to illustrate the different possible payloads of an RequestForUpdate:"),(0,i.kt)("p",null,"RfU: Send Everything"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},"{\n}\n")),(0,i.kt)("p",null,"RfU: Send only Material Demands"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "materialDemand": [\n  ]\n}\n')),(0,i.kt)("p",null,"RfU: Send only Capacity Groups"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "weekBasedCapacityGroups": [\n  ]\n}\n')),(0,i.kt)("p",null,"RfU: Send only certain Objects"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "materialDemand": [\n    {\n      "materialDemandId": "278e333d-f06b-4b59-8e95-22862f69807f"\n    },\n    {\n      "materialDemandId": "46adfa5d-36b7-4a9b-9ac6-508dac500dd2"\n    }\n  ]\n},\n{\n"weekBasedCapacityGroup": [\n{\n"capacityGroupId": "a2fc69ac-ede7-48d3-bee5-04de665d49f0"},\n{\n"capacityGroupId": "34238729-990a-4b61-b0c6-336da7b71675"}\n]\n}\n')),(0,i.kt)("p",null,"RfU: Send only certain Objects and only if my version is not up to date"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "materialDemand": [\n    {\n      "materialDemandId": "278e333d-f06b-4b59-8e95-22862f69807f"\n    },\n    {\n      "materialDemandId": "46adfa5d-36b7-4a9b-9ac6-508dac500dd2"\n    }\n  ]\n},\n{\n"weekBasedCapacityGroup": [\n{\n"capacityGroupId": "a2fc69ac-ede7-48d3-bee5-04de665d49f0"},\n{\n"capacityGroupId": "34238729-990a-4b61-b0c6-336da7b71675",\n"changedAt": "2023-03-08T11:44:27.701+01:00"\n}\n]\n}\n')),(0,i.kt)("h4",{id:"edc-data-asset-structure-2"},"EDC Data Asset Structure"),(0,i.kt)("p",null,"The HTTP POST endpoint introduced MUST NOT be called from a supply chain partner directly. Rather, it MUST be called via\nan EDC communication. Therefore, the endpoint MUST be offered as an EDC Data Asset. The latter MUST have a\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://purl.org/dc/terms/type")," with the ID ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/taxonomy#DcmIdBasedRequestForUpdate"),". It\ncan be abbreviated if the namespaces of key and value are part of the json-ld @context object (see example below). This\nproperty SHOULD be used to identify the asset when searching the assets catalog of a partner. Because the asset reflects\nthe contractual relationship between two DCM partners, only one asset with the aforementioned property for one version\nMUST be visible to the partner at any time to avoid ambiguity."),(0,i.kt)("p",null,"The API version described in this standard document MUST be published in the\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/ontology/common#version")," as version 2.0 in the asset. The requester of an asset MUST\nbe able to handle multiple assets for this endpoint, being differentiated only by the version. The requester SHOULD\nchoose the asset with the highest compatible version number implemented by themselves. If the requester cannot find a\ncompatible version with their own, the requester MUST terminate the data transfer."),(0,i.kt)("p",null,"Each DCM participant MUST ensure that only their business partners have access to the asset by using access and usage\npolicies and respective contract definitions."),(0,i.kt)("p",null,"An example EDC Data Asset definition is shown below."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: Expressions in double curly braces {{}} must be substituted with a corresponding value."),(0,i.kt)("p",{parentName:"blockquote"},"// Asset definition example for EDC management API v3 (non-normative)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "edc": "https://w3id.org/edc/v0.0.1/ns/",\n    "cx-common": "https://w3id.org/catenax/ontology/common#",\n    "cx-taxo": "https://w3id.org/catenax/taxonomy#",\n    "dct": "https://purl.org/dc/terms/"\n  },\n  "@id": "{{ ASSET_ID }}",\n  "properties": {\n    "dct:type": {\n      "@id": "cx-taxo:DcmIdBasedRequestForUpdate"\n    },\n    "description": "Endpoint for requesting updates",\n    "cx-common:version": "2.0"\n  },\n  "dataAddress": {\n    "@type": "DataAddress",\n    "type": "HttpData",\n    "baseUrl": "{{ URL-BACKEND-APPLICATION-IDBASEDREQUESTFORUPDATE-ENDPOINT }}",\n    "method": "POST",\n    "proxyBody": "true",\n    "contentType": "application/json"\n  }\n}\n')),(0,i.kt)("h4",{id:"error-handling-and-payload-validation-2"},"Error Handling and payload validation"),(0,i.kt)("p",null,"For error handling and payload validation instructions please refer to\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange")," standard."),(0,i.kt)("h3",{id:"idbasedcomment-api"},"IdBasedComment API"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," contains the information for a comment referencing the UUID of an object and can be sent from the\nsupplier to the customer and vice versa. The ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," MUST reference an object UUID of a MaterialDemand or a\nWeekBasedCapacityGroup which is exchanged between both business partners."),(0,i.kt)("p",null,"All participants participating in Catena-X DCM in the role of a supplier or a customer MUST be able to send and receive\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment"),"."),(0,i.kt)("h4",{id:"data-exchange-3"},"Data Exchange"),(0,i.kt)("p",null,"To support the exchange of ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," data, a business application MUST define a single endpoint supporting the\nHTTP POST request method as described in ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc9110"},"RFC9110"),". The structure of the\nendpoint MAY be freely chosen. The address of the endpoint MUST be provided as part of the EDC Data Asset defined in on\nthis page."),(0,i.kt)("p",null,"The applications of the customer and supplier MUST be able to send and receive ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," data using an HTTP POST\nrequest. The data format described on this page MUST be followed for the exchange of the comment information."),(0,i.kt)("p",null,"Multiple ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," aspects MAY be sent in one transfer as a JSON list. If only one ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," aspect is\ntransmitted, it MUST still be sent as a list with one entry."),(0,i.kt)("p",null,"The serialized JSON MUST NOT be larger than 15 MiB in size."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," endpoint MUST be implemented by all participants who wish to participate in the Catena-X DCM use\ncase as a customer or supplier."),(0,i.kt)("p",null,"The data payload itself MUST be a valid JSON string."),(0,i.kt)("p",null,"All attributes marked as mandatory in the respective aspect model standard MUST be included in the dataset. Attributes\nmarked as 'optional' MAY be included in the data set."),(0,i.kt)("p",null,"The usage of the attributes in the data model MUST follow the attribute descriptions of the respective aspect model and\nthe definitions in ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange"),"."),(0,i.kt)("p",null,"While some attributes are technically a string, not any string is valid. For example, ",(0,i.kt)("inlineCode",{parentName:"p"},"objectType")," MUST be as a Catena-X\naspect model unique identifier (defined on this page) without a version. For reusability reasons of the aspect model\nthere are no enum values defined in the characteristic of this property."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"author")," MUST either be a valid email address of the sending user of the comment or a BPNL of the sending company in\ncase the sending user wants to stay anonymous."),(0,i.kt)("p",null,"The comment MUST be sent with reference to an ",(0,i.kt)("inlineCode",{parentName:"p"},"objectId"),", which MUST be either a ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," UUID or\na ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," UUID."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"listOfReferenceDates")," property MAY contain all calendar weeks the sending user wants to refer to. The calendar\nweeks MUST be set to a monday of the week the commented demand or capacity belongs to without a time zone. The date\nformat MUST be in accordance with ISO8601 and MUST be in the format YYYY-MM-DD (for example 2023-02-13)."),(0,i.kt)("p",null,"In case the sending user wants to delete a comment in a Catena-X partners system, the sending application MUST send the\nvalue ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," in the property ",(0,i.kt)("inlineCode",{parentName:"p"},"requestDelete"),". As a consequence of a ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," value in the property ",(0,i.kt)("inlineCode",{parentName:"p"},"requestDelete"),", the\nreceiving application MUST delete the comment with the respective UUID including all its history following the GDPR. A\ncomment deleted once MUST never be sent by the application or be stored by the receiving application again. When\ndeleting a comment the sending application MAY send the mandatory properties plus the ",(0,i.kt)("inlineCode",{parentName:"p"},"requestDelete")," property only."),(0,i.kt)("p",null,"For deletion of a comment the receiving application MAY only check if the ",(0,i.kt)("inlineCode",{parentName:"p"},"commentID")," exists in a business partner\nrelation between customer and supplier, in case ",(0,i.kt)("inlineCode",{parentName:"p"},"objectId")," and or ",(0,i.kt)("inlineCode",{parentName:"p"},"objectType")," do not match the data currently available\nat the receiver side."),(0,i.kt)("p",null,"The sending application SHOULD remember the ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," UUIDs created by itself, so that no other app can delete\ncomments unauthorized."),(0,i.kt)("p",null,"An ",(0,i.kt)("inlineCode",{parentName:"p"},"IdBasedComment")," SHOULD always be sent with as much information as is available, so that the receiving application\ncan better decide how to process the comment."),(0,i.kt)("p",null,"For different actions that MUST be executed on a comment, there are conditional mandatory properties that the data model\ncannot map."),(0,i.kt)("p",null,"Depending on the action that must be executed on a given comment, by both receiving and sending application, the sending\napplication MUST contain the following properties in the payload (properties in bold are defined as non-optional in the\ndata model):"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property \\ Action"),(0,i.kt)("th",{parentName:"tr",align:null},"create"),(0,i.kt)("th",{parentName:"tr",align:null},"update"),(0,i.kt)("th",{parentName:"tr",align:null},"delete"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"commentId")),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"objectId")),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"objectType")),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"supplier")),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"customer")),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"commentType"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - if not, receiver can set value 'default'"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - if not, receiver can set value 'default'"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"author"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - if not, receiver can set sender BPNL from EDC"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - if not, receiver can set sender BPNL from EDC"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"postedAt"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - if not, receiver can set timestamp of receipt"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - MUST NOT differ from time of creation"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"listOfReferenceDates"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"changedAt"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD - if not receiver can set timestamp of receipt"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"commentText"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD"),(0,i.kt)("td",{parentName:"tr",align:null},"SHOULD"),(0,i.kt)("td",{parentName:"tr",align:null},"MAY")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"requestDelete"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST NOT"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST NOT"),(0,i.kt)("td",{parentName:"tr",align:null},"MUST")))),(0,i.kt)("h4",{id:"uuid-generation-and-handling-2"},"UUID generation and handling"),(0,i.kt)("p",null,"When exchanging comment data, the usage of UUIDv4 is required in order to reduce the probability of collision as well as\nto eliminate certain attack vectors. For technical purposes the UUIDv4 MUST be treated as unique within the\nsupplier-customer relationship."),(0,i.kt)("p",null,"The UUIDv4 MUST be generated according to ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc4122"},"RFC4122"),"."),(0,i.kt)("h4",{id:"edc-data-asset-structure-3"},"EDC Data Asset Structure"),(0,i.kt)("p",null,"The HTTP POST endpoint introduced MUST NOT be called from a supply chain partner directly. Rather, it MUST be called via\nan EDC communication. Therefore, the endpoint MUST be offered as an EDC Data Asset. The latter MUST have a\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://purl.org/dc/terms/type")," with the ID ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/taxonomy#DcmIdBasedComment"),". It can be\nabbreviated if the namespaces of key and value are part of the json-ld @context object (see example below). This\nproperty SHOULD be used to identify the asset when searching the assets catalog of a partner. Because the asset reflects\nthe contractual relationship between two DCM partners, only one asset with the aforementioned property for one version\nMUST be visible to the partner at any time to avoid ambiguity."),(0,i.kt)("p",null,"The API version described in this standard document MUST be published in the\nproperty ",(0,i.kt)("inlineCode",{parentName:"p"},"https://w3id.org/catenax/ontology/common#version")," as version 2.0 in the asset. The requester of an asset MUST\nbe able to handle multiple assets for this endpoint, being differentiated only by the version. The requester SHOULD\nchoose the asset with the highest compatible version number implemented by themselves. If the requester cannot find a\ncompatible version with their own, the requester MUST terminate the data transfer."),(0,i.kt)("p",null,"Each DCM participant MUST ensure that only their business partners have access to the asset by using access and usage\npolicies and respective contract definitions."),(0,i.kt)("p",null,"An example EDC Data Asset definition is shown below."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: Expressions in double curly braces {{}} must be substituted with a corresponding value."),(0,i.kt)("p",{parentName:"blockquote"},"// Asset definition example for EDC management API v3 (non-normative)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "edc": "https://w3id.org/edc/v0.0.1/ns/",\n    "cx-common": "https://w3id.org/catenax/ontology/common#",\n    "cx-taxo": "https://w3id.org/catenax/taxonomy#",\n    "dct": "https://purl.org/dc/terms/"\n  },\n  "@id": "{{ ASSET_ID }}",\n  "properties": {\n    "dct:type": {\n      "@id": "cx-taxo:DcmIdBasedComment"\n    },\n    "description": "Endpoint for receiving comments",\n    "cx-common:version": "2.0"\n  },\n  "dataAddress": {\n    "@type": "DataAddress",\n    "type": "HttpData",\n    "baseUrl": "{{ URL-BACKEND-APPLICATION-IDBASEDCOMMENT-ENDPOINT }}",\n    "method": "POST",\n    "proxyBody": "true",\n    "contentType": "application/json"\n  }\n}\n')),(0,i.kt)("h4",{id:"error-handling-and-payload-validation-3"},"Error Handling and payload validation"),(0,i.kt)("p",null,"For error handling and payload validation instructions please refer to\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0128 Demand and Capacity Management Data Exchange")," standard."),(0,i.kt)("h3",{id:"dcm-asset-administration-shell-api-aas-api"},"DCM Asset Administration Shell API (AAS API)"),(0,i.kt)("p",null,"Data Providers MAY adopt the DCM AAS API. If they choose otherwise, none of the obligations of this section apply."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," contains the demand information which is sent from the customer to the supplier. The supplier\nmaintains a set of Submodels (one for each ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),") and registers them in their Digital Twin Registry. Both\nfollow the definitions of ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup")," contains the capacity information which is sent from the supplier to the customer. The\ncustomer maintains a set of Submodels (one for each ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),") and registers them in their Digital Twin\nRegistry. Both follow the definitions of ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"."),(0,i.kt)("p",null,"All Catena-X DCM participating companies, acting as a supplier, MUST be able to host and correctly expose\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),"-Submodel and update the customer-hosted ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),"-Submodel."),(0,i.kt)("p",null,"All Catena-X DCM participating companies, acting as a customer, MUST be able to host and correctly expose\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),"-Submodel and update the supplier-hosted ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),"-Submodel."),(0,i.kt)("p",null,"If a company acts both as a supplier and a customer they MUST be able to host and update both Submodels."),(0,i.kt)("h4",{id:"api-specification"},"API Specification"),(0,i.kt)("h5",{id:"api-endpoints--resources"},"API Endpoints & Resources"),(0,i.kt)("p",null,"Exchanging Data via the DCM AAS API requires customers and suppliers to both act in the roles of data provider and data\nconsumer. The API is a superset of ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X")," with\nthe following specializations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A supplier MUST host and expose a Submodel ",(0,i.kt)("inlineCode",{parentName:"li"},"MaterialDemand")," via the Submodel-API as defined\nin ",(0,i.kt)("a",{parentName:"li",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"."),(0,i.kt)("li",{parentName:"ul"},"A customer MUST host and expose a Submodel ",(0,i.kt)("inlineCode",{parentName:"li"},"WeekBasedCapacityGroup")," via the Submodel-API as defined\nin ",(0,i.kt)("a",{parentName:"li",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"."),(0,i.kt)("li",{parentName:"ul"},"Additionally, suppliers and customers MUST offer the PatchSubmodel-Operation with the content-modifier ",(0,i.kt)("inlineCode",{parentName:"li"},"$value")," on all\nSubmodels as defined\nin ",(0,i.kt)("a",{parentName:"li",href:"https://www.plattform-i40.de/IP/Redaktion/EN/Downloads/Publikation/Details_of_the_Asset_Administration_Shell_Part2_V1.html"},"AAS Pt.2"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"A supplier MUST client-side be capable to update the ",(0,i.kt)("inlineCode",{parentName:"li"},"WeekBasedCapacityGroup"),"-Submodel hosted by the customer."),(0,i.kt)("li",{parentName:"ul"},"A customer MUST client-side be capable to update the ",(0,i.kt)("inlineCode",{parentName:"li"},"MaterialDemand"),"-Submodel hosted by the supplier.")))),(0,i.kt)("h5",{id:"data-exchange-4"},"Data Exchange"),(0,i.kt)("p",null,"Restrictions on the exchanged data can be retrieved from the data models. Additionally, the definitions on this page\napply."),(0,i.kt)("h5",{id:"uuid-generation-and-handling-3"},"UUID generation and handling"),(0,i.kt)("p",null,"When exchanging demand and capacity data, the usage of UUIDv4 is required in order to reduce the probability of\ncollision as well as to eliminate certain attack vectors. For technical purposes the UUIDv4 MUST be treated as unique\nwithin the supplier-customer relationship. For the combination of attributes: supplier, customer and\nmaterialNumberCustomer in the object ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand")," there MUST be exactly one unique UUIDv4."),(0,i.kt)("p",null,"The UUIDv4 MUST be generated according to ",(0,i.kt)("a",{parentName:"p",href:"https://www.rfc-editor.org/rfc/rfc4122"},"RFC4122"),"."),(0,i.kt)("h5",{id:"available-data-types"},"Available Data Types"),(0,i.kt)("p",null,"The API MUST use JSON as the payload transported via HTTPS."),(0,i.kt)("h5",{id:"dtr-registration"},"DTR Registration"),(0,i.kt)("p",null,"As mandated by ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),", all Data-Providers must\nprovide a Digital Twin Registry and use it to link their Submodels to identified assets. Assets in the DTR are\nidentified via ",(0,i.kt)("inlineCode",{parentName:"p"},"specificAssetIds"),"."),(0,i.kt)("p",null,"When registering Submodels with semanticId ",(0,i.kt)("inlineCode",{parentName:"p"},"MaterialDemand"),", the data provider (supplier) MUST reuse the IDs mandated\nin ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0126 Industry Core: Part Type"),", section 2.3.1."),(0,i.kt)("p",null,"When registering Submodels with semanticId ",(0,i.kt)("inlineCode",{parentName:"p"},"WeekBasedCapacityGroup"),", the data provider (customer) MUST create a\nsingle ",(0,i.kt)("inlineCode",{parentName:"p"},"specificAssetId")," with key ",(0,i.kt)("inlineCode",{parentName:"p"},"creationEntityId")," and value a UUIDv4 as value."),(0,i.kt)("p",null,"All other attributes are standardized in ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"\nor ",(0,i.kt)("a",{parentName:"p",href:"https://www.plattform-i40.de/IP/Redaktion/EN/Downloads/Publikation/Details_of_the_Asset_Administration_Shell_Part2_V1.html"},"AAS Pt.2"),"\nrespectively."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "{{id of the AAS}}",\n  "idShort": "{{short name of your AAS}}",\n  "specificAssetIds": [\n    {\n      "name": "creationEntityId",\n      "value": "{{someUuidV4}}",\n      "externalSubjectId": {\n        "type": "ExternalReference",\n        "keys": [\n          {\n            "type": "GlobalReference",\n            "value": "*"\n          }\n        ]\n      }\n    }\n  ],\n  "submodelDescriptors": [\n    {\n      "id": "{{someSubmodelId}}",\n      "semanticId": {\n        "type": "ExternalReference",\n        "keys": [\n          {\n            "type": "GlobalReference",\n            "value": "urn:samm:io.catenax.week_based_capacity_group:2.0.0#WeekBasedCapacityGroup"\n          }\n        ]\n      },\n      "endpoints": [\n        {\n          "interface": "SUBMODEL-3.0",\n          "protocolInformation": {\n            "href": "{{dataplane baseurl extended with the appropriate path ending on /submodel}}",\n            "endpointProtocol": "HTTP",\n            "endpointProtocolVersion": [\n              "1.1"\n            ],\n            "subprotocol": "DSP",\n            "subprotocolBody": "id={{ID of the edc asset the submodel is living behind}};dspEndpoint={{controlPlaneEndpoint}}",\n            "subprotocolBodyEncoding": "plain",\n            "securityAttributes": [\n              {\n                "type": "NONE",\n                "key": "NONE",\n                "value": "NONE"\n              }\n            ]\n          }\n        }\n      ]\n    }\n  ]\n}\n')),(0,i.kt)("h5",{id:"edc-registration"},"EDC Registration"),(0,i.kt)("p",null,"Obligations for the EDC Asset Definition of the Digital Twin Registry are adopted\nfrom ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"."),(0,i.kt)("p",null,"Obligations for the EDC Asset Definition of a Submodel are adopted\nfrom ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),'. Of the example below, only the "\nproperties"- section is defined as normative there. Please note that the example below only signifies a single\nregistered Submodel. While bundling several Submodels into a single EDC Asset, there are no normative requirements for\nEDC Asset properties.'),(0,i.kt)("h5",{id:"edc-data-asset"},"EDC Data Asset"),(0,i.kt)("p",null,"There are no normative statements on the section dataAddress for the EDC Asset."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "cx-common": "https://w3id.org/catenax/ontology/common#",\n    "ctx": "https://w3id.org/catenax/taxonomy#",\n    "aas-semantics": "https://admin-shell.io/aas/3/0/HasSemantics/"\n  },\n  "@id": "{{ID for the EDC Asset}}",\n  "properties": {\n    "dct:type": {\n      "@id": "ctx:Submodel"\n    },\n    "cx-common:version": "3.0",\n    "aas-semantics:semanticId": "{{URN of MaterialDemand or WeekBasedCapacityGroup Submodel}}"\n  },\n  "dataAddress": {\n    "@type": "DataAddress",\n    "type": "HttpData",\n    "proxyPath": "true",\n    "proxyBody": "true",\n    "proxyMethod": "true",\n    "proxyQueryParams": "true",\n    "baseUrl": "{{Submodel endpoint ending before /submodel}}"\n  }\n}\n')),(0,i.kt)("h5",{id:"edc-policy-definition"},"EDC Policy Definition"),(0,i.kt)("p",null,"This policy is an example to let a single business partner pass. It could be used as (part of) either a accessPolicy or\ncontractPolicy."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "@vocab": "https://w3id.org/edc/v0.0.1/ns/",\n    "odrl": "http://www.w3.org/ns/odrl/2/"\n  },\n  "@type": "PolicyDefinition",\n  "@id": "{{POLICY-DEFINITION-ID}}",\n  "policy": {\n    "odrl:permission": [\n      {\n        "odrl:action": "USE",\n        "odrl:constraint": [\n          {\n            "odrl:leftOperand": "{{BPN attribute in Data Consumer VC}}",\n            "odrl:operator": "=",\n            "odrl:rightOperand": "{{hard-coded BPN of privileged consumer}}"\n          }\n        ]\n      }\n    ],\n    "odrl:prohibition": [],\n    "odrl:obligation": []\n  }\n}\n')),(0,i.kt)("h5",{id:"edc-contract-definition"},"EDC Contract Definition"),(0,i.kt)("p",null,"This example for an EDC contract definition connects the defined policy to the defined asset."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@context": {\n    "@vocab": "https://w3id.org/edc/v0.0.1/ns/"\n  },\n  "@type": "ContractDefinition",\n  "@id": "contract-definition-id",\n  "accessPolicyId": "{{POLICY-DEFINITION-ID}}",\n  "contractPolicyId": "{{POLICY-DEFINITION-ID}}",\n  "assetsSelector": [\n    {\n      "operandLeft": "https://w3id.org/edc/v0.0.1/ns/id",\n      "operator": "=",\n      "operandRight": "{{ID for the EDC Asset}}"\n    }\n  ]\n}\n')),(0,i.kt)("h5",{id:"error-handling"},"Error Handling"),(0,i.kt)("p",null,"Error Handling is specified by ",(0,i.kt)("a",{parentName:"p",href:"https://catena-x.net/de/standard-library"},"CX-0002 Digital Twins in Catena-X"),"\nand ",(0,i.kt)("a",{parentName:"p",href:"https://www.plattform-i40.de/IP/Redaktion/EN/Downloads/Publikation/Details_of_the_Asset_Administration_Shell_Part2_V1.html"},"AAS Pt.2"),"."))}c.isMDXComponent=!0},38842:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DCMKitLogoIcon-min-eb8a08a66b369c6313f87d709f81ea6c.png"}}]);
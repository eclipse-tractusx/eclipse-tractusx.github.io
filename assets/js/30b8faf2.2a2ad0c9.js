"use strict";(self.webpackChunkeclipse_tractusx_github_io=self.webpackChunkeclipse_tractusx_github_io||[]).push([["4952"],{533730:function(e,i,n){n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var t=n(547839),s=n(474848),a=n(884429);let r={id:"skill",title:"Skill",description:"Behaviour Twin KIT"},l,o={},c=[{value:"SKILL DEFINITION",id:"skill-definition",level:2},{value:"FULL EXAMPLE",id:"full-example",level:3},{value:"DETAILED INFORMATION",id:"detailed-information",level:3},{value:"SELECT STATEMENT",id:"select-statement",level:4},{value:"PARAMETERS",id:"parameters",level:4},{value:"ASSET RESOLUTION",id:"asset-resolution",level:4},{value:"RESOLVING VEHICLE, PART OF INTEREST, ITS SUPPLIER AND THE RELATED LOAD DATA",id:"resolving-vehicle-part-of-interest-its-supplier-and-the-related-load-data",level:4},{value:"RESOLVING CALCULATION SERVICE ASSET AT SUPPLIER",id:"resolving-calculation-service-asset-at-supplier",level:4},{value:"INVOKE CALCULATION SERVICE AT SUPPLIER",id:"invoke-calculation-service-at-supplier",level:4},{value:"SKILL REGISTRATION AND INVOCATION",id:"skill-registration-and-invocation",level:2}];function h(e){let i={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{display:"block"},children:[(0,s.jsx)("div",{style:{display:"inline-block",verticalAlign:"top"},children:(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Behaviour Twin KIT -- Remaining useful Life banner",src:n(568944).A+"",width:"50",height:"42"})})}),(0,s.jsx)("div",{style:{display:"inline-block",fontSize:17,color:"rgb(255,166,1)",marginLeft:7,verticalAlign:"top",paddingTop:6},children:(0,s.jsx)(i.p,{children:"Behaviour Twin KIT -- Remaining useful Life"})})]}),"\n",(0,s.jsxs)(i.p,{children:["Applies to roles: ",(0,s.jsx)(i.em,{children:"RuL skill provider"})," and ",(0,s.jsx)(i.em,{children:"RuL consumer"})]}),"\n",(0,s.jsx)(i.h2,{id:"skill-definition",children:"SKILL DEFINITION"}),"\n",(0,s.jsx)(i.p,{children:"The example skill below is inteded to calculate RuL values of a vehicle part."}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.em,{children:"consumer"})," is also the ",(0,s.jsx)(i.em,{children:"skill proivder"}),". It requests the calculation by providing the vehicle identification numbers (VINs) of the vehicles. The ",(0,s.jsx)(i.em,{children:"data provider"})," is an OEM, the manufacturer of the vehicles. It provides the load data in form of load spectra. The supplier of the part (component of interest) provides the related RuL calculation service, which accepts load spectra as input arguments."]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.em,{children:"skill provider"})," (in this example the consumer, but could also be the ",(0,s.jsx)(i.em,{children:"data provider"}),"/OEM or a third party or a CAB body), has to implement the skill and register it over the ",(0,s.jsx)(i.em,{children:"Agent Plane API"}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["In the current example, a RuL skill for a gearbox is implemented with the ",(0,s.jsxs)(i.a,{href:"https://www.w3.org/TR/sparql11-query/",children:["SPARQL 1.1 Query Language ",(0,s.jsx)(i.img,{alt:"(external link)",src:n(602076).A+"",width:"11",height:"11"})]})," as a query. The query is a federated query, which means that it is split into two parts, one for the ",(0,s.jsx)(i.em,{children:"data provider"}),"/OEM and one for the ",(0,s.jsx)(i.em,{children:"calculation service provider"}),"/supplier. In the first part, the OEM-owned reliability asset is queried to collect the load data of the vehicles with the given VINs and in the second part, the gathered data is fed back into the respective supplier EDC connector/agent to perform a RuL calculation."]}),"\n",(0,s.jsxs)(i.p,{children:["For more information regarding skill development, registration and invocation options, see ",(0,s.jsx)(i.a,{href:"../../../../knowledge-agents-kit/operation-view/agent-edc",children:"Agents KIT's Operation View"}),"."]}),"\n",(0,s.jsx)(i.h3,{id:"full-example",children:"FULL EXAMPLE"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:'################################################################\n# Copyright (c) 2022-2024 T-Systems International GmbH\n# Copyright (c) 2022-2024 Bayerische Motoren Werke Aktiengesellschaft (BMW AG)\n# Copyright (c) 2022-2024 ZF Friedrichshafen AG\n# Copyright (c) 2022-2024 Allgemeiner Deutscher Automobil-Club e.V. (ADAC)\n# Copyright (c) 2022-2024 Mercedes-Benz AG\n# Copyright (c) 2022-2024 Contributors to the Catena-X Association\n#\n# See the NOTICE file(s) distributed with this work for additional\n# information regarding copyright ownership.\n#\n# This program and the accompanying materials are made available under the\n# terms of the Apache License, Version 2.0 which is available at\n# https://www.apache.org/licenses/LICENSE-2.0.\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n# License for the specific language governing permissions and limitations\n# under the License.\n#\n# SPDX-License-Identifier: Apache-2.0\n################################################################\n# Sample for a Federated (Consumer-Deployed) SPARQL Skill which\n#  - Jumps into an OEM-owned reliability asset given a set of candidate VINs\n#  - Feeds the gathered data back into the respective supplier connector/agent\n#.   to perform a health indication\n# Author: cgjung\n# (c) 2023-2024 Catena-X association\n################################################################\n\nPREFIX cx-common:       <https://w3id.org/catenax/ontology/common#>\nPREFIX cx-core:         <https://w3id.org/catenax/ontology/core#>\nPREFIX cx-vehicle:      <https://w3id.org/catenax/ontology/vehicle#>\nPREFIX cx-reliability:  <https://w3id.org/catenax/ontology/reliability#>\nPREFIX cx-behaviour:    <https://w3id.org/catenax/ontology/behaviour#>\nPREFIX rdf:             <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:            <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd:             <http://www.w3.org/2001/XMLSchema#>\nPREFIX json:            <https://json-schema.org/draft/2020-12/schema#>\nPREFIX bpnl:            <bpn:legal:>\n\n################################################################\n# Sample for a Federated (Consumer-Deployed) SPARQL Skill which\n#  - Jumps into an OEM-owned reliability asset given a set of candidate VANs\n#  - Feeds the gathered data back into the respective supplier connector/agent\n#.   to perform a health indication\n# Author: cgjung\n# (c) 2023-2024 Catena-X association\n################################################################\n\nSELECT ?vehicle ?vin ?aggregate ?assembly ?supplier ?lc ?operatingTime ?mileage ?recordDate ?ls_type ?ls_name ?ls_value ?ls_unit ?ls_method ?ls_channels ?ls_classes ?ls_values ?distanceKm ?timeHours WHERE {\n\n  VALUES (?vin ?aggregate ?ls_type) {\n      ("@vin"^^xsd:string "Differential Gear"^^xsd:string "GearOil"^^xsd:string)\n  }\n\n  bpnl:BPNL000000000OEM cx-common:hasConnector ?oemEDC .\n  ?oemEDC cx-common:offers [ rdfs:isDefinedBy <https://w3id.org/catenax/ontology/reliability> ; cx-common:id ?reliabilityAssetId ] .\n\n  SERVICE ?oemEDC {\n      GRAPH ?reliabilityAssetId {\n        ?vehicle rdf:type cx-vehicle:Vehicle ;\n            cx-vehicle:vehicleIdentificationNumber ?vin .\n\n        ?assembly rdf:type cx-vehicle:Part ;\n            cx-vehicle:name ?aggregate ;\n            cx-vehicle:isPartOf ?vehicle ;\n            cx-vehicle:supplier ?supplier .\n\n        ?teleAnalysis rdf:type cx-reliability:Analysis ;\n            cx-reliability:analysedObject ?assembly ;\n            cx-reliability:operatingHoursOfVehicle ?operatingTime ;\n            cx-reliability:mileageOfVehicle ?mileage ;\n            cx-core:startDateTime ?recordDate ;\n            cx-reliability:result [\n                cx-core:id ?ls_type ;\n                cx-core:name ?ls_name ;\n                cx-reliability:countingValue ?ls_value ;\n                cx-reliability:countingUnit ?ls_unit ;\n                cx-reliability:countingMethod ?ls_method ;\n                cx-reliability:channels ?ls_channels ;\n                cx-reliability:classes ?ls_classes ;\n                cx-reliability:values ?ls_values\n            ] .\n    } # OEM#GRAPH\n\n    ?supplier cx-common:hasConnector ?supplierEDC.\n    ?supplierEDC cx-common:offers [ rdfs:isDefinedBy <https://w3id.org/catenax/ontology/behaviour> ; cx-common:id ?prognosisAssetId ] .\n\n    SERVICE ?supplierEDC {\n        GRAPH ?prognosisAssetId {\n            ?invocation a cx-behaviour:RemainingUsefulLife ;\n                    cx-behaviour:sender bpnl:BPNL00000003AYRE ;\n                    cx-behaviour:senderConnector ?oemEDC ;\n                    cx-behaviour:recipient ?supplier ;\n                    cx-behaviour:recipientConnector ?supplierEDC ;\n                    cx-behaviour:targetDate ?recordDate ;\n                    cx-behaviour:timeStamp ?recordDate ;\n                    cx-behaviour:component "GearBox" ;\n                    cx-behaviour:statusDate ?recordDate ;\n                    cx-behaviour:statusOperatingHours ?operatingTime ;\n                    cx-behaviour:statusMileage ?mileage ;\n                    cx-behaviour:countingValue ?ls_value ;\n                    cx-behaviour:countingUnit ?ls_unit ;\n                    cx-behaviour:countingMethod ?ls_method ;\n                    cx-behaviour:headerChannels ?ls_channels ;\n                    cx-behaviour:bodyClasses ?ls_classes ;\n                    cx-behaviour:bodyCountsList ?ls_values ;\n                    cx-behaviour:remainingOperatingHours ?timeHours ;\n                    cx-behaviour:remainingRunningDistance ?distanceKm .\n        } # SUPPLIER#GRAPH\n    } # SUPPLIER#CATALOG\n\n  } # OEM#CATALOG\n\n} # SELECT\n'})}),"\n",(0,s.jsx)(i.h3,{id:"detailed-information",children:"DETAILED INFORMATION"}),"\n",(0,s.jsx)(i.h4,{id:"select-statement",children:"SELECT STATEMENT"}),"\n",(0,s.jsx)(i.p,{children:"The select statement defines, which data should be returned."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:"SELECT ?vehicle ?vin ?aggregate ?assembly ?supplier ?lc ?operatingTime ?mileage ?recordDate ?ls_type ?ls_name ?ls_value ?ls_unit ?ls_method ?ls_channels ?ls_classes ?ls_values ?distanceKm ?timeHours WHERE {\n"})}),"\n",(0,s.jsx)(i.h4,{id:"parameters",children:"PARAMETERS"}),"\n",(0,s.jsxs)(i.p,{children:["The parameter ",(0,s.jsx)(i.code,{children:"vin"})," (list of VINs for vehicles of interest) is the only external parameter that is provided by the caller of this skill. ",(0,s.jsx)(i.code,{children:"aggregate"})," is set to ",(0,s.jsx)(i.code,{children:"Differential Gear"})," to identify the component of interest (gearbox). ",(0,s.jsx)(i.code,{children:"ls_type"})," is set to ",(0,s.jsx)(i.code,{children:"GearOil"}),". This is done, because prognosis functions for the given gearbox can provide RuL values for that."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:'  VALUES (?vin ?aggregate ?ls_type) {\n      ("@vin"^^xsd:string "Differential Gear"^^xsd:string "GearOil"^^xsd:string)\n  }\n'})}),"\n",(0,s.jsx)(i.h4,{id:"asset-resolution",children:"ASSET RESOLUTION"}),"\n",(0,s.jsx)(i.p,{children:"The OEM's business partner number (BPNL) is known. A entity can have only one BPNL, but more than one EDC connectors. Therefore, the connector which provides the reliability asset (usage data asset for reliability related use cases), must be resolved. In addition, the ID of the offered asset is also resolved."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:"  bpnl:BPNL000000000OEM cx-common:hasConnector ?oemEDC .\n  ?oemEDC cx-common:offers [ rdfs:isDefinedBy <https://w3id.org/catenax/ontology/reliability ; cx-common:id ?reliabilityAssetId ] .\n"})}),"\n",(0,s.jsx)(i.h4,{id:"resolving-vehicle-part-of-interest-its-supplier-and-the-related-load-data",children:"RESOLVING VEHICLE, PART OF INTEREST, ITS SUPPLIER AND THE RELATED LOAD DATA"}),"\n",(0,s.jsx)(i.p,{children:"At the OEM's EDC connector, the graph asset of the usage data is requested. Doing so, a sub-skill is transferred to the OEM's Knowledge Agent. At the OEM, the vehicle is resolved by its VIN. Then, the part of interrest (assembly) and its supplier are resolved by the part's name. At the end, the load for that part can be resolved."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:"  SERVICE ?oemEDC {\n      GRAPH ?reliabilityAssetId {\n        ?vehicle rdf:type cx-vehicle:Vehicle ;\n            cx-vehicle:vehicleIdentificationNumber ?vin .\n\n        ?assembly rdf:type cx-vehicle:Part ;\n            cx-vehicle:name ?aggregate ;\n            cx-vehicle:isPartOf ?vehicle ;\n            cx-vehicle:supplier ?supplier .\n\n        ?teleAnalysis rdf:type cx-reliability:Analysis ;\n            cx-reliability:analysedObject ?assembly ;\n            cx-reliability:operatingHoursOfVehicle ?operatingTime ;\n            cx-reliability:mileageOfVehicle ?mileage ;\n            cx-core:startDateTime ?recordDate ;\n            cx-reliability:result [\n                cx-core:id ?ls_type ;\n                cx-core:name ?ls_name ;\n                cx-reliability:countingValue ?ls_value ;\n                cx-reliability:countingUnit ?ls_unit ;\n                cx-reliability:countingMethod ?ls_method ;\n                cx-reliability:channels ?ls_channels ;\n                cx-reliability:classes ?ls_classes ;\n                cx-reliability:values ?ls_values\n            ] .\n    } # OEM#GRAPH\n"})}),"\n",(0,s.jsx)(i.h4,{id:"resolving-calculation-service-asset-at-supplier",children:"RESOLVING CALCULATION SERVICE ASSET AT SUPPLIER"}),"\n",(0,s.jsx)(i.p,{children:"At the OEM, the supplier of the part of interest gets resolved, as well as the related asset for the RuL calculation."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:"    ?supplier cx-common:hasConnector ?supplierEDC.\n    ?supplierEDC cx-common:offers [ rdfs:isDefinedBy <https://w3id.org/catenax/ontology/behaviour> ; cx-common:id ?prognosisAssetId ] .\n"})}),"\n",(0,s.jsx)(i.h4,{id:"invoke-calculation-service-at-supplier",children:"INVOKE CALCULATION SERVICE AT SUPPLIER"}),"\n",(0,s.jsx)(i.p,{children:"At the supplier's EDC connector, the graph asset of the RuL calculation service is requested. Doing so, a sub-skill is transferred to the supplier's Knowledge Agent. At the supplier, the RuL calculation service is called implicit due to its service binding to the knowledge graph. The result then is bound to the knowledge graph."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-sparql",children:'    SERVICE ?supplierEDC {\n        GRAPH ?prognosisAssetId {\n            ?invocation a cx-behaviour:RemainingUsefulLife ;\n                    cx-behaviour:sender bpnl:BPNL00000003AYRE ;\n                    cx-behaviour:senderConnector ?oemEDC ;\n                    cx-behaviour:recipient ?supplier ;\n                    cx-behaviour:recipientConnector ?supplierEDC ;\n                    cx-behaviour:targetDate ?recordDate ;\n                    cx-behaviour:timeStamp ?recordDate ;\n                    cx-behaviour:component "GearBox" ;\n                    cx-behaviour:statusDate ?recordDate ;\n                    cx-behaviour:statusOperatingHours ?operatingTime ;\n                    cx-behaviour:statusMileage ?mileage ;\n                    cx-behaviour:countingValue ?ls_value ;\n                    cx-behaviour:countingUnit ?ls_unit ;\n                    cx-behaviour:countingMethod ?ls_method ;\n                    cx-behaviour:headerChannels ?ls_channels ;\n                    cx-behaviour:bodyClasses ?ls_classes ;\n                    cx-behaviour:bodyCountsList ?ls_values ;\n                    cx-behaviour:remainingOperatingHours ?timeHours ;\n                    cx-behaviour:remainingRunningDistance ?distanceKm .\n        } # SUPPLIER#GRAPH\n    } # SUPPLIER#CATALOG\n\n  } # OEM#CATALOG\n\n} # SELECT\n'})}),"\n",(0,s.jsx)(i.h2,{id:"skill-registration-and-invocation",children:"SKILL REGISTRATION AND INVOCATION"}),"\n",(0,s.jsxs)(i.p,{children:["For skill registration and invocation, have a look at the ",(0,s.jsx)(i.a,{href:"../../../software-development-view/skill#skill-registration",children:"general Development View"}),"."]})]})}function d(e={}){let{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},602076:function(e,i,n){n.d(i,{A:()=>t});let t="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHZpZXdCb3g9Ii0uNSAtLjUgMTEgMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgc3Ryb2tlPSIjZmFhMDIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIj48cGF0aCBkPSJNMTAgNXY1SDBWMGg1IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTQgNWwxLjM5LTEuMTYiIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iLjEiLz48cGF0aCBkPSJNMTAgMEw2LjY3IDUuMzggNC4xMSAyLjN6IiBmaWxsPSIjZmFhMDIzIiBzdHJva2Utd2lkdGg9Ii4xIi8+PHBhdGggZD0iTTIgN2w0LTQiIGZpbGw9Im5vbmUiLz48L2c+PC9zdmc+"},568944:function(e,i,n){n.d(i,{A:()=>t});let t=n.p+"assets/images/behaviour-twin-rul-kit-icon-mini-284c453a1e4edf574a034868b618d468.svg"},884429:function(e,i,n){n.d(i,{R:()=>r,x:()=>l});var t=n(296540);let s={},a=t.createContext(s);function r(e){let i=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:i},e.children)}},547839:function(e){e.exports=JSON.parse('{"id":"kits/behaviour-twin-kit/use-cases/rul/development-view/skill","title":"Skill","description":"Behaviour Twin KIT","source":"@site/docs-kits/kits/behaviour-twin-kit/use-cases/rul/development-view/skill.md","sourceDirName":"kits/behaviour-twin-kit/use-cases/rul/development-view","slug":"/kits/behaviour-twin-kit/use-cases/rul/development-view/skill","permalink":"/docs-kits/next/kits/behaviour-twin-kit/use-cases/rul/development-view/skill","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"skill","title":"Skill","description":"Behaviour Twin KIT"},"sidebar":"kits","previous":{"title":"Service Bindings","permalink":"/docs-kits/next/kits/behaviour-twin-kit/use-cases/rul/development-view/service-bindings"},"next":{"title":"Health Indicator","permalink":"/docs-kits/next/kits/behaviour-twin-kit/use-cases/hi/overview"}}')}}]);